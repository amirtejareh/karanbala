"use strict";(self.webpackChunkkaranbala=self.webpackChunkkaranbala||[]).push([[735],{8177:function(e,n,r){var t=r(8467),i=r(1688),o=r(5200),a=r(7313),s=r(6417);n.Z=function(e){var n,r=e.route,l=e.userRole,u=e.children,c=(0,i.M)((function(e){return e})),d=c.accessToken,f=c.setAccessToken,m=(0,i.H)((function(e){return e})).setUser,p=(0,t.s0)();(0,a.useEffect)((function(){if(d){var e=(0,o.Z)(null!==d&&void 0!==d?d:localStorage.getItem("auth-storage"));Math.floor(Date.now()/1e3)>e.exp&&(localStorage.removeItem("auth-storage"),m(null),f(null),p("/"))}else localStorage.removeItem("auth-storage"),m(null),f(null),p("/")}),[d,p]);var h=null===l||void 0===l||null===(n=l.roles)||void 0===n?void 0:n.some((function(e){var n;return r.requiredRoles.includes(e.title)&&(null===(n=e.permissions)||void 0===n?void 0:n.some((function(e){return e.resource===r.resource&&e.action===r.action})))}));return h||void 0===h?(0,s.jsx)(s.Fragment,{children:u}):(localStorage.removeItem("auth-storage"),m(null),f(null),(0,s.jsx)(t.Fg,{to:"/"}))}},2531:function(e,n,r){var t=r(1413),i=r(5987),o=r(4942),a=r(7313),s=r(3061),l=r(8070),u=r(3929),c=r(4758),d=r(6307),f=r(6417),m=["width","height","simple","label","error","secondary"],p=(0,l.Z)((function(e){return{formControlLabelRoot:{userSelect:"none",transition:"0.3s all ease","& > .Mui-checked + *":{fontWeight:"bold"},margin:0},root:{"&:hover":{backgroundColor:"transparent"},"& input":{display:"none"},paddingTop:0,paddingBottom:0,paddingRight:0},icon:(0,o.Z)({borderRadius:2,width:function(e){return e.width?e.width:18},height:function(e){return e.height?e.height:18},border:"solid 1px",backgroundColor:function(n){return n.simple?e.palette.common.white:e.palette.grey[400]},borderColor:e.palette.grey[400],padding:2,"$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},e.breakpoints.down(600),{width:20,height:20,borderRadius:5}),checkedIcon:{"input ~ &":{backgroundColor:function(n){return n.simple?e.palette.common.white:e.palette.info.main}},"&:before":(0,o.Z)({content:'""',display:"block",width:18,height:18,backgroundPosition:"center",backgroundRepeat:"no-repeat"},e.breakpoints.down(600),{width:20,height:20}),"input:hover ~ &":{backgroundColor:function(n){return n.simple?e.palette.common.white:e.palette.info.main}}},error:{color:e.palette.error.main}}})),h=a.forwardRef((function(e,n){var r=e.width,o=e.height,l=e.simple,h=e.label,v=e.error,x=e.secondary,Z=(0,i.Z)(e,m),g=p({simple:l,secondary:x,width:r,height:o});return(0,f.jsx)(u.Z,{classes:{root:g.formControlLabelRoot},control:(0,f.jsx)(c.Z,(0,t.Z)({className:g.root,disableRipple:!0,color:"default",checkedIcon:(0,f.jsx)(d.PkT,{className:(0,s.Z)(g.icon,g.checkedIcon)}),icon:(0,f.jsx)("span",{className:g.icon}),inputProps:{"aria-label":"decorative checkbox"},ref:n},Z)),label:v&&h?a.cloneElement(h,{className:g.error}):h})}));n.Z=h,h.defaultProps={label:""}},9213:function(e,n,r){r.d(n,{p:function(){return C},q:function(){return _}});var t=r(9439),i=r(5987),o=r(1413),a=r(7313),s=r(6241),l=r(8070),u=r(9860),c=r(4813),d=r(4469),f=r(3604),m=r(6467),p=r(7131),h=r(301),v=r(6307),x=r(6417),Z=["children","onClose"],g=["opener","title","onSubmit","onOpen","children","secondary","fullScreen","onClose","modalState"],j=a.forwardRef((function(e,n){return(0,x.jsx)(h.Z,(0,o.Z)({direction:"up",ref:n},e))})),b=(0,s.Z)((function(e){return{root:{margin:0,padding:e.spacing(5),paddingBottom:e.spacing(3),paddingTop:e.spacing(2),color:"#1D252F !important","& .MuiIconButton-root":{position:"absolute",left:e.spacing(1),top:e.spacing(1.5),"& svg":{color:function(n){return e.palette.grey[600]},width:"1.4rem",height:"1.4rem"},"&:hover":{svg:{color:function(n){return e.palette.primary.main}}}}}}}))((function(e){var n=e.children,r=e.onClose,t=(0,i.Z)(e,Z);return(0,x.jsxs)(f.Z,(0,o.Z)((0,o.Z)({},t),{},{children:[n,r?(0,x.jsx)(p.Z,{size:"small","aria-label":"close",color:"secondary",onClick:r,children:(0,x.jsx)(v.sZC,{color:"secondary"})}):null]}))})),y=(0,s.Z)((function(e){return{root:{padding:e.spacing(5),fontSize:"18px !important",color:"#1D252F",minHeight:"15rem"}}}))(m.Z),w=(0,l.Z)((function(){return{paper:{width:"100%",backgroundImage:"none",backgroundColor:"#fff"}}})),C=function(e){var n=e.opener,r=e.title,s=e.onSubmit,l=e.onOpen,f=e.children,m=(e.secondary,e.fullScreen),p=e.onClose,h=e.modalState,v=void 0!==h&&h,Z=(0,i.Z)(e,g),C=a.useState(v),S=(0,t.Z)(C,2),k=S[0],A=S[1],R=(0,u.Z)(),F=(0,c.Z)(R.breakpoints.down("sm")),N=w();a.useEffect((function(){A(v)}),[v]);var U=function(){p&&p(),A(!1)};return(0,x.jsxs)(x.Fragment,{children:[n&&a.cloneElement(n,{onClick:function(){l&&l(),A(!0)}}),(0,x.jsxs)(d.Z,(0,o.Z)((0,o.Z)({fullScreen:m||F,maxWidth:"xs",onClose:U,"aria-labelledby":"customized-dialog-title",classes:{paper:N.paper},open:k,TransitionComponent:j},Z),{},{children:[r&&(0,x.jsx)(b,{id:"customized-dialog-title",onClose:U,children:r}),(0,x.jsx)(y,{children:f({handleApproved:function(){A(!1),s&&s(),p&&p(),A(!1)},handleClose:U})})]}))]})},S=r(2868),k=r(4117),A=r(9735),R=["children","onClose"],F=(0,l.Z)((function(e){return{dialogStyle:{"& h2":(0,o.Z)((0,o.Z)({},e.typography.body1),{},{fontWeight:500}),borderBottom:"1px solid ".concat(e.palette.grey[300]),padding:"2rem"},dialogActionStyle:{padding:"2rem ",display:"flex",justifyContent:"center"}}})),N=a.forwardRef((function(e,n){return(0,x.jsx)(h.Z,(0,o.Z)({direction:"up",ref:n},e))})),U=(0,s.Z)((function(e){return{root:{margin:0,padding:e.spacing(5),paddingBottom:e.spacing(3),paddingTop:e.spacing(2),"& .MuiIconButton-root":{position:"absolute",left:e.spacing(1),top:e.spacing(1.5),"& svg":{color:function(n){return e.palette.grey[600]},width:"1.4rem",height:"1.4rem"},"&:hover":{svg:{color:function(n){return e.palette.primary.main}}}}}}}))((function(e){var n=e.children,r=e.onClose,t=(0,i.Z)(e,R);return(0,x.jsxs)(f.Z,(0,o.Z)((0,o.Z)({},t),{},{children:[n,r?(0,x.jsx)(p.Z,{size:"small","aria-label":"close",color:"secondary",onClick:r,children:(0,x.jsx)(v.sZC,{color:"secondary"})}):null]}))})),T=(0,s.Z)((function(e){return{root:{paddingTop:"".concat(e.spacing(2),"!important "),color:"dark"===e.palette.mode?"".concat(e.palette.grey[50]," !important"):"".concat(e.palette.grey.A200," !important")}}}))(m.Z),_=function(e){var n=F(),r=e.prompModalState,i=void 0!==r&&r,o=e.onClose,s=a.useState(i),l=(0,t.Z)(s,2),u=l[0],c=l[1];a.useEffect((function(){c(i)}),[i]);var f=function(){c(!1),o&&o(),c(!1)},m={title:e.title||"",content:e.description||"\u0622\u06cc\u0627 \u0627\u0632 \u0627\u0646\u062c\u0627\u0645 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f \u061f",approved:e.approved||"\u0628\u0644\u0647",denied:e.denied||"\u062e\u06cc\u0631"};return(0,x.jsxs)(x.Fragment,{children:[a.cloneElement(e.children,{onClick:function(){c(!0)}}),(0,x.jsxs)(d.Z,{open:u,TransitionComponent:N,onClose:f,maxWidth:"sm","aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[(0,x.jsx)(U,{onClose:f,id:"alert-dialog-slide-title",children:m.title}),(0,x.jsx)(T,{children:(0,x.jsx)(S.Z,{id:"alert-dialog-slide-description",children:m.content})}),(0,x.jsxs)(k.Z,{className:n.dialogActionStyle,children:[(0,x.jsx)(A.b,{autoFocus:!0,variant:"contained",onClick:function(){e.onConfirm(),c(!1),o&&o(),c(!1)},size:"xs",children:m.approved}),e.denied&&(0,x.jsx)(A.b,{variant:"outlined",onClick:f,size:"xs",children:m.denied})]})]})]})}},2985:function(e,n,r){var t=r(4165),i=r(5861),o=r(56),a=r(284);n.Z=function(){return(0,o.useQuery)(["Get-All-Objective-Tests"],(0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.AA.objectiveTestControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})}},3245:function(e,n,r){r.r(n),r.d(n,{default:function(){return Qn}});var t=r(7313),i=r(8467),o=r(9506),a=r(1113),s=r(7131),l=r(8070),u=r(3433),c=r(9439),d=r(9099),f=r(2135),m=r(6417),p=function(e){var n=(0,t.useState)([{key:"",value:!1}]),r=(0,c.Z)(n,2),i=r[0],o=r[1],a=e.item,s=e.depthLevel,l=(0,t.useRef)();return(0,m.jsx)("li",{className:"menu-items",ref:l,children:a.category?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"categoryTitle",children:a.category.title}),a.category.children.map((function(e,n){var r;return(0,m.jsx)(t.Fragment,{children:e.submenu?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("button",{type:"button","aria-haspopup":"menu",onClick:function(){o((function(n){var r;return[].concat((0,u.Z)(n),[{key:e.title,value:!(null!==(r=n[n.map((function(e){return e.key})).lastIndexOf(e.title)])&&void 0!==r&&r.value)}])}))},style:{display:"flex",justifyContent:"space-between"},children:[e.title," ",s>0?(0,m.jsx)("span",{children:"\xbb"}):(0,m.jsxs)(m.Fragment,{children:[" ",null!==(r=i[i.map((function(e){return e.key})).lastIndexOf(e.title)])&&void 0!==r&&r.value?(0,m.jsx)("span",{className:"arrow"}):(0,m.jsx)("span",{className:"arrow-left"})]})]}),(0,m.jsx)(h,{depthLevel:s,submenus:e.submenu,subtitle:i,index:e.title})]}):(0,m.jsx)(d.Z,{disableRipple:!0,component:f.OL,to:e.to,startIcon:e.startIcon,children:e.title})},n)}))]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(d.Z,{disableRipple:!0,component:f.OL,to:a.to,startIcon:a.startIcon,children:a.title})})})},h=function(e){var n,r=e.submenus,t=e.depthLevel,i=e.index,o=e.subtitle,a=o.map((function(e){return e.key})).lastIndexOf(i),s=(t+=1)>1?"dropdown-submenu":"";return(0,m.jsx)("ul",{"data-id":i,className:"dropdown ".concat(s," ").concat(null!==(n=o[a])&&void 0!==n&&n.value?"show":""),children:r.map((function(e,n){return(0,m.jsx)(p,{item:e,depthLevel:t},n)}))})},v=(0,r(7894).Z)(o.Z)((function(){return"\n  :root{\n    font-family:IRANSans !important;\n    }\n  \n  .menus {\n    display: flex;\n    list-style: none;\n    direction: ltr;\n    flex-direction: column;\n    \n  }\n  .menu-items {\n    position: relative;\n    text-align: left;\n    \n  }\n  \n  .menu-items a,\n  .menu-items button {\n    margin: 0 ;\n    padding:0 10px 0  0;\n    line-height: 2;\n    font-family:IRANSans !important;\n\n  }\n  \n  .menu-items a {\n    display: block;\n    color: inherit;\n    text-decoration: none;\n  }\n  \n  .menu-items button {\n    color: inherit;\n    font-size: inherit;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    width: 100%;\n  }\n \n  .arrow::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-top: 0.42em solid;\n    border-right: 0.32em solid transparent;\n    border-left: 0.32em solid transparent;\n  }\n\n  .arrow-left::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-bottom: 0.32em solid transparent;\n    border-right: 0.32em solid  transparent;\n    border-left: 0.42em solid ;\n    border-top: 0.32em solid transparent;\n  }\n\n  .categoryTitle{\n    color: #707e8d\n  }\n  \n  .dropdown {\n\n    box-shadow: 0 10px 15px -3px rgba(46, 41, 51, 0.08),\n    0 4px 6px -2px rgba(71, 63, 79, 0.16);\n    z-index: 9999;\n    min-width: 100px;\n    padding: 0.5rem 0;\n    border-radius: 0.5rem;\n    list-style-type: disc; \n    display: none;\n  }\n  \n  .dropdown.show {\n    display: block;\n    padding: 0 28px;\n  }\n  \n  .dropdown .dropdown-submenu {\n    position: absolute;\n    left: 10px;\n    top: 15px\n  }\n  span{ display: inline}\n  span .MuiSvgIcon-root{font-size:15px}\n  "})),x=function(e){var n=e.children;return(0,m.jsx)(v,{children:(0,m.jsx)("ul",{className:"menus",children:n})})},Z=function(e){var n=e.items;return(0,m.jsx)(x,{children:n.map((function(e,n){return(0,m.jsx)(p,{item:e,depthLevel:0,children:" "},n)}))})},g=r(7887),j=r(1765),b=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,m.jsx)(g.Z,{})},{title:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f",to:"/pv/karanbala/admin",startIcon:(0,m.jsx)(j.Z,{})},{category:{children:[{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u062d\u062a\u0648\u0627",submenu:[{title:"\u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/field-of-study"},{title:"\u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/grade-level"},{title:"\u06a9\u062a\u0627\u0628 \u0645\u0631\u062c\u0639",to:"/pv/karanbala/admin/book-reference"},{title:"\u06a9\u062a\u0627\u0628",to:"/pv/karanbala/admin/book"},{title:"\u0641\u0635\u0644",to:"/pv/karanbala/admin/chapter"},{title:"\u0628\u062e\u0634",to:"/pv/karanbala/admin/section"},{title:"\u0645\u0648\u0636\u0648\u0639",to:"/pv/karanbala/admin/subject"}]},{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0622\u0632\u0645\u0648\u0646",submenu:[{title:"\u0627\u06cc\u062c\u0627\u062f \u0622\u0632\u0645\u0648\u0646",to:"/pv/karanbala/admin/objective-test"},{title:"\u0627\u06cc\u062c\u0627\u062f \u0634\u0646\u0627\u0633\u0646\u0627\u0645\u0647 \u0633\u0648\u0627\u0644",to:"/pv/karanbala/admin/question"},{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0622\u0632\u0645\u0648\u0646",to:"/pv/karanbala/admin/objective-test-management"}]}]}}],y=r(2702),w=r(8177),C=r(5554),S=r(1413),k=r(4165),A=r(5861),R=r(6783),F=r(5281),N=r(5627),U=r(1387),T=r(56),_=r(284),L=function(){return(0,T.useMutation)((function(e){return _.uY.fieldOfStudyControllerCreate((0,S.Z)({},e))}))},E=function(){return(0,T.useMutation)((function(e){return _.uY.fieldOfStudyControllerUpdate(e.id,(0,S.Z)({},e))}))},O=function(){return(0,T.useQuery)(["Get-All-Field-Of-Studies"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.uY.fieldOfStudyControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},W=function(){return(0,T.useMutation)((function(e){return _.uY.fieldOfStudyControllerRemove(e)}))},B=r(6307),q=r(9213),I=r(4942),P=r(5987),M=r(7551),z=r(1629),H=r(6835),D=r(3477),G=r(4076),Q=r(7478),K=r(4758),Y=r(3467),V=r(5033),X=r(5743),$=r(3061),J=r(7970),ee=r(38),ne=["rowsPerPage","onRowsPerPageChange","total"],re=(0,l.Z)((function(e){return(0,ee.Z)({root:{width:"100%",display:"flex",justifyContent:"center","& > *":{marginTop:e.spacing(2)},"& .MuiPaginationItem-page":{backgroundColor:e.palette.background.paper},"& .MuiPagination-ul":{justifyContent:"flex-start"},"& .Mui-selected":{backgroundColor:"".concat(e.palette.primary.main," !important"),color:e.palette.background.paper,boxShadow:"0 14px 26px -12px rgb(103 28 201 / 42%), 0 4px 23px 0px rgb(0 0 0 / 12%), 0 8px 10px -5px rgb(103 28 201 / 20%)"}}})})),te=function(e){e.rowsPerPage,e.onRowsPerPageChange,e.total;var n=(0,P.Z)(e,ne),r=re();return(0,m.jsx)("div",{className:r.root,children:(0,m.jsx)(J.Z,(0,S.Z)({defaultPage:1,color:"primary",variant:"outlined"},n))})},ie=["headers","loading","children","rows","onSelect","expandHeader","menuHeader","pagination","onExpand","emptyNode","emptyRows","newItems","successItems","errorItems","edit","secondary","successHeader","errorHeader","hasStyle"],oe=(0,l.Z)((function(e){return{skeleton:{borderRadius:0},loadingTD:{border:"none",paddingBottom:"0",paddingRight:"0",paddingLeft:"0",paddingTop:"0"},moreIcon:{},successRow:{backgroundColor:"".concat((0,M.Fq)(e.palette.success.dark,.13)," !important")},errorRow:{backgroundColor:"".concat((0,M.Fq)(e.palette.error.dark,.1)," !important")},secondary:{"& .MuiTableCell-head":{backgroundColor:"transparent"},"& .MuiTableBody-root":{"& tr:nth-of-type(even)":{backgroundColor:"transparent"},"& tr:nth-of-type(odd)":{backgroundColor:"transparent"}}},successHeader:{"&.MuiTableCell-head":{color:e.palette.success.main}},errorHeader:{"&.MuiTableCell-head":{color:e.palette.error.dark}},"$MuiTableCell-body":{padding:"1.6rem"},sumColumns:{"& .MuiTableCell-body":{backgroundColor:"#2e2e33",paddingTop:"20px !important",paddingBottom:"20px !important"}}}})),ae=function(e){var n=e.headers,r=e.loading,i=(e.children,e.rows),o=e.onSelect,a=e.expandHeader,l=e.menuHeader,u=e.pagination,d=e.onExpand,f=e.emptyNode,p=(e.emptyRows,e.newItems,e.successItems,e.errorItems,e.edit,e.secondary),h=e.successHeader,v=e.errorHeader,x=(e.hasStyle,(0,P.Z)(e,ie)),Z=oe({secondary:p,successHeader:h,errorHeader:v}),g=t.useState([]),j=(0,c.Z)(g,2),b=j[0],y=j[1],w=t.useState({}),C=(0,c.Z)(w,2),k=C[0],A=C[1],R=n.length;a&&(R+=1),l&&(R+=1),o&&(R+=1),t.useMemo((function(){u&&A({})}),[null===u||void 0===u?void 0:u.page,null===u||void 0===u?void 0:u.rowsPerPage]);return(0,m.jsxs)(z.Z,{children:[(0,m.jsxs)(H.Z,(0,S.Z)((0,S.Z)({className:(0,$.Z)(Z.table,(0,I.Z)({},Z.secondary,p)),"aria-label":"table"},x),{},{children:[(0,m.jsx)(D.Z,{children:(0,m.jsxs)(G.Z,{children:[o&&(0,m.jsx)(Q.Z,{padding:"checkbox",children:(0,m.jsx)(K.Z,{indeterminate:b.length>0&&b.length<i.length,checked:i.length>0&&b.length===i.length,onChange:function(e){if(e.target.checked){var n=i.reduce((function(e,n){var r=n.id;return r&&e.push(r),e}),[]);return o&&o(n),void y(n)}y([])},inputProps:{"aria-label":"select all desserts"}})}),a&&(0,m.jsx)(Q.Z,{width:150,component:"th",children:a}),n.map((function(e,n){var r;return(0,m.jsx)(Q.Z,(0,S.Z)((0,S.Z)({},e),{},{component:"th",className:(0,$.Z)((r={},(0,I.Z)(r,Z.successHeader,h),(0,I.Z)(r,Z.errorHeader,v),r))}),n)})),l&&(0,m.jsx)(Q.Z,{width:150,component:"th",children:l})]})}),r?(0,m.jsx)(m.Fragment,{children:"Loading..."}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(Y.Z,{children:[(null===i||void 0===i?void 0:i.length)>0?null===i||void 0===i?void 0:i.map((function(e,n){var r,i=e.data,a=e.expandNode,l=e.expandNodeContent,u=e.id,c=e.onPressTitle,f=e.clickOnIndexId,p=void 0===f?0:f,h=!!u&&(r=u,-1!==b.indexOf(r));return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsxs)(G.Z,{hover:!0,role:"checkbox","aria-checked":h,tabIndex:-1,selected:h,children:[o&&(0,m.jsx)(Q.Z,{onClick:function(e){return function(e,n){var r=b.indexOf(n),t=[];-1===r?t=t.concat(b,n):0===r?t=t.concat(b.slice(1)):r===b.length-1?t=t.concat(b.slice(0,-1)):r>0&&(t=t.concat(b.slice(0,r),b.slice(r+1))),o&&o(t),y(t)}(0,u)},padding:"checkbox",children:(0,m.jsx)(K.Z,{checked:h,inputProps:{"aria-labelledby":String(u)}})}),a&&(0,m.jsx)(Q.Z,{children:(0,m.jsxs)(X.Z,{display:"inline-block",onClick:function(){A((function(e){return(0,S.Z)((0,S.Z)({},e),{},(0,I.Z)({},n,!e[n]))})),d&&d(u)},children:[l,(0,m.jsx)(s.Z,{"aria-label":"expand row",size:"small",onClick:function(){A((function(e){return(0,S.Z)((0,S.Z)({},e),{},(0,I.Z)({},n,!e[n]))})),d&&d(u)},children:k[n]?(0,m.jsx)(B.UF1,{}):(0,m.jsx)(B.nOJ,{})})]})}),Object.values(i).map((function(e,n){return(0,m.jsx)(Q.Z,{onClick:function(){void 0!==c&&n===p&&c()},children:e},n)}))]},n),a&&(0,m.jsx)(G.Z,{children:(0,m.jsx)(Q.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:R,children:(0,m.jsx)(V.Z,{in:k[n],timeout:"auto",unmountOnExit:!0,children:(0,m.jsx)(X.Z,{children:a})})})})]},n)})):(0,m.jsx)(G.Z,{children:(0,m.jsx)(Q.Z,{align:"center",colSpan:R,children:f})}),e.children&&(0,m.jsx)(G.Z,{className:Z.sumColumns,children:e.children})]})})]})),!r&&u&&(0,m.jsx)(te,(0,S.Z)({},u))]})},se=ae;ae.defaultProps={emptyNode:"No Data"};var le=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"2rem 0",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),ue=function(e){var n,r=le(),i=(0,t.useState)(!1),l=(0,c.Z)(i,2),u=l[0],f=l[1],p=(0,t.useState)(1),h=(0,c.Z)(p,2),v=h[0],x=h[1],Z=(0,t.useState)(10),g=(0,c.Z)(Z,1)[0],j=(0,t.useState)({doUpdate:!1,data:"",id:null}),b=(0,c.Z)(j,2),y=b[0],w=b[1],C=(0,t.useRef)(null),T=L(),_=E(),I=O(),P=W(),M=(0,N.cI)(),z=M.handleSubmit,H=M.register,D=M.clearErrors,G=M.formState.errors,Q=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),T.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),I.refetch(),U.Am.success(n.message)):(f(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),_.mutate((0,S.Z)({id:y.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),I.refetch(),U.Am.success(n.message),w({doUpdate:!1,data:"",id:null})):(f(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,t.useEffect)((function(){var e,n;U.Am.error(null===(e=G.title)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),D()}),[null===(n=G.title)||void 0===n?void 0:n.message]),(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:r.container,children:(0,m.jsxs)("form",{onSubmit:y.doUpdate?z(K):z(Q),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:r.formField,value:y.data},H("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:C,onChange:function(e){y.doUpdate?w({doUpdate:!0,data:e.target.value,id:y.id}):w({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:r.formButton,disabled:u,type:"submit",children:u?(0,m.jsx)(F.Z,{size:24}):y.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:r.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0631\u0634\u062a\u0647 \u0647\u0627\u06cc \u062a\u062d\u0635\u06cc\u0644\u06cc"}),!I.isLoading&&(null===I||void 0===I?void 0:I.data.length)>0?(0,m.jsx)(se,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===I||void 0===I?void 0:I.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{onClick:function(){w({doUpdate:!0,data:e.title,id:e._id}),C.current.focus()},children:(0,m.jsx)(B._3A,{width:12,height:12})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void P.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),I.refetch(),U.Am.success(n.message)):(f(!1),U.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(B.TKD,{width:16,height:16})})})]})}}})),pagination:{page:v,count:1,rowsPerPage:g,onChange:function(e,n){x(n)},onRowsPerPageChange:function(){}}}):(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."})]})]})},ce=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),de=function(){var e=ce();return(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,m.jsx)(o.Z,{className:e.container,children:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f"})},fe=r(1550),me=r(3306),pe=r(5999),he=r(5765),ve=function(){return(0,T.useMutation)((function(e){return _.Zp.bookControllerCreate((0,S.Z)({},e))}))},xe=function(){return(0,T.useMutation)((function(e){return _.Zp.bookControllerUpdate(e.id,(0,S.Z)((0,S.Z)({},e),{},{image:e.image[0]}))}))},Ze=function(){return(0,T.useQuery)(["Get-All-Books"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Zp.bookControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},ge=function(){return(0,T.useMutation)((function(e){return _.Zp.bookControllerRemove(e)}))},je=function(){return(0,T.useQuery)(["Get-All-Grade-Levels"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.LS.gradeLevelControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},be=r.p+"static/media/user.68f03813418404ef4cd3.jpg",ye=r(3960),we=function(){return(0,T.useQuery)(["Get-All-BookReference-References"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.AX.bookReferenceControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},Ce=["ref","onChange"],Se=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),ke=function(e){var n=Se();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var r=(0,t.useState)(!1),i=(0,c.Z)(r,2),l=i[0],u=i[1],f=ve(),p=xe(),h=(0,t.useRef)(),v=(0,t.useRef)(),x=(0,t.useRef)(),Z=Ze(),g=ge(),j=(0,t.useState)(1),b=(0,c.Z)(j,2),y=b[0],w=b[1],C=(0,t.useState)(10),T=(0,c.Z)(C,1)[0],_=(0,t.useState)({doUpdate:!1,data:"",id:null}),L=(0,c.Z)(_,2),E=L[0],O=L[1],W=(0,t.useState)(),I=(0,c.Z)(W,2),M=I[0],z=I[1],H=(0,t.useState)(),D=(0,c.Z)(H,2),G=D[0],Q=D[1],K=t.useState([]),Y=(0,c.Z)(K,2),V=Y[0],X=Y[1],$=t.useState([]),J=(0,c.Z)($,2),ee=J[0],ne=J[1],re=je(),te=we(),ie=(0,t.useRef)();(0,t.useEffect)((function(){if(G){var e=URL.createObjectURL(G);return z(e),function(){return URL.revokeObjectURL(e)}}z(void 0)}),[G]);var oe=(0,t.useRef)(null),ae=(0,t.useState)({doUpdate:!1,data:"",id:null}),le=(0,c.Z)(ae,2),ue=le[0],ce=le[1],de=(0,N.cI)(),ke=de.handleSubmit,Ae=de.register,Re=(de.formState.errors,Ae("image")),Fe=Re.ref,Ne=Re.onChange,Ue=(0,P.Z)(Re,Ce),Te=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),f.mutate((0,S.Z)((0,S.Z)({},n),{},{image:n.image[0]}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),Z.refetch(),U.Am.success(n.message)):(u(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_e=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),p.mutate((0,S.Z)({id:E.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),Z.refetch(),U.Am.success(n.message),O({doUpdate:!1,data:"",id:null}),ce({doUpdate:!1,data:"",id:null}),X(null),z(ye.f.BASE+"/"+void 0)):(u(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:n.container,children:(0,m.jsxs)("form",{onSubmit:E.doUpdate?ke(_e):ke(Te),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u06a9\u062a\u0627\u0628 ",variant:"outlined",className:n.formField,inputRef:x,value:E.data},Ae("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u06a9\u062a\u0627\u0628 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{onChange:function(e){E.doUpdate?O({doUpdate:!0,data:e.target.value,id:E.id}):O({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a  \u06a9\u062a\u0627\u0628",variant:"outlined",className:n.formField,value:ue.data},Ae("description",{required:"\u0644\u0637\u0641\u0627 \u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u06a9\u062a\u0627\u0628 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:oe,onChange:function(e){ue.doUpdate?ce({doUpdate:!0,data:e.target.value,id:E.id}):ce({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:n.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628 \u0645\u0631\u062c\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ee&&void 0!==ee?ee:[]},Ae("bookReferences")),{},{inputRef:v,onChange:function(e){ne(e.target.value)},multiple:!0,children:!(null!==te&&void 0!==te&&te.isLoading)&&(null===te||void 0===te?void 0:te.data.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:n.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==V&&void 0!==V?V:[]},Ae("gradeLevels")),{},{inputRef:h,onChange:function(e){X(e.target.value)},multiple:!0,children:!(null!==re&&void 0!==re&&re.isLoading)&&(null===re||void 0===re?void 0:re.data.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(o.Z,{display:"flex",position:"relative",borderRadius:"100%",mb:3,children:[G||M?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{component:"img",src:"undefined"===String(M).split("/")[3]?be:M,alt:"test flag",width:100,height:100})}):(0,m.jsx)(o.Z,{component:"img",src:be,alt:"User flag",width:100,height:100}),(0,m.jsxs)(s.Z,{sx:{backgroundColor:"#FCF0FF",width:28,height:28,borderRadius:"8px",p:.5,position:"absolute",bottom:-10},onClick:function(){return ie.current.click()},children:[(0,m.jsx)(B.fnU,{}),(0,m.jsx)("input",(0,S.Z)((0,S.Z)({},Ue),{},{type:"file",ref:function(e){Fe(e),ie.current=e},hidden:!0,onChange:function(e){ie.current.files&&0!==ie.current.files.length?Q(ie.current.files[0]):Q(void 0),Ne(e)}}))]})]}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:n.formButton,disabled:l,type:"submit",children:l?(0,m.jsx)(F.Z,{size:24}):E.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:n.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u06a9\u062a\u0627\u0628\u200c\u0647\u0627"}),Z.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(se,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===Z||void 0===Z?void 0:Z.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{onClick:function(){O({doUpdate:!0,data:e.title,id:e._id}),ce({doUpdate:!0,data:e.description,id:e._id}),X(e.gradeLevels),ne(e.bookReferences),setTimeout((function(){x.current.focus()}),100),setTimeout((function(){oe.current.focus()}),200),setTimeout((function(){h.current.focus()}),300),setTimeout((function(){v.current.focus()}),400),z(ye.f.BASE+"/"+e.image)},children:(0,m.jsx)(B._3A,{width:12,height:12})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u06a9\u062a\u0627\u0628 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void g.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),Z.refetch(),U.Am.success(n.message)):(u(!1),U.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(B.TKD,{width:16,height:16})})})]})}}})),pagination:{page:y,count:1,rowsPerPage:T,onChange:function(e,n){w(n)},onRowsPerPageChange:function(){}}})]})]})},Ae=function(){return(0,T.useMutation)((function(e){return _.tH.chapterControllerCreate((0,S.Z)({},e))}))},Re=function(){return(0,T.useMutation)((function(e){return _.tH.chapterControllerRemove(e)}))},Fe=function(){return(0,T.useMutation)((function(e){return _.tH.chapterControllerUpdate(e.id,(0,S.Z)({},e))}))},Ne=function(){return(0,T.useQuery)(["Get-All-Chapters"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.tH.chapterControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},Ue=function(e){return(0,T.useQuery)(["Get-All-Books-Based-On-Grade-Levels"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.Zp.bookControllerFindBooksBasedOnGradeLevels(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Te=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),_e=function(e){var n,r,i,l,u,f=Te();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var p=(0,t.useState)(!1),h=(0,c.Z)(p,2),v=h[0],x=h[1],Z=Ae(),g=Fe(),j=Ne(),b=Re(),y=(0,t.useState)(1),w=(0,c.Z)(y,2),C=w[0],T=w[1],_=(0,t.useState)(10),L=(0,c.Z)(_,1)[0],E=(0,t.useState)({doUpdate:!1,data:"",id:null}),O=(0,c.Z)(E,2),W=O[0],I=O[1],P=(0,t.useState)([]),M=(0,c.Z)(P,2),z=M[0],H=M[1],D=t.useState(z),G=(0,c.Z)(D,2),Q=G[0],K=G[1],Y=Ue(0==(null===z||void 0===z?void 0:z.length)?null:z);(0,t.useEffect)((function(){z&&Y.refetch()}),[z]);var V=je(),X=(0,N.cI)(),$=X.handleSubmit,J=X.register,ee=X.clearErrors,ne=X.formState.errors;(0,t.useEffect)((function(){var e,n,r,t,i,o;U.Am.error(null===(e=ne.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),U.Am.error(null===(r=ne.title)||void 0===r||null===(t=r.message)||void 0===t?void 0:t.toString()),U.Am.error(null===(i=ne.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),ee()}),[null===(n=ne.books)||void 0===n?void 0:n.message,null===(r=ne.title)||void 0===r?void 0:r.message,null===(i=ne.gradeLevels)||void 0===i?void 0:i.message]);var re=(0,t.useRef)(),te=(0,t.useRef)(),ie=(0,t.useRef)(),oe=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Z.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),H(null),I({doUpdate:!1,data:"",id:null}),K(null),j.refetch(),U.Am.success(n.message)):(x(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),g.mutate((0,S.Z)({id:W.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),j.refetch(),U.Am.success(n.message),I({doUpdate:!1,data:"",id:null}),H(null),K(null)):(x(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:f.container,children:(0,m.jsxs)("form",{onSubmit:W.doUpdate?$(ae):$(oe),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0641\u0635\u0644 ",variant:"outlined",className:f.formField,value:W.data},J("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0641\u0635\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:te,onChange:function(e){W.doUpdate?I({doUpdate:!0,data:e.target.value,id:W.id}):I({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:f.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==z&&void 0!==z?z:[]},J("gradeLevels")),{},{inputRef:re,onChange:function(e){H(e.target.value)},multiple:!0,children:!(null!==V&&void 0!==V&&V.isLoading)&&(null===V||void 0===V||null===(l=V.data)||void 0===l?void 0:l.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:f.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Q&&void 0!==Q?Q:[]},J("books")),{},{inputRef:ie,onChange:function(e){K(e.target.value)},multiple:!0,children:!(null!==Y&&void 0!==Y&&Y.isLoading)&&void 0!=(null===Y||void 0===Y?void 0:Y.data)&&(null===Y||void 0===Y||null===(u=Y.data)||void 0===u?void 0:u.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:f.formButton,disabled:v,type:"submit",children:v?(0,m.jsx)(F.Z,{size:24}):W.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:f.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0641\u0635\u0644\u200c\u0647\u0627"}),j.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(se,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===j||void 0===j?void 0:j.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{onClick:function(){I({doUpdate:!0,data:e.title,id:e._id}),H(e.gradeLevels),K(e.books.map((function(e){return e._id}))),setTimeout((function(){te.current.focus()}),100),setTimeout((function(){re.current.focus()}),200),setTimeout((function(){ie.current.focus()}),300)},children:(0,m.jsx)(B._3A,{width:12,height:12})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0641\u0635\u0644 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void b.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),j.refetch(),U.Am.success(n.message)):(x(!1),U.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(B.TKD,{width:16,height:16})})})]})}}})),pagination:{page:C,count:1,rowsPerPage:L,onChange:function(e,n){T(n)},onRowsPerPageChange:function(){}}})]})]})},Le=function(){return(0,T.useMutation)((function(e){return _._F.subjectControllerCreate((0,S.Z)({},e))}))},Ee=function(){return(0,T.useMutation)((function(e){return _._F.subjectControllerUpdate(e.id,(0,S.Z)({},e))}))},Oe=function(){return(0,T.useQuery)(["Get-All-Sections"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_._F.subjectControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},We=function(){return(0,T.useMutation)((function(e){return _._F.subjectControllerRemove(e)}))},Be=function(){return(0,T.useQuery)(["Get-All-Term-Of-Studies"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.ib.termOfStudyControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},qe=function(e){return(0,T.useQuery)(["Get-All-Chapters-Based-On-Books"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.tH.chapterControllerFindChaptersBasedOnBooks(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Ie=function(e){return(0,T.useQuery)(["Get-All-Sections-Based-On-Chapters"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.l.sectionControllerFindSectionsBasedOnChapters(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Pe=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Me=function(e){var n,r,i,l,u,f,p,h,v=Pe();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var x=(0,t.useState)(!1),Z=(0,c.Z)(x,2),g=Z[0],j=Z[1],b=Le(),y=Ee(),w=Oe(),C=We(),T=(0,t.useState)(1),_=(0,c.Z)(T,2),L=_[0],E=_[1],O=(0,t.useState)(10),W=(0,c.Z)(O,1)[0],I=(0,t.useState)({doUpdate:!1,data:"",id:null}),P=(0,c.Z)(I,2),M=P[0],z=P[1],H=(0,t.useState)([]),D=(0,c.Z)(H,2),G=D[0],Q=D[1],K=t.useState(G),Y=(0,c.Z)(K,2),V=Y[0],X=Y[1],$=t.useState(V),J=(0,c.Z)($,2),ee=J[0],ne=J[1],re=t.useState(ee),te=(0,c.Z)(re,2),ie=te[0],oe=te[1],ae=t.useState(),le=(0,c.Z)(ae,2),ue=le[0],ce=le[1],de=Be(),ve=(0,t.useRef)(),xe=(0,t.useRef)(),Ze=(0,t.useRef)(),ge=(0,t.useRef)(),be=(0,t.useRef)(),ye=(0,t.useRef)();(0,t.useEffect)((function(){de.refetch()}),[]);var we=Ue(0==(null===G||void 0===G?void 0:G.length)?null:G),Ce=qe(0==(null===V||void 0===V?void 0:V.length)?null:V),Se=Ie(0==(null===ee||void 0===ee?void 0:ee.length)?null:ee);(0,t.useEffect)((function(){G&&we.refetch()}),[G]),(0,t.useEffect)((function(){Ce.refetch()}),[V]),(0,t.useEffect)((function(){Se.refetch()}),[ee]);var ke=je(),Ae=(0,N.cI)(),Re=Ae.handleSubmit,Fe=Ae.register,Ne=Ae.clearErrors,Te=Ae.formState.errors;(0,t.useEffect)((function(){var e,n,r,t,i,o;U.Am.error(null===(e=Te.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),U.Am.error(null===(r=Te.title)||void 0===r||null===(t=r.message)||void 0===t?void 0:t.toString()),U.Am.error(null===(i=Te.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),Ne()}),[null===(n=Te.books)||void 0===n?void 0:n.message,null===(r=Te.title)||void 0===r?void 0:r.message,null===(i=Te.gradeLevels)||void 0===i?void 0:i.message]);var _e=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),b.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(j(!1),Q(null),z({doUpdate:!1,data:"",id:null}),X(null),ne(null),oe(null),w.refetch(),U.Am.success(n.message)):(j(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Me=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),y.mutate((0,S.Z)({id:M.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(j(!1),w.refetch(),U.Am.success(n.message),z({doUpdate:!1,data:"",id:null}),Q(null),X(null)):(j(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:v.container,children:(0,m.jsxs)("form",{onSubmit:M.doUpdate?Re(Me):Re(_e),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0645\u0648\u0636\u0648\u0639 ",variant:"outlined",className:v.formField,value:M.data},Fe("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0645\u0648\u0636\u0648\u0639 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:xe,onChange:function(e){M.doUpdate?z({doUpdate:!0,data:e.target.value,id:M.id}):z({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:v.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==G&&void 0!==G?G:[]},Fe("gradeLevels")),{},{inputRef:ve,onChange:function(e){Q(e.target.value),ne(null),X(null),oe(null)},multiple:!0,children:!(null!==ke&&void 0!==ke&&ke.isLoading)&&(null===ke||void 0===ke||null===(l=ke.data)||void 0===l?void 0:l.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:v.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==V&&void 0!==V?V:[]},Fe("books")),{},{inputRef:Ze,onChange:function(e){X(e.target.value)},multiple:!0,children:!(null!==we&&void 0!==we&&we.isLoading)&&void 0!=(null===we||void 0===we?void 0:we.data)&&(null===we||void 0===we||null===(u=we.data)||void 0===u?void 0:u.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:v.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ee&&void 0!==ee?ee:[]},Fe("chapters")),{},{inputRef:ge,onChange:function(e){ne(e.target.value)},multiple:!0,children:!(null!==Ce&&void 0!==Ce&&Ce.isLoading)&&void 0!=(null===Ce||void 0===Ce?void 0:Ce.data)&&(null===Ce||void 0===Ce||null===(f=Ce.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:v.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0628\u062e\u0634"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ie&&void 0!==ie?ie:[]},Fe("sections")),{},{inputRef:be,onChange:function(e){oe(e.target.value)},multiple:!0,children:!(null!==Se&&void 0!==Se&&Se.isLoading)&&void 0!=(null===Se||void 0===Se?void 0:Se.data)&&(null===Se||void 0===Se||null===(p=Se.data)||void 0===p?void 0:p.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:v.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u062a\u0631\u0645"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ue&&void 0!==ue?ue:[]},Fe("terms")),{},{inputRef:ye,onChange:function(e){ce(e.target.value)},multiple:!0,children:!(null!==de&&void 0!==de&&de.isLoading)&&void 0!=(null===de||void 0===de?void 0:de.data)&&(null===de||void 0===de||null===(h=de.data)||void 0===h?void 0:h.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:v.formButton,disabled:g,type:"submit",children:g?(0,m.jsx)(F.Z,{size:24}):M.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:v.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0645\u0648\u0636\u0648\u0639\u200c\u0647\u0627"}),w.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(se,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===w||void 0===w?void 0:w.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{onClick:function(){z({doUpdate:!0,data:e.title,id:e._id}),Q(e.gradeLevels),X(e.books.map((function(e){return e}))),ne(e.chapters.map((function(e){return e}))),oe(e.sections.map((function(e){return e}))),setTimeout((function(){xe.current.focus()}),100),setTimeout((function(){ve.current.focus()}),200),setTimeout((function(){Ze.current.focus()}),300),setTimeout((function(){ge.current.focus()}),350),setTimeout((function(){ye.current.focus()}),400),setTimeout((function(){be.current.focus()}),450)},children:(0,m.jsx)(B._3A,{width:12,height:12})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void C.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(j(!1),w.refetch(),U.Am.success(n.message)):(j(!1),U.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(B.TKD,{width:16,height:16})})})]})}}})),pagination:{page:L,count:1,rowsPerPage:W,onChange:function(e,n){E(n)},onRowsPerPageChange:function(){}}})]})]})},ze=function(){return(0,T.useMutation)((function(e){return _.LS.gradeLevelControllerCreate((0,S.Z)({},e))}))},He=function(){return(0,T.useMutation)((function(e){return _.LS.gradeLevelControllerUpdate(e.id,(0,S.Z)((0,S.Z)({},e),{},{image:e.image[0]}))}))},De=function(){return(0,T.useMutation)((function(e){return _.LS.gradeLevelControllerRemove(e)}))},Ge=["ref","onChange"],Qe=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem 0",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Ke=function(e){var n,r,i,l=Qe();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var u=(0,t.useState)(!1),f=(0,c.Z)(u,2),p=f[0],h=f[1],v=ze(),x=He(),Z=je(),g=De(),j=(0,t.useState)(1),b=(0,c.Z)(j,2),y=b[0],w=b[1],C=(0,t.useState)(10),T=(0,c.Z)(C,1)[0],_=(0,t.useState)({doUpdate:!1,data:"",id:null}),L=(0,c.Z)(_,2),E=L[0],W=L[1],I=(0,t.useRef)(null),M=(0,t.useState)(),z=(0,c.Z)(M,2),H=z[0],D=z[1],G=(0,t.useState)(),Q=(0,c.Z)(G,2),K=Q[0],Y=Q[1],V=(0,t.useRef)(),X=(0,t.useRef)(),$=(0,t.useRef)(null),J=t.useState([]),ee=(0,c.Z)(J,2),ne=ee[0],re=ee[1],te=O(),ie=(0,t.useState)({doUpdate:!1,data:"",id:null}),oe=(0,c.Z)(ie,2),ae=oe[0],le=oe[1];(0,t.useEffect)((function(){if(K){var e=URL.createObjectURL(K);return D(e),function(){return URL.revokeObjectURL(e)}}D(void 0)}),[K]),(0,t.useEffect)((function(){te.refetch()}),[]);var ue=(0,N.cI)(),ce=ue.handleSubmit,de=ue.register,ve=ue.formState.errors,xe=ue.clearErrors,Ze=de("image"),ge=Ze.ref,we=Ze.onChange,Ce=(0,P.Z)(Ze,Ge);(0,t.useEffect)((function(){var e,n,r,t,i,o;U.Am.error(null===(e=ve.description)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),U.Am.error(null===(r=ve.title)||void 0===r||null===(t=r.message)||void 0===t?void 0:t.toString()),U.Am.error(null===(i=ve.image)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),xe()}),[null===(n=ve.description)||void 0===n?void 0:n.message,null===(r=ve.title)||void 0===r?void 0:r.message,null===(i=ve.image)||void 0===i?void 0:i.message]);var Se=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),v.mutate((0,S.Z)((0,S.Z)({},n),{},{image:n.image[0]}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(h(!1),Z.refetch(),U.Am.success(n.message)):(h(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ke=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),x.mutate((0,S.Z)({id:E.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(h(!1),Z.refetch(),U.Am.success(n.message),W({doUpdate:!1,data:"",id:null}),le({doUpdate:!1,data:"",id:null}),re(null),D(ye.f.BASE+"/"+void 0)):(h(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:l.container,children:(0,m.jsxs)("form",{onSubmit:E.doUpdate?ce(ke):ce(Se),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:l.formField,value:E.data},de("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:I,onChange:function(e){E.doUpdate?W({doUpdate:!0,data:e.target.value,id:E.id}):W({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:l.formField,value:ae.data},de("description",{required:"\u0644\u0637\u0641\u0627 \u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:$,onChange:function(e){ae.doUpdate?le({doUpdate:!0,data:e.target.value,id:E.id}):le({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:l.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0631\u0634\u062a\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ne&&void 0!==ne?ne:[]},de("fieldOfStudies")),{},{inputRef:X,onChange:function(e){re(e.target.value)},multiple:!0,children:!(null!==te&&void 0!==te&&te.isLoading)&&(null===te||void 0===te?void 0:te.data.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(o.Z,{display:"flex",position:"relative",borderRadius:"100%",mb:3,children:[K||H?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{component:"img",src:"undefined"===String(H).split("/")[3]?be:H,alt:"test flag",width:100,height:100})}):(0,m.jsx)(o.Z,{component:"img",src:be,alt:"User flag",width:100,height:100}),(0,m.jsxs)(s.Z,{sx:{backgroundColor:"#FCF0FF",width:28,height:28,borderRadius:"8px",p:.5,position:"absolute",bottom:-10},onClick:function(){return V.current.click()},children:[(0,m.jsx)(B.fnU,{}),(0,m.jsx)("input",(0,S.Z)((0,S.Z)({},Ce),{},{type:"file",ref:function(e){ge(e),V.current=e},hidden:!0,onChange:function(e){V.current.files&&0!==V.current.files.length?Y(V.current.files[0]):Y(void 0),we(e)}}))]})]}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:l.formButton,disabled:p,type:"submit",children:p?(0,m.jsx)(F.Z,{size:24}):E.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:l.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u067e\u0627\u06cc\u0647 \u0647\u0627\u06cc \u062a\u062d\u0635\u06cc\u0644\u06cc"}),Z.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(se,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===Z||void 0===Z?void 0:Z.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{onClick:function(){W({doUpdate:!0,data:e.title,id:e._id}),le({doUpdate:!0,data:e.description,id:e._id}),re(e.fieldOfStudies),I.current.focus(),setTimeout((function(){$.current.focus()}),100),setTimeout((function(){X.current.focus()}),200),D(ye.f.BASE+"/"+e.image)},children:(0,m.jsx)(B._3A,{width:12,height:12})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void g.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(h(!1),Z.refetch(),U.Am.success(n.message)):(h(!1),U.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(B.TKD,{width:16,height:16})})})]})}}})),pagination:{page:y,count:1,rowsPerPage:T,onChange:function(e,n){w(n)},onRowsPerPageChange:function(){}}})]})]})},Ye=function(){return(0,T.useMutation)((function(e){return _.l.sectionControllerCreate((0,S.Z)({},e))}))},Ve=function(){return(0,T.useMutation)((function(e){return _.l.sectionControllerUpdate(e.id,(0,S.Z)({},e))}))},Xe=function(){return(0,T.useQuery)(["Get-All-Sections"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.l.sectionControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},$e=function(){return(0,T.useMutation)((function(e){return _.l.sectionControllerRemove(e)}))},Je=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),en=function(e){var n,r,i,l,u,f,p=Je();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var h=(0,t.useState)(!1),v=(0,c.Z)(h,2),x=v[0],Z=v[1],g=Ye(),j=Ve(),b=Xe(),y=$e(),w=(0,t.useState)(1),C=(0,c.Z)(w,2),T=C[0],_=C[1],L=(0,t.useState)(10),E=(0,c.Z)(L,1)[0],O=(0,t.useState)({doUpdate:!1,data:"",id:null}),W=(0,c.Z)(O,2),I=W[0],P=W[1],M=(0,t.useState)([]),z=(0,c.Z)(M,2),H=z[0],D=z[1],G=t.useState(H),Q=(0,c.Z)(G,2),K=Q[0],Y=Q[1],V=t.useState(K),X=(0,c.Z)(V,2),$=X[0],J=X[1],ee=Ue(0==(null===H||void 0===H?void 0:H.length)?null:H),ne=qe(0==(null===K||void 0===K?void 0:K.length)?null:K);(0,t.useEffect)((function(){H&&ee.refetch()}),[H]),(0,t.useEffect)((function(){ne.refetch()}),[K]);var re=je(),te=(0,N.cI)(),ie=te.handleSubmit,oe=te.register,ae=te.clearErrors,le=te.formState.errors;(0,t.useEffect)((function(){var e,n,r,t,i,o;U.Am.error(null===(e=le.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),U.Am.error(null===(r=le.title)||void 0===r||null===(t=r.message)||void 0===t?void 0:t.toString()),U.Am.error(null===(i=le.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),ae()}),[null===(n=le.books)||void 0===n?void 0:n.message,null===(r=le.title)||void 0===r?void 0:r.message,null===(i=le.gradeLevels)||void 0===i?void 0:i.message]);var ue=(0,t.useRef)(),ce=(0,t.useRef)(),de=(0,t.useRef)(),ve=(0,t.useRef)(),xe=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),g.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),D(null),P({doUpdate:!1,data:"",id:null}),Y(null),J(null),b.refetch(),U.Am.success(n.message)):(Z(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),j.mutate((0,S.Z)({id:I.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),b.refetch(),U.Am.success(n.message),P({doUpdate:!1,data:"",id:null}),D(null),Y(null)):(Z(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:p.container,children:(0,m.jsxs)("form",{onSubmit:I.doUpdate?ie(Ze):ie(xe),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0628\u062e\u0634 ",variant:"outlined",className:p.formField,value:I.data},oe("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0628\u062e\u0634 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:ce,onChange:function(e){I.doUpdate?P({doUpdate:!0,data:e.target.value,id:I.id}):P({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:p.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==H&&void 0!==H?H:[]},oe("gradeLevels")),{},{inputRef:ue,onChange:function(e){D(e.target.value),Y(null)},multiple:!0,children:!(null!==re&&void 0!==re&&re.isLoading)&&(null===re||void 0===re||null===(l=re.data)||void 0===l?void 0:l.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:p.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==K&&void 0!==K?K:[]},oe("books")),{},{inputRef:de,onChange:function(e){Y(e.target.value)},multiple:!0,children:!(null!==ee&&void 0!==ee&&ee.isLoading)&&void 0!=(null===ee||void 0===ee?void 0:ee.data)&&(null===ee||void 0===ee||null===(u=ee.data)||void 0===u?void 0:u.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:p.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==$&&void 0!==$?$:[]},oe("chapters")),{},{inputRef:ve,onChange:function(e){J(e.target.value)},multiple:!0,children:!(null!==ne&&void 0!==ne&&ne.isLoading)&&void 0!=(null===ne||void 0===ne?void 0:ne.data)&&(null===ne||void 0===ne||null===(f=ne.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:p.formButton,disabled:x,type:"submit",children:x?(0,m.jsx)(F.Z,{size:24}):I.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:p.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0628\u062e\u0634\u200c\u0647\u0627"}),b.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(se,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===b||void 0===b?void 0:b.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{onClick:function(){P({doUpdate:!0,data:e.title,id:e._id}),D(e.gradeLevels),Y(e.books.map((function(e){return e}))),J(e.chapters.map((function(e){return e}))),setTimeout((function(){ce.current.focus()}),100),setTimeout((function(){ue.current.focus()}),200),setTimeout((function(){de.current.focus()}),300),setTimeout((function(){ve.current.focus()}),400)},children:(0,m.jsx)(B._3A,{width:12,height:12})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0628\u062e\u0634 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void y.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),b.refetch(),U.Am.success(n.message)):(Z(!1),U.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(B.TKD,{width:16,height:16})})})]})}}})),pagination:{page:T,count:1,rowsPerPage:E,onChange:function(e,n){_(n)},onRowsPerPageChange:function(){}}})]})]})},nn=r(3929),rn=function(){return(0,T.useMutation)((function(e){return _.AA.objectiveTestControllerCreate((0,S.Z)({},e))}))},tn=(r(4230),r(3208)),on=r(8668),an=r(2968),sn=r(2531),ln=["onChange"],un=["onChange"],cn=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},objectiveTest:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},durationField:{margin:"1rem",width:"100%",display:"none"},editorField:{margin:"2rem 0"},specialField:{margin:"1rem"}}})),dn=function(e){var n,r,i,s,l=cn();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var u=(0,N.cI)(),f=u.handleSubmit,p=u.register,h=u.clearErrors,v=u.control,x=u.formState.errors,Z=(0,t.useRef)(),g=(0,t.useState)(!1),j=(0,c.Z)(g,2),b=j[0],y=j[1],w=(0,t.useRef)(null),C=t.useState(1),T=(0,c.Z)(C,2),_=(T[0],T[1],rn()),L=(0,t.useState)(new Date),E=(0,c.Z)(L,2),O=(E[0],E[1],(0,t.useState)("main")),W=(0,c.Z)(O,2),q=W[0],I=W[1],M=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!0),_.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(y(!1),U.Am.success(n.message)):(y(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=t.useState(),H=(0,c.Z)(z,2),D=H[0],G=H[1],Q=je(),K=(0,t.useState)(null),Y=(0,c.Z)(K,2),V=Y[0],X=Y[1],$=(0,t.useState)(null),J=(0,c.Z)($,2),ee=J[0],ne=J[1];return(0,t.useEffect)((function(){w&&w.current&&(w.current.style.display="main"===q?"none":"block")}),[q]),(0,t.useEffect)((function(){var e,n,r,t,i,o,a,s;U.Am.error(null===(e=x.gradeLevel)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),U.Am.error(null===(r=x.number)||void 0===r||null===(t=r.message)||void 0===t?void 0:t.toString()),U.Am.error(null===(i=x.type)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),U.Am.error(null===(a=x.duration)||void 0===a||null===(s=a.message)||void 0===s?void 0:s.toString()),h()}),[null===(n=x.type)||void 0===n?void 0:n.message,null===(r=x.number)||void 0===r?void 0:r.message,null===(i=x.gradeLevel)||void 0===i?void 0:i.message,null===(s=x.duration)||void 0===s?void 0:s.message]),(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:l.container,children:(0,m.jsxs)("form",{onSubmit:f(M),children:[(0,m.jsxs)(fe.Z,{className:l.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==D&&void 0!==D?D:""},p("gradeLevel",{required:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647 \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"})),{},{inputRef:Z,onChange:function(e){G(e.target.value)},children:!(null!==Q&&void 0!==Q&&Q.isLoading)&&(null===Q||void 0===Q?void 0:Q.data.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({},p("number",{required:"\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{className:l.formField,variant:"outlined",label:"\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f",type:"number"})),(0,m.jsxs)(fe.Z,{className:l.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0646\u0648\u0639 \u0622\u0632\u0645\u0648\u0646"}),(0,m.jsxs)(pe.Z,(0,S.Z)((0,S.Z)({},p("type",{required:"\u0644\u0637\u0641\u0627 \u0646\u0648\u0639 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{value:q,onChange:function(e){return I(e.target.value)},children:[(0,m.jsx)(he.Z,{value:"main",children:"\u0622\u0632\u0645\u0648\u0646 \u0627\u0635\u0644\u06cc"},1),(0,m.jsx)(he.Z,{value:"remedial",children:"\u0622\u0632\u0645\u0648\u0646 \u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644"},2)]}))]}),"remedial"===q&&(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({type:"number",className:"".concat(l.formField," ").concat(l.durationField),variant:"outlined",label:"\u0644\u0637\u0641\u0627 \u0645\u062f\u062a \u0632\u0645\u0627\u0646 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0628\u0647 \u062f\u0642\u06cc\u0642\u0647 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"},p("duration",{required:"\u0645\u062f\u062a \u0632\u0645\u0627\u0646 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{ref:function(e){p("duration").ref(e),w.current=e}})),(0,m.jsx)(o.Z,{className:l.specialField,children:(0,m.jsx)(N.Qr,{name:"start",control:v,render:function(e){var n=e.field,r=n.onChange;(0,P.Z)(n,ln);return(0,m.jsx)(tn._,{dateAdapter:an.Y,children:(0,m.jsx)(on.x,{label:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0622\u0632\u0645\u0648\u0646",value:V,onChange:function(e){r(e),X(e)},components:{OpenPickerIcon:B.qHq}})})}})}),(0,m.jsx)(o.Z,{className:l.specialField,children:(0,m.jsx)(N.Qr,{name:"end",control:v,render:function(e){var n=e.field,r=n.onChange;(0,P.Z)(n,un);return(0,m.jsx)(tn._,{dateAdapter:an.Y,children:(0,m.jsx)(on.x,{label:"\u062a\u0627\u0631\u06cc\u062e \u0627\u062a\u0645\u0627\u0645 \u0622\u0632\u0645\u0648\u0646",value:ee,onChange:function(e){r(e),ne(e)},components:{OpenPickerIcon:B.qHq}})})}})}),(0,m.jsx)(o.Z,{className:l.specialField,children:(0,m.jsx)(nn.Z,{control:(0,m.jsx)(sn.Z,(0,S.Z)({},p("isPublished",{}))),label:"\u0627\u0646\u062a\u0634\u0627\u0631"})}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:l.specialField,disabled:b,type:"submit",children:b?(0,m.jsx)(F.Z,{size:24}):"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsx)(o.Z,{className:l.objectiveTest,children:(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0622\u0632\u0645\u0648\u0646\u200c\u0647\u0627\u06cc \u062a\u0633\u062a\u06cc"})})]})},fn=r(16),mn=r.n(fn),pn=function(e){return(0,T.useQuery)(["Get-All-Subjects-Based-On-Sections"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_._F.subjectControllerFindSubjectsBasedOnSections(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},hn=r(2985),vn=function(e){var n=e.value,r=e.setValue;return(0,m.jsx)(mn(),{className:"quill_fontFamily",formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","size","video","align","background","direction","code-block","code"],modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{align:"right"},{align:"center"},{align:""},{align:"justify"}],[{color:["#000000","#ff0000","rgb(0, 0, 255)","red","blue"]},{background:["#ffffff","#ffcc00","#00ff00","#0000ff"]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image","video"],["clean"]]},theme:"snow",value:n,onChange:r})},xn=function(){return(0,T.useMutation)((function(e){return _.aE.questionControllerCreate((0,S.Z)({},e))}))},Zn=function(e){return(0,T.useQuery)(["Get-All-BookReference-References-Based-On-Grade-Levels"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.AX.bookReferenceControllerFindBookReferencesBasedOnGradeLevels(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},gn=function(e){return(0,T.useQuery)(["Get-All-Books-Based-On-Book-References"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.Zp.bookControllerFindBooksBasedOnBookReferences(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},jn=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},objectiveTest:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},editorField:{margin:"2rem 0"},specialField:{margin:"1rem"}}})),bn=function(e){var n,r,i,s,l,u,f,p,h,v,x,Z=jn();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var g=(0,N.cI)(),j=g.handleSubmit,b=g.register,y=g.clearErrors,w=(g.control,g.formState.errors),C=(0,t.useState)(!1),T=(0,c.Z)(C,2),_=T[0],L=T[1],E=(0,t.useState)(),O=(0,c.Z)(E,2),W=O[0],B=O[1],q=(0,t.useState)([]),P=(0,c.Z)(q,2),M=P[0],z=P[1],H=(0,t.useState)([]),D=(0,c.Z)(H,2),G=D[0],Q=D[1],K=t.useState(G),Y=(0,c.Z)(K,2),V=Y[0],X=Y[1],$=t.useState(G),J=(0,c.Z)($,2),ee=J[0],ne=J[1],re=t.useState(V),te=(0,c.Z)(re,2),ie=te[0],oe=te[1],ae=t.useState(ie),se=(0,c.Z)(ae,2),le=se[0],ue=se[1],ce=t.useState(le),de=(0,c.Z)(ce,2),ve=de[0],xe=de[1],Ze=t.useState(),ge=(0,c.Z)(Ze,2),be=ge[0],ye=ge[1],we=t.useState(),Ce=(0,c.Z)(we,2),Se=Ce[0],ke=Ce[1],Ae=t.useState(),Re=(0,c.Z)(Ae,2),Fe=Re[0],Ne=Re[1],Ue=(0,t.useState)([]),Te=(0,c.Z)(Ue,2),_e=Te[0],Le=(Te[1],mn().Quill),Ee=Le.import("formats/font");Ee.whitelist=["IRANSans","Ubuntu","Raleway","Roboto"],Le.register(Ee,!0);var Oe=(0,t.useRef)(),We=(0,t.useRef)(),Be=(0,t.useRef)(),Pe=(0,t.useRef)(),Me=(0,t.useRef)(),ze=(0,t.useRef)(),He=(0,t.useRef)(),De=je(),Ge=(0,hn.Z)(),Qe=gn(0==(null===ee||void 0===ee?void 0:ee.length)?null:ee),Ke=Zn(0==(null===G||void 0===G?void 0:G.length)?null:G),Ye=qe(0==(null===V||void 0===V?void 0:V.length)?null:V),Ve=Ie(0==(null===ie||void 0===ie?void 0:ie.length)?null:ie),Xe=pn(0==(null===le||void 0===le?void 0:le.length)?null:le);(0,t.useEffect)((function(){G&&Ke.refetch()}),[G]),(0,t.useEffect)((function(){ee&&Qe.refetch()}),[ee]),(0,t.useEffect)((function(){Ye.refetch()}),[V]),(0,t.useEffect)((function(){Ve.refetch()}),[ie]),(0,t.useEffect)((function(){Xe.refetch()}),[le]),(0,t.useEffect)((function(){var e=document.querySelector(".ql-editor");e&&(e.style.textAlign="right")}),[_e]),(0,t.useEffect)((function(){var e,n,r,t,i,o,a,s;U.Am.error(null===(e=w.type)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),U.Am.error(null===(r=w.number)||void 0===r||null===(t=r.message)||void 0===t?void 0:t.toString()),U.Am.error(null===(i=w.objectiveTests)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),U.Am.error(null===(a=w.correctAnswer)||void 0===a||null===(s=a.message)||void 0===s?void 0:s.toString()),y()}),[null===(n=w.type)||void 0===n?void 0:n.message,null===(r=w.number)||void 0===r?void 0:r.message,null===(i=w.objectiveTests)||void 0===i?void 0:i.message,null===(s=w.correctAnswer)||void 0===s?void 0:s.message]);var $e=xn(),Je=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=rn.option1&&""!=rn.option2&&""!=rn.option3&&""!=rn.option4){e.next=2;break}return e.abrupt("return",U.Am.error("\u0647\u0631 \u06f4 \u06af\u0632\u06cc\u0646\u0647 \u0628\u0627\u06cc\u062f \u0645\u0642\u062f\u0627\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u0646\u062f"));case 2:if(""!=W){e.next=4;break}return e.abrupt("return",U.Am.error("\u062d\u062f\u0627\u0642\u0644 \u06cc\u06a9 \u0633\u0648\u0627\u0644 \u0628\u0627\u06cc\u062f \u0627\u06cc\u062c\u0627\u062f \u0634\u0648\u062f"));case 4:n.options=rn,n.question=W,L(!0),$e.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(L(!1),Q(null),X(null),oe(null),ue(null),U.Am.success(n.message)):(L(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),en=(0,t.useState)({option1:"",option2:"",option3:"",option4:""}),nn=(0,c.Z)(en,2),rn=nn[0],tn=nn[1],on=function(e,n){tn((function(r){return(0,S.Z)((0,S.Z)({},r),{},(0,I.Z)({},n,e))}))};return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:Z.container,children:(0,m.jsxs)("form",{onSubmit:j(Je),children:[(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0622\u0632\u0645\u0648\u0646"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==M&&void 0!==M?M:[]},b("objectiveTests")),{},{inputRef:Oe,onChange:function(e){z(e.target.value)},multiple:!0,children:!(null!==Ge&&void 0!==Ge&&Ge.isLoading)&&(null===Ge||void 0===Ge||null===(l=Ge.data)||void 0===l?void 0:l.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.number},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==G&&void 0!==G?G:[]},b("gradeLevels")),{},{inputRef:We,onChange:function(e){Q(e.target.value),oe(null),X(null),ne(null),ue(null),xe(null)},multiple:!0,children:!(null!==De&&void 0!==De&&De.isLoading)&&(null===De||void 0===De||null===(u=De.data)||void 0===u?void 0:u.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628 \u0645\u0631\u062c\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ee&&void 0!==ee?ee:[]},b("bookReferences")),{},{inputRef:Pe,onChange:function(e){ne(e.target.value)},multiple:!0,children:!(null!==Ke&&void 0!==Ke&&Ke.isLoading)&&void 0!=(null===Ke||void 0===Ke?void 0:Ke.data)&&(null===Ke||void 0===Ke||null===(f=Ke.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==V&&void 0!==V?V:[]},b("books")),{},{inputRef:Be,onChange:function(e){X(e.target.value)},multiple:!0,children:!(null!==Qe&&void 0!==Qe&&Qe.isLoading)&&void 0!=(null===Qe||void 0===Qe?void 0:Qe.data)&&(null===Qe||void 0===Qe||null===(p=Qe.data)||void 0===p?void 0:p.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ie&&void 0!==ie?ie:[]},b("chapters")),{},{inputRef:Me,onChange:function(e){oe(e.target.value)},multiple:!0,children:!(null!==Ye&&void 0!==Ye&&Ye.isLoading)&&void 0!=(null===Ye||void 0===Ye?void 0:Ye.data)&&(null===Ye||void 0===Ye||null===(h=Ye.data)||void 0===h?void 0:h.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0628\u062e\u0634"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==le&&void 0!==le?le:[]},b("sections")),{},{inputRef:ze,onChange:function(e){ue(e.target.value)},multiple:!0,children:!(null!==Ve&&void 0!==Ve&&Ve.isLoading)&&void 0!=(null===Ve||void 0===Ve?void 0:Ve.data)&&(null===Ve||void 0===Ve||null===(v=Ve.data)||void 0===v?void 0:v.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0648\u0636\u0648\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ve&&void 0!==ve?ve:[]},b("subjects")),{},{inputRef:He,onChange:function(e){xe(e.target.value)},multiple:!0,children:!(null!==Xe&&void 0!==Xe&&Xe.isLoading)&&void 0!=(null===Xe||void 0===Xe?void 0:Xe.data)&&(null===Xe||void 0===Xe||null===(x=Xe.data)||void 0===x?void 0:x.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0633\u062e\u062a\u06cc \u0633\u0648\u0627\u0644"}),(0,m.jsxs)(pe.Z,(0,S.Z)((0,S.Z)({value:be,onChange:function(e){return ye(e.target.value)}},b("questionDifficulty",{required:"\u0644\u0637\u0641\u0627 \u0633\u062e\u062a\u06cc \u0633\u0648\u0627\u0644 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{children:[(0,m.jsx)(he.Z,{value:"easy",children:"\u0633\u0627\u062f\u0647"},1),(0,m.jsx)(he.Z,{value:"average",children:"\u0645\u062a\u0648\u0633\u0637"},1),(0,m.jsx)(he.Z,{value:"hard",children:"\u062f\u0634\u0648\u0627\u0631"},1)]}))]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0646\u0648\u0639 \u0633\u0648\u0627\u0644"}),(0,m.jsxs)(pe.Z,(0,S.Z)((0,S.Z)({value:Se,onChange:function(e){return ke(e.target.value)}},b("type",{required:"\u0644\u0637\u0641\u0627 \u0646\u0648\u0639 \u0633\u0648\u0627\u0644 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{children:[(0,m.jsx)(he.Z,{value:"conceptional",children:"\u0645\u0641\u0647\u0648\u0645\u06cc"},1),(0,m.jsx)(he.Z,{value:"computational",children:"\u0645\u062d\u0627\u0633\u0628\u0627\u062a\u06cc"},2),(0,m.jsx)(he.Z,{value:"trick",children:"\u062f\u0627\u0645 \u062f\u0627\u0631"},3),(0,m.jsx)(he.Z,{value:"memorizational",children:"\u062d\u0641\u0638\u06cc"},4),(0,m.jsx)(he.Z,{value:"challenging",children:"\u0686\u0627\u0644\u0634\u06cc"},4)]}))]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u06af\u0632\u06cc\u0647 \u062f\u0631\u0633\u062a"}),(0,m.jsxs)(pe.Z,(0,S.Z)((0,S.Z)({value:Fe,onChange:function(e){return Ne(e.target.value)}},b("correctAnswer",{required:"\u0644\u0637\u0641\u0627 \u06af\u0632\u06cc\u0646\u0647 \u0635\u062d\u06cc\u062d \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{children:[(0,m.jsx)(he.Z,{value:1,children:"1"},1),(0,m.jsx)(he.Z,{value:2,children:"2"},2),(0,m.jsx)(he.Z,{value:3,children:"3"},3),(0,m.jsx)(he.Z,{value:4,children:"4"},4)]}))]}),(0,m.jsx)(fe.Z,{className:Z.formField,children:(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({type:"text"},b("number")),{},{label:"\u0634\u0645\u0627\u0631\u0647 \u0633\u0648\u0627\u0644"}))}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(a.Z,{children:"\u0633\u0648\u0627\u0644"}),(0,m.jsx)(vn,{value:W,setValue:function(e){return B(e)}})]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(a.Z,{children:"\u06af\u0632\u06cc\u0646\u0647 \u0627\u0648\u0644"}),(0,m.jsx)(vn,{value:rn.option1,setValue:function(e){return on(e,"option1")}})]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(a.Z,{children:"\u06af\u0632\u06cc\u0646\u0647 \u062f\u0648\u0645"}),(0,m.jsx)(vn,{value:rn.option2,setValue:function(e){return on(e,"option2")}})]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(a.Z,{children:"\u06af\u0632\u06cc\u0646\u0647 \u0633\u0648\u0645"}),(0,m.jsx)(vn,{value:rn.option3,setValue:function(e){return on(e,"option3")}})]}),(0,m.jsxs)(fe.Z,{className:Z.formField,children:[(0,m.jsx)(a.Z,{children:"\u06af\u0632\u06cc\u0646\u0647 \u0686\u0647\u0627\u0631\u0645"}),(0,m.jsx)(vn,{value:rn.option4,setValue:function(e){return on(e,"option4")}})]}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:Z.specialField,disabled:_,type:"submit",children:_?(0,m.jsx)(F.Z,{size:24}):"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsx)(o.Z,{className:Z.objectiveTest,children:(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0622\u0632\u0645\u0648\u0646\u200c\u0647\u0627\u06cc \u062a\u0633\u062a\u06cc"})})]})},yn=function(){return(0,T.useQuery)(["Get-All-Main-Objective-Tests"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.AA.objectiveTestControllerFindMainObjectiveTest();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},wn=function(){return(0,T.useMutation)((function(e){return _.o5.objectiveTestManagementControllerCreate((0,S.Z)({},e))}))},Cn=function(e){return(0,T.useQuery)(["Get-All-Book-References-Based-On-Objective-Test-Id"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.aE.questionControllerFindBookReferencesBasedOnObjectiveTests(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1})},Sn=["onChange"],kn=["onChange"],An=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},ObjectiveTestManagement:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},durationField:{margin:"1rem",width:"100%",display:"none"},editorField:{margin:"2rem 0"},specialField:{margin:"1rem"}}})),Rn=function(e){var n=An();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var r=(0,N.cI)(),i=r.handleSubmit,s=r.register,l=(r.clearErrors,r.control),u=(r.formState.errors,t.useState()),f=(0,c.Z)(u,2),p=f[0],h=f[1],v=(0,t.useRef)(),x=(0,t.useState)(!1),Z=(0,c.Z)(x,2),g=(Z[0],Z[1]),j=t.useState(),b=(0,c.Z)(j,2),y=b[0],w=b[1],C=(0,t.useRef)(),R=yn(),F=Cn(p),T=wn();(0,t.useEffect)((function(){F.refetch()}),[p]);var _=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),T.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(g(!1),U.Am.success(n.message)):(g(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:n.container,children:(0,m.jsxs)("form",{onSubmit:i(_),children:[(0,m.jsxs)(fe.Z,{className:n.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0622\u0632\u0645\u0648\u0646"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==p&&void 0!==p?p:""},s("objectiveTest",{required:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0622\u0632\u0645\u0648\u0646 \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"})),{},{inputRef:v,onChange:function(e){h(e.target.value)},children:!(null!==R&&void 0!==R&&R.isLoading)&&(null===R||void 0===R?void 0:R.data.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.number},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:n.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==y&&void 0!==y?y:""},s("bookReferences",{required:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628 \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"})),{},{inputRef:C,onChange:function(e){w(e.target.value)},children:!(null!==F&&void 0!==F&&F.isLoading)&&(null===F||void 0===F?void 0:F.data.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsx)(o.Z,{className:n.specialField,children:(0,m.jsx)(N.Qr,{name:"start",control:l,render:function(e){var n=e.field,r=n.onChange;(0,P.Z)(n,Sn);return(0,m.jsx)(tn._,{dateAdapter:an.Y,children:(0,m.jsx)(on.x,{label:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0622\u0632\u0645\u0648\u0646",onChange:function(e){r(e)},components:{OpenPickerIcon:B.qHq}})})}})}),(0,m.jsx)(o.Z,{className:n.specialField,children:(0,m.jsx)(N.Qr,{name:"end",control:l,render:function(e){var n=e.field,r=n.onChange;(0,P.Z)(n,kn);return(0,m.jsx)(tn._,{dateAdapter:an.Y,children:(0,m.jsx)(on.x,{label:"\u062a\u0627\u0631\u06cc\u062e \u0627\u062a\u0645\u0627\u0645 \u0622\u0632\u0645\u0648\u0646",onChange:function(e){r(e)},components:{OpenPickerIcon:B.qHq}})})}})}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:n.specialField,type:"submit",children:"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsx)(o.Z,{className:n.ObjectiveTestManagement,children:(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0622\u0632\u0645\u0648\u0646\u200c\u0647\u0627\u06cc \u062a\u0633\u062a\u06cc"})})]})},Fn=function(){return(0,T.useMutation)((function(e){return _.AX.bookReferenceControllerCreate((0,S.Z)({},e))}))},Nn=function(){return(0,T.useMutation)((function(e){return _.AX.bookReferenceControllerUpdate(e.id,(0,S.Z)((0,S.Z)({},e),{},{image:e.image[0]}))}))},Un=function(){return(0,T.useMutation)((function(e){return _.AX.bookReferenceControllerRemove(e)}))},Tn=["ref","onChange"],_n=(0,l.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Ln=function(e){var n=_n();(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var r=(0,t.useState)(!1),i=(0,c.Z)(r,2),l=i[0],u=i[1],f=Fn(),p=Nn(),h=(0,t.useRef)(),v=(0,t.useRef)(),x=we(),Z=Un(),g=(0,t.useState)(1),j=(0,c.Z)(g,2),b=j[0],y=j[1],w=(0,t.useState)(10),C=(0,c.Z)(w,1)[0],T=(0,t.useState)({doUpdate:!1,data:"",id:null}),_=(0,c.Z)(T,2),L=_[0],E=_[1],O=(0,t.useState)(),W=(0,c.Z)(O,2),I=W[0],M=W[1],z=(0,t.useState)(),H=(0,c.Z)(z,2),D=H[0],G=H[1],Q=t.useState([]),K=(0,c.Z)(Q,2),Y=K[0],V=K[1],X=je(),$=(0,t.useRef)();(0,t.useEffect)((function(){if(D){var e=URL.createObjectURL(D);return M(e),function(){return URL.revokeObjectURL(e)}}M(void 0)}),[D]);var J=(0,t.useRef)(null),ee=(0,t.useState)({doUpdate:!1,data:"",id:null}),ne=(0,c.Z)(ee,2),re=(ne[0],ne[1]),te=(0,N.cI)(),ie=te.handleSubmit,oe=te.register,ae=(te.formState.errors,oe("image")),le=ae.ref,ue=ae.onChange,ce=(0,P.Z)(ae,Tn),de=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),f.mutate((0,S.Z)((0,S.Z)({},n),{},{image:n.image[0]}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),x.refetch(),U.Am.success(n.message)):(u(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ve=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),p.mutate((0,S.Z)({id:L.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),x.refetch(),U.Am.success(n.message),E({doUpdate:!1,data:"",id:null}),re({doUpdate:!1,data:"",id:null}),V(null),M(ye.f.BASE+"/"+void 0)):(u(!1),Array.isArray(n.message)?U.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):U.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:n.container,children:(0,m.jsxs)("form",{onSubmit:L.doUpdate?ie(ve):ie(de),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u06a9\u062a\u0627\u0628 ",variant:"outlined",className:n.formField,inputRef:v,value:L.data},oe("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u06a9\u062a\u0627\u0628 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{onChange:function(e){L.doUpdate?E({doUpdate:!0,data:e.target.value,id:L.id}):E({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:n.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Y&&void 0!==Y?Y:[]},oe("gradeLevels")),{},{inputRef:h,onChange:function(e){V(e.target.value)},multiple:!0,children:!(null!==X&&void 0!==X&&X.isLoading)&&(null===X||void 0===X?void 0:X.data.map((function(e){return(0,m.jsx)(he.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(o.Z,{display:"flex",position:"relative",borderRadius:"100%",mb:3,children:[D||I?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{component:"img",src:"undefined"===String(I).split("/")[3]?be:I,alt:"test flag",width:100,height:100})}):(0,m.jsx)(o.Z,{component:"img",src:be,alt:"User flag",width:100,height:100}),(0,m.jsxs)(s.Z,{sx:{backgroundColor:"#FCF0FF",width:28,height:28,borderRadius:"8px",p:.5,position:"absolute",bottom:-10},onClick:function(){return $.current.click()},children:[(0,m.jsx)(B.fnU,{}),(0,m.jsx)("input",(0,S.Z)((0,S.Z)({},ce),{},{type:"file",ref:function(e){le(e),$.current=e},hidden:!0,onChange:function(e){$.current.files&&0!==$.current.files.length?G($.current.files[0]):G(void 0),ue(e)}}))]})]}),(0,m.jsx)(d.Z,{variant:"contained",color:"primary",className:n.formButton,disabled:l,type:"submit",children:l?(0,m.jsx)(F.Z,{size:24}):L.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:n.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u06a9\u062a\u0627\u0628\u200c\u0647\u0627"}),x.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(se,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===x||void 0===x?void 0:x.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{onClick:function(){E({doUpdate:!0,data:e.title,id:e._id}),re({doUpdate:!0,data:e.description,id:e._id}),V(e.gradeLevels),setTimeout((function(){v.current.focus()}),100),setTimeout((function(){J.current.focus()}),200),setTimeout((function(){h.current.focus()}),300),M(ye.f.BASE+"/"+e.image)},children:(0,m.jsx)(B._3A,{width:12,height:12})}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u06a9\u062a\u0627\u0628 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void Z.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),x.refetch(),U.Am.success(n.message)):(u(!1),U.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(B.TKD,{width:16,height:16})})})]})}}})),pagination:{page:b,count:1,rowsPerPage:C,onChange:function(e,n){y(n)},onRowsPerPageChange:function(){}}})]})]})},En=function(){var e=(0,C.v9)((function(e){return e.user}));return(0,m.jsxs)(i.Z5,{children:[(0,m.jsx)(i.AW,{path:"/field-of-study",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(ue,{})})}),(0,m.jsx)(i.AW,{path:"/grade-level",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Ke,{})})}),(0,m.jsx)(i.AW,{path:"/book",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(ke,{})})}),(0,m.jsx)(i.AW,{path:"/book-reference",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Ln,{})})}),(0,m.jsx)(i.AW,{path:"/chapter",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(_e,{})})}),(0,m.jsx)(i.AW,{path:"/section",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(en,{})})}),(0,m.jsx)(i.AW,{path:"/subject",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Me,{})})}),(0,m.jsx)(i.AW,{path:"/",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(de,{})})}),(0,m.jsx)(i.AW,{path:"/objective-test",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(dn,{})})}),(0,m.jsx)(i.AW,{path:"/objective-test-management",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Rn,{})})}),(0,m.jsx)(i.AW,{path:"/question",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(bn,{})})})]})},On=r(1688),Wn=(0,l.Z)((function(e){return{container:{margin:"32px 52px"},menu:{margin:"0 0 0 150px ",width:"300px"},button:{color:e.palette.text.primary},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,padding:"5px"}}})),Bn=function(){var e,n,r,l=(0,On.H)((function(e){return e})),u=(0,On.M)((function(e){return e})).setAccessToken;(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var c=Wn(),d=(0,i.s0)();return(0,m.jsxs)(o.Z,{className:c.container,children:[(0,m.jsxs)(o.Z,{display:"flex",justifyContent:"space-around",children:[(0,m.jsxs)(o.Z,{display:"flex",gap:"10px",children:[(0,m.jsx)(a.Z,{variant:"h5",children:null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.username}),null===l||void 0===l||null===(n=l.user)||void 0===n||null===(r=n.roles)||void 0===r?void 0:r.map((function(e){return(0,m.jsx)(o.Z,{className:c.badge,children:(0,m.jsx)(a.Z,{variant:"body2",children:"User"===e.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},e.title)}))]}),(0,m.jsx)(o.Z,{children:(0,m.jsx)(s.Z,{className:c.button,onClick:function(){u(""),l.setUser(null),localStorage.removeItem("auth-storage"),d("/")},children:(0,m.jsx)(y.Z,{})})})]}),(0,m.jsxs)(o.Z,{display:"flex",mt:"50px",gap:"100px",flexWrap:"wrap",children:[(0,m.jsx)(o.Z,{className:c.menu,children:(0,m.jsx)(Z,{items:b})}),(0,m.jsx)(o.Z,{children:(0,m.jsx)(En,{})})]})]})},qn=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,m.jsx)(g.Z,{})},{title:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f",to:"/pv/karanbala/dashboard",startIcon:(0,m.jsx)(j.Z,{})},{category:{children:[{title:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644"}]}}],In=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),Pn=function(){var e=In();return(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,m.jsx)(o.Z,{className:e.container,children:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f"})},Mn=function(){var e=(0,C.v9)((function(e){return e.user}));return(0,m.jsx)(i.Z5,{children:(0,m.jsx)(i.AW,{path:"/",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,m.jsx)(Pn,{})})})})},zn=(0,l.Z)((function(e){return{container:{margin:"32px 52px"},menu:{margin:"0 0 0 150px ",width:"300px"},button:{color:e.palette.text.primary},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,padding:"5px"}}})),Hn=function(){var e,n,r,l=(0,On.H)((function(e){return e})),u=(0,On.M)((function(e){return e})).setAccessToken;(0,t.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var c=zn(),d=(0,i.s0)();return(0,m.jsxs)(o.Z,{className:c.container,children:[(0,m.jsxs)(o.Z,{display:"flex",justifyContent:"space-around",children:[(0,m.jsxs)(o.Z,{display:"flex",gap:"10px",children:[(0,m.jsx)(a.Z,{variant:"h5",children:null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.username}),null===l||void 0===l||null===(n=l.user)||void 0===n||null===(r=n.roles)||void 0===r?void 0:r.map((function(e){return(0,m.jsx)(o.Z,{className:c.badge,children:(0,m.jsx)(a.Z,{variant:"body2",children:"User"===e.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},e.title)}))]}),(0,m.jsx)(o.Z,{children:(0,m.jsx)(s.Z,{className:c.button,onClick:function(){u(""),l.setUser(null),d("/")},children:(0,m.jsx)(y.Z,{})})})]}),(0,m.jsxs)(o.Z,{display:"flex",mt:"50px",gap:"100px",flexWrap:"wrap",children:[(0,m.jsx)(o.Z,{className:c.menu,children:(0,m.jsx)(Z,{items:qn})}),(0,m.jsx)(o.Z,{children:(0,m.jsx)(Mn,{})})]})]})},Dn=r(5200),Gn=function(e){var n=e.children,r=(0,On.M)((function(e){return e})).accessToken,i=(0,On.H)((function(e){return e}));return(0,t.useEffect)((function(){if(r&&null===i.user){var e=(0,Dn.Z)(null!==r&&void 0!==r?r:"");ye.f.TOKEN=r,i.setUser(e)}else ye.f.TOKEN=r}),[r,i]),(0,m.jsx)(m.Fragment,{children:n})},Qn=function(){var e=(0,On.H)((function(e){return e}));return(0,m.jsx)(Gn,{children:(0,m.jsxs)(i.Z5,{children:[(0,m.jsx)(i.AW,{path:"/karanbala/dashboard/*",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,m.jsx)(Hn,{})})}),(0,m.jsx)(i.AW,{path:"/karanbala/admin/*",element:(0,m.jsx)(w.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Bn,{})})})]})})}}}]);