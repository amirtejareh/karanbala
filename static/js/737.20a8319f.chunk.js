"use strict";(self.webpackChunkkaranbala=self.webpackChunkkaranbala||[]).push([[737],{9213:function(e,n,t){t.d(n,{p:function(){return C},q:function(){return L}});var r=t(9439),i=t(5987),o=t(1413),a=t(7313),s=t(6241),u=t(8070),l=t(9860),c=t(4813),d=t(6149),f=t(3604),p=t(6467),m=t(7131),h=t(301),v=t(4441),x=t(6417),g=["children","onClose"],Z=["opener","title","onSubmit","onOpen","children","secondary","fullScreen","onClose","modalState"],j=a.forwardRef((function(e,n){return(0,x.jsx)(h.Z,(0,o.Z)({direction:"up",ref:n},e))})),b=(0,s.Z)((function(e){return{root:{margin:0,padding:e.spacing(5),paddingBottom:e.spacing(3),paddingTop:e.spacing(2),color:"#1D252F !important","& .MuiIconButton-root":{position:"absolute",left:e.spacing(1),top:e.spacing(1.5),"& svg":{color:function(n){return e.palette.grey[600]},width:"1.4rem",height:"1.4rem"},"&:hover":{svg:{color:function(n){return e.palette.primary.main}}}}}}}))((function(e){var n=e.children,t=e.onClose,r=(0,i.Z)(e,g);return(0,x.jsxs)(f.Z,(0,o.Z)((0,o.Z)({},r),{},{children:[n,t?(0,x.jsx)(m.Z,{size:"small","aria-label":"close",color:"secondary",onClick:t,children:(0,x.jsx)(v.sZC,{color:"secondary"})}):null]}))})),y=(0,s.Z)((function(e){return{root:{padding:e.spacing(5),fontSize:"18px !important",color:"#1D252F",minHeight:"15rem"}}}))(p.Z),w=(0,u.Z)((function(){return{paper:{width:"100%",backgroundImage:"none",backgroundColor:"#fff"}}})),C=function(e){var n=e.opener,t=e.title,s=e.onSubmit,u=e.onOpen,f=e.children,p=(e.secondary,e.fullScreen),m=e.onClose,h=e.modalState,v=void 0!==h&&h,g=(0,i.Z)(e,Z),C=a.useState(v),S=(0,r.Z)(C,2),k=S[0],A=S[1],R=(0,l.Z)(),U=(0,c.Z)(R.breakpoints.down("sm")),F=w();a.useEffect((function(){A(v)}),[v]);var N=function(){m&&m(),A(!1)};return(0,x.jsxs)(x.Fragment,{children:[n&&a.cloneElement(n,{onClick:function(){u&&u(),A(!0)}}),(0,x.jsxs)(d.Z,(0,o.Z)((0,o.Z)({fullScreen:p||U,maxWidth:"xs",onClose:N,"aria-labelledby":"customized-dialog-title",classes:{paper:F.paper},open:k,TransitionComponent:j},g),{},{children:[t&&(0,x.jsx)(b,{id:"customized-dialog-title",onClose:N,children:t}),(0,x.jsx)(y,{children:f({handleApproved:function(){A(!1),s&&s(),m&&m(),A(!1)},handleClose:N})})]}))]})},S=t(2868),k=t(4117),A=t(9735),R=["children","onClose"],U=(0,u.Z)((function(e){return{dialogStyle:{"& h2":(0,o.Z)((0,o.Z)({},e.typography.body1),{},{fontWeight:500}),borderBottom:"1px solid ".concat(e.palette.grey[300]),padding:"2rem"},dialogActionStyle:{padding:"2rem ",display:"flex",justifyContent:"center"}}})),F=a.forwardRef((function(e,n){return(0,x.jsx)(h.Z,(0,o.Z)({direction:"up",ref:n},e))})),N=(0,s.Z)((function(e){return{root:{margin:0,padding:e.spacing(5),paddingBottom:e.spacing(3),paddingTop:e.spacing(2),"& .MuiIconButton-root":{position:"absolute",left:e.spacing(1),top:e.spacing(1.5),"& svg":{color:function(n){return e.palette.grey[600]},width:"1.4rem",height:"1.4rem"},"&:hover":{svg:{color:function(n){return e.palette.primary.main}}}}}}}))((function(e){var n=e.children,t=e.onClose,r=(0,i.Z)(e,R);return(0,x.jsxs)(f.Z,(0,o.Z)((0,o.Z)({},r),{},{children:[n,t?(0,x.jsx)(m.Z,{size:"small","aria-label":"close",color:"secondary",onClick:t,children:(0,x.jsx)(v.sZC,{color:"secondary"})}):null]}))})),T=(0,s.Z)((function(e){return{root:{paddingTop:"".concat(e.spacing(2),"!important "),color:"dark"===e.palette.mode?"".concat(e.palette.grey[50]," !important"):"".concat(e.palette.grey.A200," !important")}}}))(p.Z),L=function(e){var n=U(),t=e.prompModalState,i=void 0!==t&&t,o=e.onClose,s=a.useState(i),u=(0,r.Z)(s,2),l=u[0],c=u[1];a.useEffect((function(){c(i)}),[i]);var f=function(){c(!1),o&&o(),c(!1)},p={title:e.title||"",content:e.description||"\u0622\u06cc\u0627 \u0627\u0632 \u0627\u0646\u062c\u0627\u0645 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f \u061f",approved:e.approved||"\u0628\u0644\u0647",denied:e.denied||"\u062e\u06cc\u0631"};return(0,x.jsxs)(x.Fragment,{children:[a.cloneElement(e.children,{onClick:function(){c(!0)}}),(0,x.jsxs)(d.Z,{open:l,TransitionComponent:F,onClose:f,maxWidth:"sm","aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[(0,x.jsx)(N,{onClose:f,id:"alert-dialog-slide-title",children:p.title}),(0,x.jsx)(T,{children:(0,x.jsx)(S.Z,{id:"alert-dialog-slide-description",children:p.content})}),(0,x.jsxs)(k.Z,{className:n.dialogActionStyle,children:[(0,x.jsx)(A.b,{autoFocus:!0,variant:"contained",onClick:function(){e.onConfirm(),c(!1),o&&o(),c(!1)},size:"xs",children:p.approved}),e.denied&&(0,x.jsx)(A.b,{variant:"outlined",onClick:f,size:"xs",children:p.denied})]})]})]})}},1593:function(e,n,t){t.r(n),t.d(n,{default:function(){return fn}});var r=t(7313),i=t(8467),o=t(9506),a=t(1113),s=t(7131),u=t(8070),l=t(3433),c=t(9439),d=t(9099),f=t(2135),p=t(6417),m=function(e){var n=(0,r.useState)([{key:"",value:!1}]),t=(0,c.Z)(n,2),i=t[0],o=t[1],a=e.item,s=e.depthLevel,u=(0,r.useRef)();return(0,p.jsx)("li",{className:"menu-items",ref:u,children:a.category?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:"categoryTitle",children:a.category.title}),a.category.children.map((function(e,n){var t;return(0,p.jsx)(r.Fragment,{children:e.submenu?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{type:"button","aria-haspopup":"menu",onClick:function(){o((function(n){var t;return[].concat((0,l.Z)(n),[{key:e.title,value:!(null!==(t=n[n.map((function(e){return e.key})).lastIndexOf(e.title)])&&void 0!==t&&t.value)}])}))},style:{display:"flex",justifyContent:"space-between"},children:[e.title," ",s>0?(0,p.jsx)("span",{children:"\xbb"}):(0,p.jsxs)(p.Fragment,{children:[" ",null!==(t=i[i.map((function(e){return e.key})).lastIndexOf(e.title)])&&void 0!==t&&t.value?(0,p.jsx)("span",{className:"arrow"}):(0,p.jsx)("span",{className:"arrow-left"})]})]}),(0,p.jsx)(h,{depthLevel:s,submenus:e.submenu,subtitle:i,index:e.title})]}):(0,p.jsx)(d.Z,{disableRipple:!0,component:f.OL,to:e.to,startIcon:e.startIcon,children:e.title})},n)}))]}):(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.Z,{disableRipple:!0,component:f.OL,to:a.to,startIcon:a.startIcon,children:a.title})})})},h=function(e){var n,t=e.submenus,r=e.depthLevel,i=e.index,o=e.subtitle,a=o.map((function(e){return e.key})).lastIndexOf(i),s=(r+=1)>1?"dropdown-submenu":"";return(0,p.jsx)("ul",{"data-id":i,className:"dropdown ".concat(s," ").concat(null!==(n=o[a])&&void 0!==n&&n.value?"show":""),children:t.map((function(e,n){return(0,p.jsx)(m,{item:e,depthLevel:r},n)}))})},v=(0,t(7894).Z)(o.Z)((function(){return"\n  :root{\n    font-family:IRANSans !important;\n    }\n  \n  .menus {\n    display: flex;\n    list-style: none;\n    direction: ltr;\n    flex-direction: column;\n    \n  }\n  .menu-items {\n    position: relative;\n    text-align: left;\n    \n  }\n  \n  .menu-items a,\n  .menu-items button {\n    margin: 0 ;\n    padding:0 10px 0  0;\n    line-height: 2;\n    font-family:IRANSans !important;\n\n  }\n  \n  .menu-items a {\n    display: block;\n    color: inherit;\n    text-decoration: none;\n  }\n  \n  .menu-items button {\n    color: inherit;\n    font-size: inherit;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    width: 100%;\n  }\n \n  .arrow::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-top: 0.42em solid;\n    border-right: 0.32em solid transparent;\n    border-left: 0.32em solid transparent;\n  }\n\n  .arrow-left::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-bottom: 0.32em solid transparent;\n    border-right: 0.32em solid  transparent;\n    border-left: 0.42em solid ;\n    border-top: 0.32em solid transparent;\n  }\n\n  .categoryTitle{\n    color: #707e8d\n  }\n  \n  .dropdown {\n\n    box-shadow: 0 10px 15px -3px rgba(46, 41, 51, 0.08),\n    0 4px 6px -2px rgba(71, 63, 79, 0.16);\n    z-index: 9999;\n    min-width: 100px;\n    padding: 0.5rem 0;\n    border-radius: 0.5rem;\n    list-style-type: disc; \n    display: none;\n  }\n  \n  .dropdown.show {\n    display: block;\n    padding: 0 28px;\n  }\n  \n  .dropdown .dropdown-submenu {\n    position: absolute;\n    left: 10px;\n    top: 15px\n  }\n  span{ display: inline}\n  span .MuiSvgIcon-root{font-size:15px}\n  "})),x=function(e){var n=e.children;return(0,p.jsx)(v,{children:(0,p.jsx)("ul",{className:"menus",children:n})})},g=function(e){var n=e.items;return(0,p.jsx)(x,{children:n.map((function(e,n){return(0,p.jsx)(m,{item:e,depthLevel:0,children:" "},n)}))})},Z=t(7887),j=t(1765),b=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,p.jsx)(Z.Z,{})},{title:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f",to:"/pv/karanbala/admin",startIcon:(0,p.jsx)(j.Z,{})},{category:{children:[{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u062d\u062a\u0648\u0627",submenu:[{title:"\u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/field-of-study"},{title:"\u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/grade-level"},{title:"\u06a9\u062a\u0627\u0628",to:"/pv/karanbala/admin/book"},{title:"\u0641\u0635\u0644",to:"/pv/karanbala/admin/chapter"},{title:"\u0628\u062e\u0634",to:"/pv/karanbala/admin/section"},{title:"\u0645\u0648\u0636\u0648\u0639",to:"/pv/karanbala/admin/subject"}]}]}}],y=t(2702),w=t(1688),C=t(5200),S=function(e){var n,t=e.route,o=e.userRole,a=e.children,s=(0,w.M)((function(e){return e})),u=s.accessToken,l=s.setAccessToken,c=(0,w.H)((function(e){return e})).setUser,d=(0,i.s0)();(0,r.useEffect)((function(){if(u){var e=(0,C.Z)(null!==u&&void 0!==u?u:localStorage.getItem("auth-storage"));Math.floor(Date.now()/1e3)>e.exp&&(localStorage.removeItem("auth-storage"),c(null),l(null),d("/"))}}),[u,d]);var f=null===o||void 0===o||null===(n=o.roles)||void 0===n?void 0:n.some((function(e){var n;return t.requiredRoles.includes(e.title)&&(null===(n=e.permissions)||void 0===n?void 0:n.some((function(e){return e.resource===t.resource&&e.action===t.action})))}));return f||void 0===f?(0,p.jsx)(p.Fragment,{children:a}):(localStorage.removeItem("auth-storage"),c(null),l(null),(0,p.jsx)(i.Fg,{to:"/"}))},k=t(5554),A=t(1413),R=t(4165),U=t(5861),F=t(6783),N=t(5281),T=t(5627),L=t(56),E=t(8765),_=function(){return(0,L.useMutation)((function(e){return E.uY.fieldOfStudyControllerCreate((0,A.Z)({},e))}))},O=t(1387),I=function(){return(0,L.useQuery)(["Get-All-Field-Of-Studies"],(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.uY.fieldOfStudyControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},P=t(4942),B=t(5987),W=t(7551),M=t(1629),q=t(6835),H=t(3477),z=t(4076),D=t(7478),G=t(4758),Q=t(3467),K=t(5033),Y=t(5743),J=t(3061),$=t(7970),V=t(38),X=["rowsPerPage","onRowsPerPageChange","total"],ee=(0,u.Z)((function(e){return(0,V.Z)({root:{width:"100%",display:"flex",justifyContent:"center","& > *":{marginTop:e.spacing(2)},"& .MuiPaginationItem-page":{backgroundColor:e.palette.background.paper},"& .MuiPagination-ul":{justifyContent:"flex-start"},"& .Mui-selected":{backgroundColor:"".concat(e.palette.primary.main," !important"),color:e.palette.background.paper,boxShadow:"0 14px 26px -12px rgb(103 28 201 / 42%), 0 4px 23px 0px rgb(0 0 0 / 12%), 0 8px 10px -5px rgb(103 28 201 / 20%)"}}})})),ne=function(e){e.rowsPerPage,e.onRowsPerPageChange,e.total;var n=(0,B.Z)(e,X),t=ee();return(0,p.jsx)("div",{className:t.root,children:(0,p.jsx)($.Z,(0,A.Z)({defaultPage:1,color:"primary",variant:"outlined"},n))})},te=t(4441),re=["headers","loading","children","rows","onSelect","expandHeader","menuHeader","pagination","onExpand","emptyNode","emptyRows","newItems","successItems","errorItems","edit","secondary","successHeader","errorHeader","hasStyle"],ie=(0,u.Z)((function(e){return{skeleton:{borderRadius:0},loadingTD:{border:"none",paddingBottom:"0",paddingRight:"0",paddingLeft:"0",paddingTop:"0"},moreIcon:{},successRow:{backgroundColor:"".concat((0,W.Fq)(e.palette.success.dark,.13)," !important")},errorRow:{backgroundColor:"".concat((0,W.Fq)(e.palette.error.dark,.1)," !important")},secondary:{"& .MuiTableCell-head":{backgroundColor:"transparent"},"& .MuiTableBody-root":{"& tr:nth-of-type(even)":{backgroundColor:"transparent"},"& tr:nth-of-type(odd)":{backgroundColor:"transparent"}}},successHeader:{"&.MuiTableCell-head":{color:e.palette.success.main}},errorHeader:{"&.MuiTableCell-head":{color:e.palette.error.dark}},"$MuiTableCell-body":{padding:"1.6rem"},sumColumns:{"& .MuiTableCell-body":{backgroundColor:"#2e2e33",paddingTop:"20px !important",paddingBottom:"20px !important"}}}})),oe=function(e){var n=e.headers,t=e.loading,i=(e.children,e.rows),o=e.onSelect,a=e.expandHeader,u=e.menuHeader,l=e.pagination,d=e.onExpand,f=e.emptyNode,m=(e.emptyRows,e.newItems,e.successItems,e.errorItems,e.edit,e.secondary),h=e.successHeader,v=e.errorHeader,x=(e.hasStyle,(0,B.Z)(e,re)),g=ie({secondary:m,successHeader:h,errorHeader:v}),Z=r.useState([]),j=(0,c.Z)(Z,2),b=j[0],y=j[1],w=r.useState({}),C=(0,c.Z)(w,2),S=C[0],k=C[1],R=n.length;a&&(R+=1),u&&(R+=1),o&&(R+=1),r.useMemo((function(){l&&k({})}),[null===l||void 0===l?void 0:l.page,null===l||void 0===l?void 0:l.rowsPerPage]);return(0,p.jsxs)(M.Z,{children:[(0,p.jsxs)(q.Z,(0,A.Z)((0,A.Z)({className:(0,J.Z)(g.table,(0,P.Z)({},g.secondary,m)),"aria-label":"table"},x),{},{children:[(0,p.jsx)(H.Z,{children:(0,p.jsxs)(z.Z,{children:[o&&(0,p.jsx)(D.Z,{padding:"checkbox",children:(0,p.jsx)(G.Z,{indeterminate:b.length>0&&b.length<i.length,checked:i.length>0&&b.length===i.length,onChange:function(e){if(e.target.checked){var n=i.reduce((function(e,n){var t=n.id;return t&&e.push(t),e}),[]);return o&&o(n),void y(n)}y([])},inputProps:{"aria-label":"select all desserts"}})}),a&&(0,p.jsx)(D.Z,{width:150,component:"th",children:a}),n.map((function(e,n){var t;return(0,p.jsx)(D.Z,(0,A.Z)((0,A.Z)({},e),{},{component:"th",className:(0,J.Z)((t={},(0,P.Z)(t,g.successHeader,h),(0,P.Z)(t,g.errorHeader,v),t))}),n)})),u&&(0,p.jsx)(D.Z,{width:150,component:"th",children:u})]})}),t?(0,p.jsx)(p.Fragment,{children:"Loading..."}):(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(Q.Z,{children:[(null===i||void 0===i?void 0:i.length)>0?null===i||void 0===i?void 0:i.map((function(e,n){var t,i=e.data,a=e.expandNode,u=e.expandNodeContent,l=e.id,c=e.onPressTitle,f=e.clickOnIndexId,m=void 0===f?0:f,h=!!l&&(t=l,-1!==b.indexOf(t));return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(z.Z,{hover:!0,role:"checkbox","aria-checked":h,tabIndex:-1,selected:h,children:[o&&(0,p.jsx)(D.Z,{onClick:function(e){return function(e,n){var t=b.indexOf(n),r=[];-1===t?r=r.concat(b,n):0===t?r=r.concat(b.slice(1)):t===b.length-1?r=r.concat(b.slice(0,-1)):t>0&&(r=r.concat(b.slice(0,t),b.slice(t+1))),o&&o(r),y(r)}(0,l)},padding:"checkbox",children:(0,p.jsx)(G.Z,{checked:h,inputProps:{"aria-labelledby":String(l)}})}),a&&(0,p.jsx)(D.Z,{children:(0,p.jsxs)(Y.Z,{display:"inline-block",onClick:function(){k((function(e){return(0,A.Z)((0,A.Z)({},e),{},(0,P.Z)({},n,!e[n]))})),d&&d(l)},children:[u,(0,p.jsx)(s.Z,{"aria-label":"expand row",size:"small",onClick:function(){k((function(e){return(0,A.Z)((0,A.Z)({},e),{},(0,P.Z)({},n,!e[n]))})),d&&d(l)},children:S[n]?(0,p.jsx)(te.UF1,{}):(0,p.jsx)(te.nOJ,{})})]})}),Object.values(i).map((function(e,n){return(0,p.jsx)(D.Z,{onClick:function(){void 0!==c&&n===m&&c()},children:e},n)}))]},n),a&&(0,p.jsx)(z.Z,{children:(0,p.jsx)(D.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:R,children:(0,p.jsx)(K.Z,{in:S[n],timeout:"auto",unmountOnExit:!0,children:(0,p.jsx)(Y.Z,{children:a})})})})]},n)})):(0,p.jsx)(z.Z,{children:(0,p.jsx)(D.Z,{align:"center",colSpan:R,children:f})}),e.children&&(0,p.jsx)(z.Z,{className:g.sumColumns,children:e.children})]})})]})),!t&&l&&(0,p.jsx)(ne,(0,A.Z)({},l))]})},ae=oe;oe.defaultProps={emptyNode:"No Data"};var se=t(9213),ue=function(){return(0,L.useMutation)((function(e){return E.uY.fieldOfStudyControllerRemove(e)}))},le=function(){return(0,L.useMutation)((function(e){return E.uY.fieldOfStudyControllerUpdate(e.id,(0,A.Z)({},e))}))},ce=(0,u.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"2rem 0",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),de=function(e){var n,t=ce(),i=(0,r.useState)(!1),u=(0,c.Z)(i,2),l=u[0],f=u[1],m=(0,r.useState)(1),h=(0,c.Z)(m,2),v=h[0],x=h[1],g=(0,r.useState)(10),Z=(0,c.Z)(g,1)[0],j=(0,r.useState)({doUpdate:!1,data:"",id:null}),b=(0,c.Z)(j,2),y=b[0],w=b[1],C=(0,r.useRef)(null),S=_(),k=le(),L=I(),E=ue(),P=(0,T.cI)(),B=P.handleSubmit,W=P.register,M=P.clearErrors,q=P.formState.errors,H=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),S.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),L.refetch(),O.Am.success(n.message)):(f(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),k.mutate((0,A.Z)({id:y.id},n),{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),L.refetch(),O.Am.success(n.message),w({doUpdate:!1,data:"",id:null})):(f(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,r.useEffect)((function(){var e,n;O.Am.error(null===(e=q.title)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),M()}),[null===(n=q.title)||void 0===n?void 0:n.message]),(0,p.jsxs)(o.Z,{className:t.container,children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)("form",{onSubmit:y.doUpdate?B(z):B(H),children:[(0,p.jsx)(F.Z,(0,A.Z)((0,A.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:t.formField,value:y.data},W("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:C,onChange:function(e){y.doUpdate?w({doUpdate:!0,data:e.target.value,id:y.id}):w({doUpdate:!1,data:e.target.value,id:null})}})),(0,p.jsx)(d.Z,{variant:"contained",color:"primary",className:t.formButton,disabled:l,type:"submit",children:l?(0,p.jsx)(N.Z,{size:24}):y.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,p.jsxs)(o.Z,{className:t.fieldOfStudy,children:[(0,p.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0631\u0634\u062a\u0647 \u0647\u0627\u06cc \u062a\u062d\u0635\u06cc\u0644\u06cc"}),!L.isLoading&&(null===L||void 0===L?void 0:L.data.length)>0?(0,p.jsx)(ae,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===L||void 0===L?void 0:L.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{onClick:function(){w({doUpdate:!0,data:e.title,id:e._id}),C.current.focus()},children:(0,p.jsx)(te._3A,{width:12,height:12})}),(0,p.jsx)(s.Z,{children:(0,p.jsx)(se.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void E.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),L.refetch(),O.Am.success(n.message)):(f(!1),O.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,p.jsx)(te.TKD,{width:16,height:16})})})]})}}})),pagination:{page:v,count:1,rowsPerPage:Z,onChange:function(e,n){x(n)},onRowsPerPageChange:function(){}}}):(0,p.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."})]})]})},fe=(0,u.Z)((function(e){return{container:{margin:"32px 52px"}}})),pe=function(){var e=fe();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,p.jsx)(o.Z,{className:e.container,children:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f"})},me=t(1550),he=t(3306),ve=t(1716),xe=t(7903),ge=function(){return(0,L.useMutation)((function(e){return E.Zp.bookControllerCreate((0,A.Z)({},e))}))},Ze=function(){return(0,L.useMutation)((function(e){return E.Zp.bookControllerUpdate(e.id,(0,A.Z)((0,A.Z)({},e),{},{image:e.image[0]}))}))},je=function(){return(0,L.useQuery)(["Get-All-Books"],(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Zp.bookControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},be=function(){return(0,L.useMutation)((function(e){return E.Zp.bookControllerRemove(e)}))},ye=function(){return(0,L.useQuery)(["Get-All-Grade-Levels"],(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.LS.gradeLevelControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},we=t.p+"static/media/user.68f03813418404ef4cd3.jpg",Ce=t(3960),Se=["ref","onChange"],ke=(0,u.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Ae=function(e){var n=ke();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var t=(0,r.useState)(!1),i=(0,c.Z)(t,2),u=i[0],l=i[1],f=ge(),m=Ze(),h=(0,r.useRef)(),v=(0,r.useRef)(),x=je(),g=be(),Z=(0,r.useState)(1),j=(0,c.Z)(Z,2),b=j[0],y=j[1],w=(0,r.useState)(10),C=(0,c.Z)(w,1)[0],S=(0,r.useState)({doUpdate:!1,data:"",id:null}),k=(0,c.Z)(S,2),L=k[0],E=k[1],_=(0,r.useState)(),I=(0,c.Z)(_,2),P=I[0],W=I[1],M=(0,r.useState)(),q=(0,c.Z)(M,2),H=q[0],z=q[1],D=r.useState([]),G=(0,c.Z)(D,2),Q=G[0],K=G[1],Y=ye(),J=(0,r.useRef)();(0,r.useEffect)((function(){if(H){var e=URL.createObjectURL(H);return W(e),function(){return URL.revokeObjectURL(e)}}W(void 0)}),[H]);var $=(0,r.useRef)(null),V=(0,r.useState)({doUpdate:!1,data:"",id:null}),X=(0,c.Z)(V,2),ee=X[0],ne=X[1],re=(0,T.cI)(),ie=re.handleSubmit,oe=re.register,ue=(re.formState.errors,oe("image")),le=ue.ref,ce=ue.onChange,de=(0,B.Z)(ue,Se),fe=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),f.mutate((0,A.Z)((0,A.Z)({},n),{},{image:n.image[0]}),{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(l(!1),x.refetch(),O.Am.success(n.message)):(l(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),pe=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),m.mutate((0,A.Z)({id:L.id},n),{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(l(!1),x.refetch(),O.Am.success(n.message),E({doUpdate:!1,data:"",id:null}),ne({doUpdate:!1,data:"",id:null}),K(null),W(Ce.f.BASE+"/"+void 0)):(l(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(o.Z,{className:n.container,children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)("form",{onSubmit:L.doUpdate?ie(pe):ie(fe),children:[(0,p.jsx)(F.Z,(0,A.Z)((0,A.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u06a9\u062a\u0627\u0628 ",variant:"outlined",className:n.formField,inputRef:v,value:L.data},oe("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u06a9\u062a\u0627\u0628 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{onChange:function(e){L.doUpdate?E({doUpdate:!0,data:e.target.value,id:L.id}):E({doUpdate:!1,data:e.target.value,id:null})}})),(0,p.jsx)(F.Z,(0,A.Z)((0,A.Z)({label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a  \u06a9\u062a\u0627\u0628",variant:"outlined",className:n.formField,value:ee.data},oe("description",{required:"\u0644\u0637\u0641\u0627 \u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u06a9\u062a\u0627\u0628 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:$,onChange:function(e){ee.doUpdate?ne({doUpdate:!0,data:e.target.value,id:L.id}):ne({doUpdate:!1,data:e.target.value,id:null})}})),(0,p.jsxs)(me.Z,{className:n.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==Q&&void 0!==Q?Q:[]},oe("gradeLevels")),{},{inputRef:h,onChange:function(e){K(e.target.value)},multiple:!0,children:!(null!==Y&&void 0!==Y&&Y.isLoading)&&(null===Y||void 0===Y?void 0:Y.data.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsxs)(o.Z,{display:"flex",position:"relative",borderRadius:"100%",mb:3,children:[H||P?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(o.Z,{component:"img",src:"undefined"===String(P).split("/")[3]?we:P,alt:"test flag",width:100,height:100})}):(0,p.jsx)(o.Z,{component:"img",src:we,alt:"User flag",width:100,height:100}),(0,p.jsxs)(s.Z,{sx:{backgroundColor:"#FCF0FF",width:28,height:28,borderRadius:"8px",p:.5,position:"absolute",bottom:-10},onClick:function(){return J.current.click()},children:[(0,p.jsx)(te.fnU,{}),(0,p.jsx)("input",(0,A.Z)((0,A.Z)({},de),{},{type:"file",ref:function(e){le(e),J.current=e},hidden:!0,onChange:function(e){J.current.files&&0!==J.current.files.length?z(J.current.files[0]):z(void 0),ce(e)}}))]})]}),(0,p.jsx)(d.Z,{variant:"contained",color:"primary",className:n.formButton,disabled:u,type:"submit",children:u?(0,p.jsx)(N.Z,{size:24}):L.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,p.jsxs)(o.Z,{className:n.fieldOfStudy,children:[(0,p.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u06a9\u062a\u0627\u0628\u200c\u0647\u0627"}),x.isLoading?(0,p.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,p.jsx)(ae,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===x||void 0===x?void 0:x.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{onClick:function(){E({doUpdate:!0,data:e.title,id:e._id}),ne({doUpdate:!0,data:e.description,id:e._id}),K(e.gradeLevels),setTimeout((function(){v.current.focus()}),100),setTimeout((function(){$.current.focus()}),200),setTimeout((function(){h.current.focus()}),300),W(Ce.f.BASE+"/"+e.image)},children:(0,p.jsx)(te._3A,{width:12,height:12})}),(0,p.jsx)(s.Z,{children:(0,p.jsx)(se.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u06a9\u062a\u0627\u0628 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void g.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(l(!1),x.refetch(),O.Am.success(n.message)):(l(!1),O.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,p.jsx)(te.TKD,{width:16,height:16})})})]})}}})),pagination:{page:b,count:1,rowsPerPage:C,onChange:function(e,n){y(n)},onRowsPerPageChange:function(){}}})]})]})},Re=function(){return(0,L.useMutation)((function(e){return E.tH.chapterControllerCreate((0,A.Z)({},e))}))},Ue=function(){return(0,L.useMutation)((function(e){return E.tH.chapterControllerUpdate(e.id,(0,A.Z)({},e))}))},Fe=function(){return(0,L.useMutation)((function(e){return E.tH.chapterControllerRemove(e)}))},Ne=function(){return(0,L.useQuery)(["Get-All-Chapters"],(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.tH.chapterControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},Te=function(e){return(0,L.useQuery)(["Get-All-Books-Based-On-Grade-Levels"],(0,U.Z)((0,R.Z)().mark((function n(){return(0,R.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.Zp.bookControllerFindBooksBasedOnGradeLevels(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Le=(0,u.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Ee=function(e){var n,t,i,u,l,f=Le();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var m=(0,r.useState)(!1),h=(0,c.Z)(m,2),v=h[0],x=h[1],g=Re(),Z=Ue(),j=Ne(),b=Fe(),y=(0,r.useState)(1),w=(0,c.Z)(y,2),C=w[0],S=w[1],k=(0,r.useState)(10),L=(0,c.Z)(k,1)[0],E=(0,r.useState)({doUpdate:!1,data:"",id:null}),_=(0,c.Z)(E,2),I=_[0],P=_[1],B=(0,r.useState)([]),W=(0,c.Z)(B,2),M=W[0],q=W[1],H=r.useState(M),z=(0,c.Z)(H,2),D=z[0],G=z[1],Q=Te(0==(null===M||void 0===M?void 0:M.length)?null:M);(0,r.useEffect)((function(){M&&Q.refetch()}),[M]);var K=ye(),Y=(0,T.cI)(),J=Y.handleSubmit,$=Y.register,V=Y.clearErrors,X=Y.formState.errors;(0,r.useEffect)((function(){var e,n,t,r,i,o;O.Am.error(null===(e=X.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),O.Am.error(null===(t=X.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),O.Am.error(null===(i=X.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),V()}),[null===(n=X.books)||void 0===n?void 0:n.message,null===(t=X.title)||void 0===t?void 0:t.message,null===(i=X.gradeLevels)||void 0===i?void 0:i.message]);var ee=(0,r.useRef)(),ne=(0,r.useRef)(),re=(0,r.useRef)(),ie=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),g.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),q(null),P({doUpdate:!1,data:"",id:null}),G(null),j.refetch(),O.Am.success(n.message)):(x(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),oe=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Z.mutate((0,A.Z)({id:I.id},n),{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),j.refetch(),O.Am.success(n.message),P({doUpdate:!1,data:"",id:null}),q(null),G(null)):(x(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(o.Z,{className:f.container,children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)("form",{onSubmit:I.doUpdate?J(oe):J(ie),children:[(0,p.jsx)(F.Z,(0,A.Z)((0,A.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0641\u0635\u0644 ",variant:"outlined",className:f.formField,value:I.data},$("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0641\u0635\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:ne,onChange:function(e){I.doUpdate?P({doUpdate:!0,data:e.target.value,id:I.id}):P({doUpdate:!1,data:e.target.value,id:null})}})),(0,p.jsxs)(me.Z,{className:f.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==M&&void 0!==M?M:[]},$("gradeLevels")),{},{inputRef:ee,onChange:function(e){q(e.target.value)},multiple:!0,children:!(null!==K&&void 0!==K&&K.isLoading)&&(null===K||void 0===K||null===(u=K.data)||void 0===u?void 0:u.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsxs)(me.Z,{className:f.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==D&&void 0!==D?D:[]},$("books")),{},{inputRef:re,onChange:function(e){G(e.target.value)},multiple:!0,children:!(null!==Q&&void 0!==Q&&Q.isLoading)&&void 0!=(null===Q||void 0===Q?void 0:Q.data)&&(null===Q||void 0===Q||null===(l=Q.data)||void 0===l?void 0:l.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsx)(d.Z,{variant:"contained",color:"primary",className:f.formButton,disabled:v,type:"submit",children:v?(0,p.jsx)(N.Z,{size:24}):I.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,p.jsxs)(o.Z,{className:f.fieldOfStudy,children:[(0,p.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0641\u0635\u0644\u200c\u0647\u0627"}),j.isLoading?(0,p.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,p.jsx)(ae,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===j||void 0===j?void 0:j.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{onClick:function(){P({doUpdate:!0,data:e.title,id:e._id}),q(e.gradeLevels),G(e.books.map((function(e){return e}))),setTimeout((function(){ne.current.focus()}),100),setTimeout((function(){ee.current.focus()}),200),setTimeout((function(){re.current.focus()}),300)},children:(0,p.jsx)(te._3A,{width:12,height:12})}),(0,p.jsx)(s.Z,{children:(0,p.jsx)(se.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0641\u0635\u0644 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void b.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),j.refetch(),O.Am.success(n.message)):(x(!1),O.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,p.jsx)(te.TKD,{width:16,height:16})})})]})}}})),pagination:{page:C,count:1,rowsPerPage:L,onChange:function(e,n){S(n)},onRowsPerPageChange:function(){}}})]})]})},_e=function(){return(0,L.useMutation)((function(e){return E._F.subjectControllerCreate((0,A.Z)({},e))}))},Oe=function(){return(0,L.useMutation)((function(e){return E._F.subjectControllerUpdate(e.id,(0,A.Z)({},e))}))},Ie=function(){return(0,L.useMutation)((function(e){return E._F.subjectControllerRemove(e)}))},Pe=function(){return(0,L.useQuery)(["Get-All-Sections"],(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E._F.subjectControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},Be=function(e){return(0,L.useQuery)(["Get-All-Chapters-Based-On-Books"],(0,U.Z)((0,R.Z)().mark((function n(){return(0,R.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.tH.chapterControllerFindChaptersBasedOnBooks(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},We=function(){return(0,L.useQuery)(["Get-All-Term-Of-Studies"],(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.ib.termOfStudyControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},Me=(0,u.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),qe=function(e){var n,t,i,u,l,f,m,h=Me();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var v=(0,r.useState)(!1),x=(0,c.Z)(v,2),g=x[0],Z=x[1],j=_e(),b=Oe(),y=Pe(),w=Ie(),C=(0,r.useState)(1),S=(0,c.Z)(C,2),k=S[0],L=S[1],E=(0,r.useState)(10),_=(0,c.Z)(E,1)[0],I=(0,r.useState)({doUpdate:!1,data:"",id:null}),P=(0,c.Z)(I,2),B=P[0],W=P[1],M=(0,r.useState)([]),q=(0,c.Z)(M,2),H=q[0],z=q[1],D=r.useState(H),G=(0,c.Z)(D,2),Q=G[0],K=G[1],Y=r.useState(Q),J=(0,c.Z)(Y,2),$=J[0],V=J[1],X=r.useState(),ee=(0,c.Z)(X,2),ne=ee[0],re=ee[1],ie=We();(0,r.useEffect)((function(){ie.refetch()}),[]);var oe=Te(0==(null===H||void 0===H?void 0:H.length)?null:H),ue=Be(0==(null===Q||void 0===Q?void 0:Q.length)?null:Q);(0,r.useEffect)((function(){H&&oe.refetch()}),[H]),(0,r.useEffect)((function(){ue.refetch()}),[Q]);var le=ye(),ce=(0,T.cI)(),de=ce.handleSubmit,fe=ce.register,pe=ce.clearErrors,ge=ce.formState.errors;(0,r.useEffect)((function(){var e,n,t,r,i,o;O.Am.error(null===(e=ge.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),O.Am.error(null===(t=ge.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),O.Am.error(null===(i=ge.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),pe()}),[null===(n=ge.books)||void 0===n?void 0:n.message,null===(t=ge.title)||void 0===t?void 0:t.message,null===(i=ge.gradeLevels)||void 0===i?void 0:i.message]);var Ze=(0,r.useRef)(),je=(0,r.useRef)(),be=(0,r.useRef)(),we=(0,r.useRef)(),Ce=(0,r.useRef)(),Se=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),j.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),z(null),W({doUpdate:!1,data:"",id:null}),K(null),V(null),y.refetch(),O.Am.success(n.message)):(Z(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ke=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),b.mutate((0,A.Z)({id:B.id},n),{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),y.refetch(),O.Am.success(n.message),W({doUpdate:!1,data:"",id:null}),z(null),K(null)):(Z(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(o.Z,{className:h.container,children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)("form",{onSubmit:B.doUpdate?de(ke):de(Se),children:[(0,p.jsx)(F.Z,(0,A.Z)((0,A.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0645\u0648\u0636\u0648\u0639 ",variant:"outlined",className:h.formField,value:B.data},fe("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0645\u0648\u0636\u0648\u0639 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:je,onChange:function(e){B.doUpdate?W({doUpdate:!0,data:e.target.value,id:B.id}):W({doUpdate:!1,data:e.target.value,id:null})}})),(0,p.jsxs)(me.Z,{className:h.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==H&&void 0!==H?H:[]},fe("gradeLevels")),{},{inputRef:Ze,onChange:function(e){z(e.target.value),V(null),K(null)},multiple:!0,children:!(null!==le&&void 0!==le&&le.isLoading)&&(null===le||void 0===le||null===(u=le.data)||void 0===u?void 0:u.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsxs)(me.Z,{className:h.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==Q&&void 0!==Q?Q:[]},fe("books")),{},{inputRef:be,onChange:function(e){K(e.target.value)},multiple:!0,children:!(null!==oe&&void 0!==oe&&oe.isLoading)&&void 0!=(null===oe||void 0===oe?void 0:oe.data)&&(null===oe||void 0===oe||null===(l=oe.data)||void 0===l?void 0:l.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsxs)(me.Z,{className:h.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==$&&void 0!==$?$:[]},fe("chapters")),{},{inputRef:we,onChange:function(e){V(e.target.value)},multiple:!0,children:!(null!==ue&&void 0!==ue&&ue.isLoading)&&void 0!=(null===ue||void 0===ue?void 0:ue.data)&&(null===ue||void 0===ue||null===(f=ue.data)||void 0===f?void 0:f.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsxs)(me.Z,{className:h.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u062a\u0631\u0645"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==ne&&void 0!==ne?ne:[]},fe("terms")),{},{inputRef:Ce,onChange:function(e){re(e.target.value)},multiple:!0,children:!(null!==ie&&void 0!==ie&&ie.isLoading)&&void 0!=(null===ie||void 0===ie?void 0:ie.data)&&(null===ie||void 0===ie||null===(m=ie.data)||void 0===m?void 0:m.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsx)(d.Z,{variant:"contained",color:"primary",className:h.formButton,disabled:g,type:"submit",children:g?(0,p.jsx)(N.Z,{size:24}):B.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,p.jsxs)(o.Z,{className:h.fieldOfStudy,children:[(0,p.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0645\u0648\u0636\u0648\u0639\u200c\u0647\u0627"}),y.isLoading?(0,p.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,p.jsx)(ae,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===y||void 0===y?void 0:y.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{onClick:function(){W({doUpdate:!0,data:e.title,id:e._id}),z(e.gradeLevels),K(e.books.map((function(e){return e}))),V(e.chapters.map((function(e){return e}))),setTimeout((function(){je.current.focus()}),100),setTimeout((function(){Ze.current.focus()}),200),setTimeout((function(){be.current.focus()}),300),setTimeout((function(){we.current.focus()}),350),setTimeout((function(){Ce.current.focus()}),400)},children:(0,p.jsx)(te._3A,{width:12,height:12})}),(0,p.jsx)(s.Z,{children:(0,p.jsx)(se.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void w.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),y.refetch(),O.Am.success(n.message)):(Z(!1),O.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,p.jsx)(te.TKD,{width:16,height:16})})})]})}}})),pagination:{page:k,count:1,rowsPerPage:_,onChange:function(e,n){L(n)},onRowsPerPageChange:function(){}}})]})]})},He=function(){return(0,L.useMutation)((function(e){return E.LS.gradeLevelControllerUpdate(e.id,(0,A.Z)((0,A.Z)({},e),{},{image:e.image[0]}))}))},ze=function(){return(0,L.useMutation)((function(e){return E.LS.gradeLevelControllerRemove(e)}))},De=function(){return(0,L.useMutation)((function(e){return E.LS.gradeLevelControllerCreate((0,A.Z)({},e))}))},Ge=["ref","onChange"],Qe=(0,u.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem 0",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Ke=function(e){var n,t,i,u=Qe();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var l=(0,r.useState)(!1),f=(0,c.Z)(l,2),m=f[0],h=f[1],v=De(),x=He(),g=ye(),Z=ze(),j=(0,r.useState)(1),b=(0,c.Z)(j,2),y=b[0],w=b[1],C=(0,r.useState)(10),S=(0,c.Z)(C,1)[0],k=(0,r.useState)({doUpdate:!1,data:"",id:null}),L=(0,c.Z)(k,2),E=L[0],_=L[1],P=(0,r.useRef)(null),W=(0,r.useState)(),M=(0,c.Z)(W,2),q=M[0],H=M[1],z=(0,r.useState)(),D=(0,c.Z)(z,2),G=D[0],Q=D[1],K=(0,r.useRef)(),Y=(0,r.useRef)(),J=(0,r.useRef)(null),$=r.useState([]),V=(0,c.Z)($,2),X=V[0],ee=V[1],ne=I(),re=(0,r.useState)({doUpdate:!1,data:"",id:null}),ie=(0,c.Z)(re,2),oe=ie[0],ue=ie[1];(0,r.useEffect)((function(){if(G){var e=URL.createObjectURL(G);return H(e),function(){return URL.revokeObjectURL(e)}}H(void 0)}),[G]),(0,r.useEffect)((function(){ne.refetch()}),[]);var le=(0,T.cI)(),ce=le.handleSubmit,de=le.register,fe=le.formState.errors,pe=le.clearErrors,ge=de("image"),Ze=ge.ref,je=ge.onChange,be=(0,B.Z)(ge,Ge);(0,r.useEffect)((function(){var e,n,t,r,i,o;O.Am.error(null===(e=fe.description)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),O.Am.error(null===(t=fe.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),O.Am.error(null===(i=fe.image)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),pe()}),[null===(n=fe.description)||void 0===n?void 0:n.message,null===(t=fe.title)||void 0===t?void 0:t.message,null===(i=fe.image)||void 0===i?void 0:i.message]);var Se=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),v.mutate((0,A.Z)((0,A.Z)({},n),{},{image:n.image[0]}),{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(h(!1),g.refetch(),O.Am.success(n.message)):(h(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ke=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),x.mutate((0,A.Z)({id:E.id},n),{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(h(!1),g.refetch(),O.Am.success(n.message),_({doUpdate:!1,data:"",id:null}),ue({doUpdate:!1,data:"",id:null}),ee(null),H(Ce.f.BASE+"/"+void 0)):(h(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ae=r.useState([]),Re=(0,c.Z)(Ae,2);Re[0],Re[1];return(0,p.jsxs)(o.Z,{className:u.container,children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)("form",{onSubmit:E.doUpdate?ce(ke):ce(Se),children:[(0,p.jsx)(F.Z,(0,A.Z)((0,A.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:u.formField,value:E.data},de("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:P,onChange:function(e){E.doUpdate?_({doUpdate:!0,data:e.target.value,id:E.id}):_({doUpdate:!1,data:e.target.value,id:null})}})),(0,p.jsx)(F.Z,(0,A.Z)((0,A.Z)({label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:u.formField,value:oe.data},de("description",{required:"\u0644\u0637\u0641\u0627 \u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:J,onChange:function(e){oe.doUpdate?ue({doUpdate:!0,data:e.target.value,id:E.id}):ue({doUpdate:!1,data:e.target.value,id:null})}})),(0,p.jsxs)(me.Z,{className:u.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0631\u0634\u062a\u0647"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==X&&void 0!==X?X:[]},de("fieldOfStudies")),{},{inputRef:Y,onChange:function(e){ee(e.target.value)},multiple:!0,children:!(null!==ne&&void 0!==ne&&ne.isLoading)&&(null===ne||void 0===ne?void 0:ne.data.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsxs)(o.Z,{display:"flex",position:"relative",borderRadius:"100%",mb:3,children:[G||q?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(o.Z,{component:"img",src:"undefined"===String(q).split("/")[3]?we:q,alt:"test flag",width:100,height:100})}):(0,p.jsx)(o.Z,{component:"img",src:we,alt:"User flag",width:100,height:100}),(0,p.jsxs)(s.Z,{sx:{backgroundColor:"#FCF0FF",width:28,height:28,borderRadius:"8px",p:.5,position:"absolute",bottom:-10},onClick:function(){return K.current.click()},children:[(0,p.jsx)(te.fnU,{}),(0,p.jsx)("input",(0,A.Z)((0,A.Z)({},be),{},{type:"file",ref:function(e){Ze(e),K.current=e},hidden:!0,onChange:function(e){K.current.files&&0!==K.current.files.length?Q(K.current.files[0]):Q(void 0),je(e)}}))]})]}),(0,p.jsx)(d.Z,{variant:"contained",color:"primary",className:u.formButton,disabled:m,type:"submit",children:m?(0,p.jsx)(N.Z,{size:24}):E.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,p.jsxs)(o.Z,{className:u.fieldOfStudy,children:[(0,p.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u067e\u0627\u06cc\u0647 \u0647\u0627\u06cc \u062a\u062d\u0635\u06cc\u0644\u06cc"}),g.isLoading?(0,p.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,p.jsx)(ae,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===g||void 0===g?void 0:g.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{onClick:function(){_({doUpdate:!0,data:e.title,id:e._id}),ue({doUpdate:!0,data:e.description,id:e._id}),ee(e.fieldOfStudies),P.current.focus(),setTimeout((function(){J.current.focus()}),100),setTimeout((function(){Y.current.focus()}),200),H(Ce.f.BASE+"/"+e.image)},children:(0,p.jsx)(te._3A,{width:12,height:12})}),(0,p.jsx)(s.Z,{children:(0,p.jsx)(se.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void Z.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(h(!1),g.refetch(),O.Am.success(n.message)):(h(!1),O.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,p.jsx)(te.TKD,{width:16,height:16})})})]})}}})),pagination:{page:y,count:1,rowsPerPage:S,onChange:function(e,n){w(n)},onRowsPerPageChange:function(){}}})]})]})},Ye=function(){return(0,L.useMutation)((function(e){return E.l.sectionControllerCreate((0,A.Z)({},e))}))},Je=function(){return(0,L.useMutation)((function(e){return E.l.sectionControllerUpdate(e.id,(0,A.Z)({},e))}))},$e=function(){return(0,L.useMutation)((function(e){return E.l.sectionControllerRemove(e)}))},Ve=function(){return(0,L.useQuery)(["Get-All-Sections"],(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.l.sectionControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},Xe=(0,u.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),en=function(e){var n,t,i,u,l,f,m=Xe();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var h=(0,r.useState)(!1),v=(0,c.Z)(h,2),x=v[0],g=v[1],Z=Ye(),j=Je(),b=Ve(),y=$e(),w=(0,r.useState)(1),C=(0,c.Z)(w,2),S=C[0],k=C[1],L=(0,r.useState)(10),E=(0,c.Z)(L,1)[0],_=(0,r.useState)({doUpdate:!1,data:"",id:null}),I=(0,c.Z)(_,2),P=I[0],B=I[1],W=(0,r.useState)([]),M=(0,c.Z)(W,2),q=M[0],H=M[1],z=r.useState(q),D=(0,c.Z)(z,2),G=D[0],Q=D[1],K=r.useState(G),Y=(0,c.Z)(K,2),J=Y[0],$=Y[1],V=Te(0==(null===q||void 0===q?void 0:q.length)?null:q),X=Be(0==(null===G||void 0===G?void 0:G.length)?null:G);(0,r.useEffect)((function(){q&&V.refetch()}),[q]),(0,r.useEffect)((function(){X.refetch()}),[G]);var ee=ye(),ne=(0,T.cI)(),re=ne.handleSubmit,ie=ne.register,oe=ne.clearErrors,ue=ne.formState.errors;(0,r.useEffect)((function(){var e,n,t,r,i,o;O.Am.error(null===(e=ue.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),O.Am.error(null===(t=ue.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),O.Am.error(null===(i=ue.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),oe()}),[null===(n=ue.books)||void 0===n?void 0:n.message,null===(t=ue.title)||void 0===t?void 0:t.message,null===(i=ue.gradeLevels)||void 0===i?void 0:i.message]);var le=(0,r.useRef)(),ce=(0,r.useRef)(),de=(0,r.useRef)(),fe=(0,r.useRef)(),pe=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Z.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(g(!1),H(null),B({doUpdate:!1,data:"",id:null}),Q(null),$(null),b.refetch(),O.Am.success(n.message)):(g(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ge=function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),j.mutate((0,A.Z)({id:P.id},n),{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(g(!1),b.refetch(),O.Am.success(n.message),B({doUpdate:!1,data:"",id:null}),H(null),Q(null)):(g(!1),Array.isArray(n.message)?O.Am.error((0,p.jsx)("ul",{children:n.message.map((function(e){return(0,p.jsx)("li",{children:e},e)}))})):O.Am.error((0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(o.Z,{className:m.container,children:[(0,p.jsx)(o.Z,{children:(0,p.jsxs)("form",{onSubmit:P.doUpdate?re(ge):re(pe),children:[(0,p.jsx)(F.Z,(0,A.Z)((0,A.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0628\u062e\u0634 ",variant:"outlined",className:m.formField,value:P.data},ie("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0628\u062e\u0634 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:ce,onChange:function(e){P.doUpdate?B({doUpdate:!0,data:e.target.value,id:P.id}):B({doUpdate:!1,data:e.target.value,id:null})}})),(0,p.jsxs)(me.Z,{className:m.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==q&&void 0!==q?q:[]},ie("gradeLevels")),{},{inputRef:le,onChange:function(e){H(e.target.value),Q(null)},multiple:!0,children:!(null!==ee&&void 0!==ee&&ee.isLoading)&&(null===ee||void 0===ee||null===(u=ee.data)||void 0===u?void 0:u.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsxs)(me.Z,{className:m.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==G&&void 0!==G?G:[]},ie("books")),{},{inputRef:de,onChange:function(e){Q(e.target.value)},multiple:!0,children:!(null!==V&&void 0!==V&&V.isLoading)&&void 0!=(null===V||void 0===V?void 0:V.data)&&(null===V||void 0===V||null===(l=V.data)||void 0===l?void 0:l.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsxs)(me.Z,{className:m.formField,fullWidth:!0,children:[(0,p.jsx)(he.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,p.jsx)(ve.Z,(0,A.Z)((0,A.Z)({value:null!==J&&void 0!==J?J:[]},ie("chapters")),{},{inputRef:fe,onChange:function(e){$(e.target.value)},multiple:!0,children:!(null!==X&&void 0!==X&&X.isLoading)&&void 0!=(null===X||void 0===X?void 0:X.data)&&(null===X||void 0===X||null===(f=X.data)||void 0===f?void 0:f.map((function(e){return(0,p.jsx)(xe.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,p.jsx)(d.Z,{variant:"contained",color:"primary",className:m.formButton,disabled:x,type:"submit",children:x?(0,p.jsx)(N.Z,{size:24}):P.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,p.jsxs)(o.Z,{className:m.fieldOfStudy,children:[(0,p.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0628\u062e\u0634\u200c\u0647\u0627"}),b.isLoading?(0,p.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,p.jsx)(ae,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===b||void 0===b?void 0:b.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{onClick:function(){B({doUpdate:!0,data:e.title,id:e._id}),H(e.gradeLevels),Q(e.books.map((function(e){return e}))),$(e.chapters.map((function(e){return e}))),setTimeout((function(){ce.current.focus()}),100),setTimeout((function(){le.current.focus()}),200),setTimeout((function(){de.current.focus()}),300),setTimeout((function(){fe.current.focus()}),400)},children:(0,p.jsx)(te._3A,{width:12,height:12})}),(0,p.jsx)(s.Z,{children:(0,p.jsx)(se.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0628\u062e\u0634 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void y.mutate(n,{onSuccess:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(n){return(0,R.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(g(!1),b.refetch(),O.Am.success(n.message)):(g(!1),O.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,p.jsx)(te.TKD,{width:16,height:16})})})]})}}})),pagination:{page:S,count:1,rowsPerPage:E,onChange:function(e,n){k(n)},onRowsPerPageChange:function(){}}})]})]})},nn=function(){var e=(0,k.v9)((function(e){return e.user}));return(0,p.jsxs)(i.Z5,{children:[(0,p.jsx)(i.AW,{path:"/field-of-study",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,p.jsx)(de,{})})}),(0,p.jsx)(i.AW,{path:"/grade-level",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,p.jsx)(Ke,{})})}),(0,p.jsx)(i.AW,{path:"/book",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,p.jsx)(Ae,{})})}),(0,p.jsx)(i.AW,{path:"/chapter",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,p.jsx)(Ee,{})})}),(0,p.jsx)(i.AW,{path:"/section",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,p.jsx)(en,{})})}),(0,p.jsx)(i.AW,{path:"/subject",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,p.jsx)(qe,{})})}),(0,p.jsx)(i.AW,{path:"/",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,p.jsx)(pe,{})})})]})},tn=(0,u.Z)((function(e){return{container:{margin:"32px 52px"},contentWrapper:{float:"right"},content:{margin:"16px 0",padding:"2px 0",float:"right"},menu:{margin:"0 0 0 150px ",width:"200px",float:"right"},button:{color:e.palette.text.primary},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,padding:"5px"}}})),rn=function(){var e,n,t,u=(0,w.H)((function(e){return e})),l=(0,w.M)((function(e){return e})).setAccessToken;(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var c=tn(),d=(0,i.s0)();return(0,p.jsxs)(o.Z,{className:c.container,children:[(0,p.jsxs)(o.Z,{display:"flex",justifyContent:"space-around",children:[(0,p.jsxs)(o.Z,{display:"flex",gap:"10px",children:[(0,p.jsx)(a.Z,{variant:"h5",children:null===u||void 0===u||null===(e=u.user)||void 0===e?void 0:e.username}),null===u||void 0===u||null===(n=u.user)||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.map((function(e){return(0,p.jsx)(o.Z,{className:c.badge,children:(0,p.jsx)(a.Z,{variant:"body2",children:"User"===e.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},e.title)}))]}),(0,p.jsx)(o.Z,{children:(0,p.jsx)(s.Z,{className:c.button,onClick:function(){l(""),u.setUser(null),localStorage.removeItem("auth-storage"),d("/")},children:(0,p.jsx)(y.Z,{})})})]}),(0,p.jsxs)(o.Z,{className:c.contentWrapper,children:[(0,p.jsx)(o.Z,{className:c.menu,children:(0,p.jsx)(g,{items:b})}),(0,p.jsx)(o.Z,{className:c.content,children:(0,p.jsx)(nn,{})})]})]})},on=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,p.jsx)(Z.Z,{})},{title:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f",to:"/pv/karanbala/dashboard",startIcon:(0,p.jsx)(j.Z,{})},{category:{children:[{title:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644"}]}}],an=(0,u.Z)((function(e){return{container:{margin:"32px 52px"}}})),sn=function(){var e=an();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,p.jsx)(o.Z,{className:e.container,children:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f"})},un=function(){var e=(0,k.v9)((function(e){return e.user}));return(0,p.jsx)(i.Z5,{children:(0,p.jsx)(i.AW,{path:"/",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,p.jsx)(sn,{})})})})},ln=(0,u.Z)((function(e){return{container:{margin:"32px 52px"},contentWrapper:{},content:{margin:"16px 0",padding:"2px 0",float:"right"},menu:{margin:"0 0 0 150px ",width:"200px",float:"right"},button:{color:e.palette.text.primary},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,padding:"5px"}}})),cn=function(){var e,n,t,u=(0,w.H)((function(e){return e})),l=(0,w.M)((function(e){return e})).setAccessToken;(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var c=ln(),d=(0,i.s0)();return(0,p.jsxs)(o.Z,{className:c.container,children:[(0,p.jsxs)(o.Z,{display:"flex",justifyContent:"space-around",children:[(0,p.jsxs)(o.Z,{display:"flex",gap:"10px",children:[(0,p.jsx)(a.Z,{variant:"h5",children:null===u||void 0===u||null===(e=u.user)||void 0===e?void 0:e.username}),null===u||void 0===u||null===(n=u.user)||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.map((function(e){return(0,p.jsx)(o.Z,{className:c.badge,children:(0,p.jsx)(a.Z,{variant:"body2",children:"User"===e.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},e.title)}))]}),(0,p.jsx)(o.Z,{children:(0,p.jsx)(s.Z,{className:c.button,onClick:function(){l(""),u.setUser(null),d("/")},children:(0,p.jsx)(y.Z,{})})})]}),(0,p.jsxs)(o.Z,{className:c.contentWrapper,children:[(0,p.jsx)(o.Z,{className:c.menu,children:(0,p.jsx)(g,{items:on})}),(0,p.jsx)(o.Z,{className:c.content,children:(0,p.jsx)(un,{})})]})]})},dn=function(e){var n=e.children,t=(0,w.M)((function(e){return e})).accessToken,i=(0,w.H)((function(e){return e}));return(0,r.useEffect)((function(){if(t&&null===i.user){var e=(0,C.Z)(null!==t&&void 0!==t?t:"");Ce.f.TOKEN=t,i.setUser(e)}else Ce.f.TOKEN=t}),[t,i]),(0,p.jsx)(p.Fragment,{children:n})},fn=function(){var e=(0,w.H)((function(e){return e}));return(0,p.jsx)(dn,{children:(0,p.jsxs)(i.Z5,{children:[(0,p.jsx)(i.AW,{path:"/karanbala/dashboard/*",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,p.jsx)(cn,{})})}),(0,p.jsx)(i.AW,{path:"/karanbala/admin/*",element:(0,p.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,p.jsx)(rn,{})})})]})})}}}]);