"use strict";(self.webpackChunkkaranbala=self.webpackChunkkaranbala||[]).push([[888],{8177:function(e,n,t){var r=t(8467),i=t(1688),o=t(5200),a=t(7313),l=t(6417);n.Z=function(e){var n,t=e.route,s=e.userRole,u=e.children,d=(0,i.M)((function(e){return e})),c=d.accessToken,f=d.setAccessToken,m=(0,i.H)((function(e){return e})).setUser,p=(0,r.s0)();(0,a.useEffect)((function(){if(c){var e=(0,o.Z)(null!==c&&void 0!==c?c:localStorage.getItem("auth-storage"));Math.floor(Date.now()/1e3)>e.exp&&(localStorage.removeItem("auth-storage"),m(null),f(null),p("/"))}else localStorage.removeItem("auth-storage"),m(null),f(null),p("/")}),[c,p]);var v=null===s||void 0===s||null===(n=s.roles)||void 0===n?void 0:n.some((function(e){var n;return t.requiredRoles.includes(e.title)&&(null===(n=e.permissions)||void 0===n?void 0:n.some((function(e){return e.resource===t.resource&&e.action===t.action})))}));return v||void 0===v?(0,l.jsx)(l.Fragment,{children:u}):(localStorage.removeItem("auth-storage"),m(null),f(null),(0,l.jsx)(r.Fg,{to:"/"}))}},9213:function(e,n,t){t.d(n,{p:function(){return C},q:function(){return L}});var r=t(9439),i=t(5987),o=t(1413),a=t(7313),l=t(6241),s=t(8070),u=t(9860),d=t(4813),c=t(4469),f=t(3604),m=t(6467),p=t(7131),v=t(301),h=t(6307),x=t(6417),Z=["children","onClose"],g=["opener","title","onSubmit","onOpen","children","secondary","fullScreen","onClose","modalState"],j=a.forwardRef((function(e,n){return(0,x.jsx)(v.Z,(0,o.Z)({direction:"up",ref:n},e))})),b=(0,l.Z)((function(e){return{root:{margin:0,padding:e.spacing(5),paddingBottom:e.spacing(3),paddingTop:e.spacing(2),color:"#1D252F !important","& .MuiIconButton-root":{position:"absolute",left:e.spacing(1),top:e.spacing(1.5),"& svg":{color:function(n){return e.palette.grey[600]},width:"1.4rem",height:"1.4rem"},"&:hover":{svg:{color:function(n){return e.palette.primary.main}}}}}}}))((function(e){var n=e.children,t=e.onClose,r=(0,i.Z)(e,Z);return(0,x.jsxs)(f.Z,(0,o.Z)((0,o.Z)({},r),{},{children:[n,t?(0,x.jsx)(p.Z,{size:"small","aria-label":"close",color:"secondary",onClick:t,children:(0,x.jsx)(h.sZC,{color:"secondary"})}):null]}))})),w=(0,l.Z)((function(e){return{root:{padding:e.spacing(5),fontSize:"18px !important",color:"#1D252F",minHeight:"15rem"}}}))(m.Z),y=(0,s.Z)((function(){return{paper:{width:"100%",backgroundImage:"none",backgroundColor:"#fff"}}})),C=function(e){var n=e.opener,t=e.title,l=e.onSubmit,s=e.onOpen,f=e.children,m=(e.secondary,e.fullScreen),p=e.onClose,v=e.modalState,h=void 0!==v&&v,Z=(0,i.Z)(e,g),C=a.useState(h),S=(0,r.Z)(C,2),k=S[0],A=S[1],R=(0,u.Z)(),F=(0,d.Z)(R.breakpoints.down("sm")),N=y();a.useEffect((function(){A(h)}),[h]);var _=function(){p&&p(),A(!1)};return(0,x.jsxs)(x.Fragment,{children:[n&&a.cloneElement(n,{onClick:function(){s&&s(),A(!0)}}),(0,x.jsxs)(c.Z,(0,o.Z)((0,o.Z)({fullScreen:m||F,maxWidth:"xs",onClose:_,"aria-labelledby":"customized-dialog-title",classes:{paper:N.paper},open:k,TransitionComponent:j},Z),{},{children:[t&&(0,x.jsx)(b,{id:"customized-dialog-title",onClose:_,children:t}),(0,x.jsx)(w,{children:f({handleApproved:function(){A(!1),l&&l(),p&&p(),A(!1)},handleClose:_})})]}))]})},S=t(2868),k=t(4117),A=t(9735),R=["children","onClose"],F=(0,s.Z)((function(e){return{dialogStyle:{"& h2":(0,o.Z)((0,o.Z)({},e.typography.body1),{},{fontWeight:500}),borderBottom:"1px solid ".concat(e.palette.grey[300]),padding:"2rem"},dialogActionStyle:{padding:"2rem ",display:"flex",justifyContent:"center"}}})),N=a.forwardRef((function(e,n){return(0,x.jsx)(v.Z,(0,o.Z)({direction:"up",ref:n},e))})),_=(0,l.Z)((function(e){return{root:{margin:0,padding:e.spacing(5),paddingBottom:e.spacing(3),paddingTop:e.spacing(2),"& .MuiIconButton-root":{position:"absolute",left:e.spacing(1),top:e.spacing(1.5),"& svg":{color:function(n){return e.palette.grey[600]},width:"1.4rem",height:"1.4rem"},"&:hover":{svg:{color:function(n){return e.palette.primary.main}}}}}}}))((function(e){var n=e.children,t=e.onClose,r=(0,i.Z)(e,R);return(0,x.jsxs)(f.Z,(0,o.Z)((0,o.Z)({},r),{},{children:[n,t?(0,x.jsx)(p.Z,{size:"small","aria-label":"close",color:"secondary",onClick:t,children:(0,x.jsx)(h.sZC,{color:"secondary"})}):null]}))})),T=(0,l.Z)((function(e){return{root:{paddingTop:"".concat(e.spacing(2),"!important "),color:"dark"===e.palette.mode?"".concat(e.palette.grey[50]," !important"):"".concat(e.palette.grey.A200," !important")}}}))(m.Z),L=function(e){var n=F(),t=e.prompModalState,i=void 0!==t&&t,o=e.onClose,l=a.useState(i),s=(0,r.Z)(l,2),u=s[0],d=s[1];a.useEffect((function(){d(i)}),[i]);var f=function(){d(!1),o&&o(),d(!1)},m={title:e.title||"",content:e.description||"\u0622\u06cc\u0627 \u0627\u0632 \u0627\u0646\u062c\u0627\u0645 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f \u061f",approved:e.approved||"\u0628\u0644\u0647",denied:e.denied||"\u062e\u06cc\u0631"};return(0,x.jsxs)(x.Fragment,{children:[a.cloneElement(e.children,{onClick:function(){d(!0)}}),(0,x.jsxs)(c.Z,{open:u,TransitionComponent:N,onClose:f,maxWidth:"sm","aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[(0,x.jsx)(_,{onClose:f,id:"alert-dialog-slide-title",children:m.title}),(0,x.jsx)(T,{children:(0,x.jsx)(S.Z,{id:"alert-dialog-slide-description",children:m.content})}),(0,x.jsxs)(k.Z,{className:n.dialogActionStyle,children:[(0,x.jsx)(A.b,{autoFocus:!0,variant:"contained",onClick:function(){e.onConfirm(),d(!1),o&&o(),d(!1)},size:"xs",children:m.approved}),e.denied&&(0,x.jsx)(A.b,{variant:"outlined",onClick:f,size:"xs",children:m.denied})]})]})]})}},2985:function(e,n,t){var r=t(4165),i=t(5861),o=t(56),a=t(284);n.Z=function(){return(0,o.useQuery)(["Get-All-Objective-Tests"],(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.AA.objectiveTestControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})}},7080:function(e,n,t){var r=t(4165),i=t(5861),o=t(56),a=t(284);n.Z=function(e,n,t){return(0,o.useQuery)(["Get-All-Questions-Based-On-Book"],(0,i.Z)((0,r.Z)().mark((function i(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.aE.questionControllerFindQuestionsBasedOnBookReferences(e,n,t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),i)}))),{refetchOnWindowFocus:!1,enabled:!1})}},8534:function(e,n,t){t.r(n),t.d(n,{default:function(){return St}});var r=t(7313),i=t(8467),o=t(9506),a=t(1113),l=t(7131),s=t(8070),u=t(3433),d=t(9439),c=t(9099),f=t(2135),m=t(6417),p=function(e){var n=(0,r.useState)([{key:"",value:!1}]),t=(0,d.Z)(n,2),i=t[0],o=t[1],a=e.item,l=e.depthLevel,s=(0,r.useRef)();return(0,m.jsx)("li",{className:"menu-items",ref:s,children:a.category?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"categoryTitle",children:a.category.title}),a.category.children.map((function(e,n){var t;return(0,m.jsx)(r.Fragment,{children:e.submenu?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("button",{type:"button","aria-haspopup":"menu",onClick:function(){o((function(n){var t;return[].concat((0,u.Z)(n),[{key:e.title,value:!(null!==(t=n[n.map((function(e){return e.key})).lastIndexOf(e.title)])&&void 0!==t&&t.value)}])}))},style:{display:"flex",justifyContent:"space-between"},children:[e.title," ",l>0?(0,m.jsx)("span",{children:"\xbb"}):(0,m.jsxs)(m.Fragment,{children:[" ",null!==(t=i[i.map((function(e){return e.key})).lastIndexOf(e.title)])&&void 0!==t&&t.value?(0,m.jsx)("span",{className:"arrow"}):(0,m.jsx)("span",{className:"arrow-left"})]})]}),(0,m.jsx)(v,{depthLevel:l,submenus:e.submenu,subtitle:i,index:e.title})]}):(0,m.jsx)(c.Z,{disableRipple:!0,component:f.OL,to:e.to,startIcon:e.startIcon,children:e.title})},n)}))]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.Z,{disableRipple:!0,component:f.OL,to:a.to,startIcon:a.startIcon,children:a.title})})})},v=function(e){var n,t=e.submenus,r=e.depthLevel,i=e.index,o=e.subtitle,a=o.map((function(e){return e.key})).lastIndexOf(i),l=(r+=1)>1?"dropdown-submenu":"";return(0,m.jsx)("ul",{"data-id":i,className:"dropdown ".concat(l," ").concat(null!==(n=o[a])&&void 0!==n&&n.value?"show":""),children:t.map((function(e,n){return(0,m.jsx)(p,{item:e,depthLevel:r},n)}))})},h=(0,t(7894).Z)(o.Z)((function(){return"\n  :root{\n    font-family:IRANSans !important;\n    }\n  \n  .menus {\n    display: flex;\n    list-style: none;\n    direction: ltr;\n    flex-direction: column;\n    \n  }\n  .menu-items {\n    position: relative;\n    text-align: left;\n    \n  }\n  \n  .menu-items a,\n  .menu-items button {\n    margin: 0 ;\n    padding:0 10px 0  0;\n    line-height: 2;\n    font-family:IRANSans !important;\n\n  }\n  \n  .menu-items a {\n    display: block;\n    color: inherit;\n    text-decoration: none;\n  }\n  \n  .menu-items button {\n    color: inherit;\n    font-size: inherit;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    width: 100%;\n  }\n \n  .arrow::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-top: 0.42em solid;\n    border-right: 0.32em solid transparent;\n    border-left: 0.32em solid transparent;\n  }\n\n  .arrow-left::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-bottom: 0.32em solid transparent;\n    border-right: 0.32em solid  transparent;\n    border-left: 0.42em solid ;\n    border-top: 0.32em solid transparent;\n  }\n\n  .categoryTitle{\n    color: #707e8d\n  }\n  \n  .dropdown {\n\n    box-shadow: 0 10px 15px -3px rgba(46, 41, 51, 0.08),\n    0 4px 6px -2px rgba(71, 63, 79, 0.16);\n    z-index: 9999;\n    min-width: 100px;\n    padding: 0.5rem 0;\n    border-radius: 0.5rem;\n    list-style-type: disc; \n    display: none;\n  }\n  \n  .dropdown.show {\n    display: block;\n    padding: 0 28px;\n  }\n  \n  .dropdown .dropdown-submenu {\n    position: absolute;\n    left: 10px;\n    top: 15px\n  }\n  span{ display: inline}\n  span .MuiSvgIcon-root{font-size:15px}\n  "})),x=function(e){var n=e.children;return(0,m.jsx)(h,{children:(0,m.jsx)("ul",{className:"menus",children:n})})},Z=function(e){var n=e.items;return(0,m.jsx)(x,{children:n.map((function(e,n){return(0,m.jsx)(p,{item:e,depthLevel:0,children:" "},n)}))})},g=t(7887),j=t(1765),b=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,m.jsx)(g.Z,{})},{title:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f",to:"/pv/karanbala/admin",startIcon:(0,m.jsx)(j.Z,{})},{category:{children:[{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u062d\u062a\u0648\u0627",submenu:[{title:"\u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/field-of-study"},{title:"\u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/grade-level"},{title:"\u06a9\u062a\u0627\u0628 \u0645\u0631\u062c\u0639",to:"/pv/karanbala/admin/book-reference"},{title:"\u06a9\u062a\u0627\u0628",to:"/pv/karanbala/admin/book"},{title:"\u0641\u0635\u0644",to:"/pv/karanbala/admin/chapter"},{title:"\u0628\u062e\u0634",to:"/pv/karanbala/admin/section"},{title:"\u0645\u0648\u0636\u0648\u0639",to:"/pv/karanbala/admin/subject"}]},{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0622\u0645\u0648\u0632\u0634",submenu:[{title:"\u0645\u0639\u0631\u0641\u06cc \u06a9\u062a\u0627\u0628",to:"/pv/karanbala/admin/book-intro"},{title:"\u062f\u0631\u0633 \u0646\u0627\u0645\u0647",to:"/pv/karanbala/admin/learning-material"},{title:"\u0633\u0648\u0627\u0644\u0627\u062a \u062a\u0634\u0631\u06cc\u062d\u06cc",to:"/pv/karanbala/admin/essay-questions"},{title:"\u0646\u06a9\u062a\u0647 \u0648 \u062a\u0633\u062a",to:"/pv/karanbala/admin/tip-test"},{title:"\u06a9\u0631\u0627\u0646 \u0628\u0627\u0644\u0627",to:"/pv/karanbala/admin/karanbala"}]},{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0622\u0632\u0645\u0648\u0646",submenu:[{title:"\u0627\u06cc\u062c\u0627\u062f \u0622\u0632\u0645\u0648\u0646",to:"/pv/karanbala/admin/objective-test"},{title:"\u0627\u06cc\u062c\u0627\u062f \u0634\u0646\u0627\u0633\u0646\u0627\u0645\u0647 \u0633\u0648\u0627\u0644",to:"/pv/karanbala/admin/question"},{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0622\u0632\u0645\u0648\u0646",to:"/pv/karanbala/admin/objective-test-management"}]}]}}],w=t(2702),y=t(8177),C=t(5554),S=t(1413),k=t(4165),A=t(5861),R=t(6783),F=t(5281),N=t(5627),_=t(2036),T=t(56),L=t(284),E=function(){return(0,T.useMutation)((function(e){return L.uY.fieldOfStudyControllerCreate((0,S.Z)({},e))}))},U=function(){return(0,T.useMutation)((function(e){return L.uY.fieldOfStudyControllerUpdate(e.id,(0,S.Z)({},e))}))},W=function(){return(0,T.useQuery)(["Get-All-Field-Of-Studies"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.uY.fieldOfStudyControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},B=function(){return(0,T.useMutation)((function(e){return L.uY.fieldOfStudyControllerRemove(e)}))},O=t(6307),q=t(9213),P=t(4942),I=t(5987),M=t(7551),D=t(1629),z=t(6835),Q=t(3477),G=t(4076),K=t(7478),H=t(4758),V=t(3467),Y=t(5033),J=t(5743),X=t(4146),$=t(7970),ee=t(38),ne=["rowsPerPage","onRowsPerPageChange","total"],te=(0,s.Z)((function(e){return(0,ee.Z)({root:{width:"100%",display:"flex",justifyContent:"center","& > *":{marginTop:e.spacing(2)},"& .MuiPaginationItem-page":{backgroundColor:e.palette.background.paper},"& .MuiPagination-ul":{justifyContent:"flex-start"},"& .Mui-selected":{backgroundColor:"".concat(e.palette.primary.main," !important"),color:"".concat(e.palette.common.white,"  !important")}}})})),re=function(e){e.rowsPerPage,e.onRowsPerPageChange,e.total;var n=(0,I.Z)(e,ne),t=te();return(0,m.jsx)("div",{className:t.root,children:(0,m.jsx)($.Z,(0,S.Z)({defaultPage:1,color:"primary",variant:"outlined"},n))})},ie=["headers","loading","children","rows","onSelect","expandHeader","menuHeader","pagination","onExpand","emptyNode","emptyRows","newItems","successItems","errorItems","edit","secondary","successHeader","errorHeader","hasStyle"],oe=(0,s.Z)((function(e){return{skeleton:{borderRadius:0},loadingTD:{border:"none",paddingBottom:"0",paddingRight:"0",paddingLeft:"0",paddingTop:"0"},moreIcon:{},successRow:{backgroundColor:"".concat((0,M.Fq)(e.palette.success.dark,.13)," !important")},errorRow:{backgroundColor:"".concat((0,M.Fq)(e.palette.error.dark,.1)," !important")},secondary:{"& .MuiTableCell-head":{backgroundColor:"transparent"},"& .MuiTableBody-root":{"& tr:nth-of-type(even)":{backgroundColor:"transparent"},"& tr:nth-of-type(odd)":{backgroundColor:"transparent"}}},successHeader:{"&.MuiTableCell-head":{color:e.palette.success.main}},errorHeader:{"&.MuiTableCell-head":{color:e.palette.error.dark}},"$MuiTableCell-body":{padding:"1.6rem"},sumColumns:{"& .MuiTableCell-body":{backgroundColor:"#2e2e33",paddingTop:"20px !important",paddingBottom:"20px !important"}}}})),ae=function(e){var n=e.headers,t=e.loading,i=(e.children,e.rows),o=e.onSelect,a=e.expandHeader,s=e.menuHeader,u=e.pagination,c=e.onExpand,f=e.emptyNode,p=(e.emptyRows,e.newItems,e.successItems,e.errorItems,e.edit,e.secondary),v=e.successHeader,h=e.errorHeader,x=(e.hasStyle,(0,I.Z)(e,ie)),Z=oe({secondary:p,successHeader:v,errorHeader:h}),g=r.useState([]),j=(0,d.Z)(g,2),b=j[0],w=j[1],y=r.useState({}),C=(0,d.Z)(y,2),k=C[0],A=C[1],R=n.length;a&&(R+=1),s&&(R+=1),o&&(R+=1),r.useMemo((function(){u&&A({})}),[null===u||void 0===u?void 0:u.page,null===u||void 0===u?void 0:u.rowsPerPage]);return(0,m.jsxs)(D.Z,{children:[(0,m.jsxs)(z.Z,(0,S.Z)((0,S.Z)({className:(0,X.Z)(Z.table,(0,P.Z)({},Z.secondary,p)),"aria-label":"table"},x),{},{children:[(0,m.jsx)(Q.Z,{children:(0,m.jsxs)(G.Z,{children:[o&&(0,m.jsx)(K.Z,{padding:"checkbox",children:(0,m.jsx)(H.Z,{indeterminate:b.length>0&&b.length<i.length,checked:i.length>0&&b.length===i.length,onChange:function(e){if(e.target.checked){var n=i.reduce((function(e,n){var t=n.id;return t&&e.push(t),e}),[]);return o&&o(n),void w(n)}w([])},inputProps:{"aria-label":"select all desserts"}})}),a&&(0,m.jsx)(K.Z,{width:150,component:"th",children:a}),n.map((function(e,n){var t;return(0,m.jsx)(K.Z,(0,S.Z)((0,S.Z)({},e),{},{component:"th",className:(0,X.Z)((t={},(0,P.Z)(t,Z.successHeader,v),(0,P.Z)(t,Z.errorHeader,h),t))}),n)})),s&&(0,m.jsx)(K.Z,{width:150,component:"th",children:s})]})}),t?(0,m.jsx)(m.Fragment,{children:"Loading..."}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(V.Z,{children:[(null===i||void 0===i?void 0:i.length)>0?null===i||void 0===i?void 0:i.map((function(e,n){var t,i=e.data,a=e.expandNode,s=e.expandNodeContent,u=e.id,d=e.onPressTitle,f=e.clickOnIndexId,p=void 0===f?0:f,v=!!u&&(t=u,-1!==b.indexOf(t));return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsxs)(G.Z,{hover:!0,role:"checkbox","aria-checked":v,tabIndex:-1,selected:v,children:[o&&(0,m.jsx)(K.Z,{onClick:function(e){return function(e,n){var t=b.indexOf(n),r=[];-1===t?r=r.concat(b,n):0===t?r=r.concat(b.slice(1)):t===b.length-1?r=r.concat(b.slice(0,-1)):t>0&&(r=r.concat(b.slice(0,t),b.slice(t+1))),o&&o(r),w(r)}(0,u)},padding:"checkbox",children:(0,m.jsx)(H.Z,{checked:v,inputProps:{"aria-labelledby":String(u)}})}),a&&(0,m.jsx)(K.Z,{children:(0,m.jsxs)(J.Z,{display:"inline-block",onClick:function(){A((function(e){return(0,S.Z)((0,S.Z)({},e),{},(0,P.Z)({},n,!e[n]))})),c&&c(u)},children:[s,(0,m.jsx)(l.Z,{"aria-label":"expand row",size:"small",onClick:function(){A((function(e){return(0,S.Z)((0,S.Z)({},e),{},(0,P.Z)({},n,!e[n]))})),c&&c(u)},children:k[n]?(0,m.jsx)(O.UF1,{}):(0,m.jsx)(O.nOJ,{})})]})}),Object.values(i).map((function(e,n){return(0,m.jsx)(K.Z,{onClick:function(){void 0!==d&&n===p&&d()},children:e},n)}))]},n),a&&(0,m.jsx)(G.Z,{children:(0,m.jsx)(K.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:R,children:(0,m.jsx)(Y.Z,{in:k[n],timeout:"auto",unmountOnExit:!0,children:(0,m.jsx)(J.Z,{children:a})})})})]},n)})):(0,m.jsx)(G.Z,{children:(0,m.jsx)(K.Z,{align:"center",colSpan:R,children:f})}),e.children&&(0,m.jsx)(G.Z,{className:Z.sumColumns,children:e.children})]})})]})),!t&&u&&u.page>0&&(0,m.jsx)(re,(0,S.Z)({},u))]})},le=ae;ae.defaultProps={emptyNode:"No Data"};var se=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"2rem 0",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),ue=function(e){var n,t=se(),i=(0,r.useState)(!1),s=(0,d.Z)(i,2),u=s[0],f=s[1],p=(0,r.useState)(1),v=(0,d.Z)(p,2),h=v[0],x=v[1],Z=(0,r.useState)(10),g=(0,d.Z)(Z,1)[0],j=(0,r.useState)({doUpdate:!1,data:"",id:null}),b=(0,d.Z)(j,2),w=b[0],y=b[1],C=(0,r.useRef)(null),T=E(),L=U(),P=W(),I=B(),M=(0,N.cI)(),D=M.handleSubmit,z=M.register,Q=M.clearErrors,G=M.formState.errors,K=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),T.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),P.refetch(),_.Am.success(n.message)):(f(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),L.mutate((0,S.Z)({id:w.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),P.refetch(),_.Am.success(n.message),y({doUpdate:!1,data:"",id:null})):(f(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,r.useEffect)((function(){var e,n;_.Am.error(null===(e=G.title)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),Q()}),[null===(n=G.title)||void 0===n?void 0:n.message]),(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:t.container,children:(0,m.jsxs)("form",{onSubmit:w.doUpdate?D(H):D(K),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:t.formField,value:w.data},z("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:C,onChange:function(e){w.doUpdate?y({doUpdate:!0,data:e.target.value,id:w.id}):y({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:t.formButton,disabled:u,type:"submit",children:u?(0,m.jsx)(F.Z,{size:24}):w.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:t.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0631\u0634\u062a\u0647 \u0647\u0627\u06cc \u062a\u062d\u0635\u06cc\u0644\u06cc"}),!P.isLoading&&(null===P||void 0===P?void 0:P.data.length)>0?(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===P||void 0===P?void 0:P.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){y({doUpdate:!0,data:e.title,id:e._id}),C.current.focus()},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void I.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(f(!1),P.refetch(),_.Am.success(n.message)):(f(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:h,count:1,rowsPerPage:g,onChange:function(e,n){x(n)},onRowsPerPageChange:function(){}}}):(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."})]})]})},de=(0,s.Z)((function(e){return{container:{margin:"32px 52px"}}})),ce=function(){var e=de();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,m.jsx)(o.Z,{className:e.container,children:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f"})},fe=t(1550),me=t(3306),pe=t(5999),ve=t(5765),he=function(){return(0,T.useMutation)((function(e){return L.Zp.bookControllerCreate((0,S.Z)({},e))}))},xe=function(){return(0,T.useMutation)((function(e){return L.Zp.bookControllerUpdate(e.id,(0,S.Z)((0,S.Z)({},e),{},{image:e.image[0]}))}))},Ze=function(){return(0,T.useQuery)(["Get-All-Books"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.Zp.bookControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},ge=function(){return(0,T.useMutation)((function(e){return L.Zp.bookControllerRemove(e)}))},je=function(){return(0,T.useQuery)(["Get-All-Grade-Levels"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.LS.gradeLevelControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},be=t.p+"static/media/user.68f03813418404ef4cd3.jpg",we=t(3960),ye=function(){return(0,T.useQuery)(["Get-All-BookReference-References"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.AX.bookReferenceControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},Ce=["ref","onChange"],Se=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),ke=function(e){var n=Se();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var t=(0,r.useState)(!1),i=(0,d.Z)(t,2),s=i[0],u=i[1],f=he(),p=xe(),v=(0,r.useRef)(),h=(0,r.useRef)(),x=(0,r.useRef)(),Z=Ze(),g=ge(),j=(0,r.useState)(1),b=(0,d.Z)(j,2),w=b[0],y=b[1],C=(0,r.useState)(10),T=(0,d.Z)(C,1)[0],L=(0,r.useState)({doUpdate:!1,data:"",id:null}),E=(0,d.Z)(L,2),U=E[0],W=E[1],B=(0,r.useState)(),P=(0,d.Z)(B,2),M=P[0],D=P[1],z=(0,r.useState)(),Q=(0,d.Z)(z,2),G=Q[0],K=Q[1],H=r.useState([]),V=(0,d.Z)(H,2),Y=V[0],J=V[1],X=r.useState([]),$=(0,d.Z)(X,2),ee=$[0],ne=$[1],te=je(),re=ye(),ie=(0,r.useRef)();(0,r.useEffect)((function(){if(G){var e=URL.createObjectURL(G);return D(e),function(){return URL.revokeObjectURL(e)}}D(void 0)}),[G]);var oe=(0,r.useRef)(null),ae=(0,r.useState)({doUpdate:!1,data:"",id:null}),se=(0,d.Z)(ae,2),ue=se[0],de=se[1],ce=(0,N.cI)(),ke=ce.handleSubmit,Ae=ce.register,Re=(ce.formState.errors,Ae("image")),Fe=Re.ref,Ne=Re.onChange,_e=(0,I.Z)(Re,Ce),Te=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),f.mutate((0,S.Z)((0,S.Z)({},n),{},{image:n.image[0]}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),Z.refetch(),_.Am.success(n.message)):(u(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Le=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),p.mutate((0,S.Z)({id:U.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),Z.refetch(),_.Am.success(n.message),W({doUpdate:!1,data:"",id:null}),de({doUpdate:!1,data:"",id:null}),J(null),D(we.f.BASE+"/"+void 0)):(u(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:n.container,children:(0,m.jsxs)("form",{onSubmit:U.doUpdate?ke(Le):ke(Te),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u06a9\u062a\u0627\u0628 ",variant:"outlined",className:n.formField,inputRef:x,value:U.data},Ae("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u06a9\u062a\u0627\u0628 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{onChange:function(e){U.doUpdate?W({doUpdate:!0,data:e.target.value,id:U.id}):W({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a  \u06a9\u062a\u0627\u0628",variant:"outlined",className:n.formField,value:ue.data},Ae("description",{required:"\u0644\u0637\u0641\u0627 \u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u06a9\u062a\u0627\u0628 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:oe,onChange:function(e){ue.doUpdate?de({doUpdate:!0,data:e.target.value,id:U.id}):de({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:n.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628 \u0645\u0631\u062c\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ee&&void 0!==ee?ee:[]},Ae("bookReferences")),{},{inputRef:h,onChange:function(e){ne(e.target.value)},multiple:!0,children:!(null!==re&&void 0!==re&&re.isLoading)&&(null===re||void 0===re?void 0:re.data.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:n.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Y&&void 0!==Y?Y:[]},Ae("gradeLevels")),{},{inputRef:v,onChange:function(e){J(e.target.value)},multiple:!0,children:!(null!==te&&void 0!==te&&te.isLoading)&&(null===te||void 0===te?void 0:te.data.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(o.Z,{display:"flex",position:"relative",borderRadius:"100%",mb:3,children:[G||M?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{component:"img",src:"undefined"===String(M).split("/")[3]?be:M,alt:"test flag",width:100,height:100})}):(0,m.jsx)(o.Z,{component:"img",src:be,alt:"User flag",width:100,height:100}),(0,m.jsxs)(l.Z,{sx:{backgroundColor:"#FCF0FF",width:28,height:28,borderRadius:"8px",p:.5,position:"absolute",bottom:-10},onClick:function(){return ie.current.click()},children:[(0,m.jsx)(O.fnU,{}),(0,m.jsx)("input",(0,S.Z)((0,S.Z)({},_e),{},{type:"file",ref:function(e){Fe(e),ie.current=e},hidden:!0,onChange:function(e){ie.current.files&&0!==ie.current.files.length?K(ie.current.files[0]):K(void 0),Ne(e)}}))]})]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:n.formButton,disabled:s,type:"submit",children:s?(0,m.jsx)(F.Z,{size:24}):U.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:n.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u06a9\u062a\u0627\u0628\u200c\u0647\u0627"}),Z.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===Z||void 0===Z?void 0:Z.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){W({doUpdate:!0,data:e.title,id:e._id}),de({doUpdate:!0,data:e.description,id:e._id}),J(e.gradeLevels),ne(e.bookReferences),setTimeout((function(){x.current.focus()}),100),setTimeout((function(){oe.current.focus()}),200),setTimeout((function(){v.current.focus()}),300),setTimeout((function(){h.current.focus()}),400),D(we.f.BASE+"/"+e.image)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u06a9\u062a\u0627\u0628 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void g.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),Z.refetch(),_.Am.success(n.message)):(u(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:w,count:1,rowsPerPage:T,onChange:function(e,n){y(n)},onRowsPerPageChange:function(){}}})]})]})},Ae=function(){return(0,T.useMutation)((function(e){return L.tH.chapterControllerCreate((0,S.Z)({},e))}))},Re=function(){return(0,T.useMutation)((function(e){return L.tH.chapterControllerRemove(e)}))},Fe=function(){return(0,T.useMutation)((function(e){return L.tH.chapterControllerUpdate(e.id,(0,S.Z)({},e))}))},Ne=function(){return(0,T.useQuery)(["Get-All-Chapters"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.tH.chapterControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},_e=function(e){return(0,T.useQuery)(["Get-All-Books-Based-On-Grade-Levels"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.Zp.bookControllerFindBooksBasedOnGradeLevels(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Te=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Le=function(e){var n,t,i,s,u,f=Te();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var p=(0,r.useState)(!1),v=(0,d.Z)(p,2),h=v[0],x=v[1],Z=Ae(),g=Fe(),j=Ne(),b=Re(),w=(0,r.useState)(1),y=(0,d.Z)(w,2),C=y[0],T=y[1],L=(0,r.useState)(10),E=(0,d.Z)(L,1)[0],U=(0,r.useState)({doUpdate:!1,data:"",id:null}),W=(0,d.Z)(U,2),B=W[0],P=W[1],I=(0,r.useState)([]),M=(0,d.Z)(I,2),D=M[0],z=M[1],Q=r.useState(D),G=(0,d.Z)(Q,2),K=G[0],H=G[1],V=_e(0==(null===D||void 0===D?void 0:D.length)?null:D);(0,r.useEffect)((function(){D&&V.refetch()}),[D]);var Y=je(),J=(0,N.cI)(),X=J.handleSubmit,$=J.register,ee=J.clearErrors,ne=J.formState.errors;(0,r.useEffect)((function(){var e,n,t,r,i,o;_.Am.error(null===(e=ne.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=ne.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=ne.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),ee()}),[null===(n=ne.books)||void 0===n?void 0:n.message,null===(t=ne.title)||void 0===t?void 0:t.message,null===(i=ne.gradeLevels)||void 0===i?void 0:i.message]);var te=(0,r.useRef)(),re=(0,r.useRef)(),ie=(0,r.useRef)(),oe=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Z.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),z(null),P({doUpdate:!1,data:"",id:null}),H(null),j.refetch(),_.Am.success(n.message)):(x(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),g.mutate((0,S.Z)({id:B.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),j.refetch(),_.Am.success(n.message),P({doUpdate:!1,data:"",id:null}),z(null),H(null)):(x(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:f.container,children:(0,m.jsxs)("form",{onSubmit:B.doUpdate?X(ae):X(oe),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0641\u0635\u0644 ",variant:"outlined",className:f.formField,value:B.data},$("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0641\u0635\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:re,onChange:function(e){B.doUpdate?P({doUpdate:!0,data:e.target.value,id:B.id}):P({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:f.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==D&&void 0!==D?D:[]},$("gradeLevels")),{},{inputRef:te,onChange:function(e){z(e.target.value)},multiple:!0,children:!(null!==Y&&void 0!==Y&&Y.isLoading)&&(null===Y||void 0===Y||null===(s=Y.data)||void 0===s?void 0:s.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:f.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==K&&void 0!==K?K:[]},$("books")),{},{inputRef:ie,onChange:function(e){H(e.target.value)},multiple:!0,children:!(null!==V&&void 0!==V&&V.isLoading)&&void 0!=(null===V||void 0===V?void 0:V.data)&&(null===V||void 0===V||null===(u=V.data)||void 0===u?void 0:u.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:f.formButton,disabled:h,type:"submit",children:h?(0,m.jsx)(F.Z,{size:24}):B.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:f.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0641\u0635\u0644\u200c\u0647\u0627"}),j.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===j||void 0===j?void 0:j.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){P({doUpdate:!0,data:e.title,id:e._id}),z(e.gradeLevels),H(e.books.map((function(e){return e._id}))),setTimeout((function(){re.current.focus()}),100),setTimeout((function(){te.current.focus()}),200),setTimeout((function(){ie.current.focus()}),300)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0641\u0635\u0644 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void b.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(x(!1),j.refetch(),_.Am.success(n.message)):(x(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:C,count:1,rowsPerPage:E,onChange:function(e,n){T(n)},onRowsPerPageChange:function(){}}})]})]})},Ee=function(){return(0,T.useMutation)((function(e){return L._F.subjectControllerCreate((0,S.Z)({},e))}))},Ue=function(){return(0,T.useMutation)((function(e){return L._F.subjectControllerUpdate(e.id,(0,S.Z)({},e))}))},We=function(){return(0,T.useQuery)(["Get-All-Sections"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L._F.subjectControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},Be=function(){return(0,T.useMutation)((function(e){return L._F.subjectControllerRemove(e)}))},Oe=function(){return(0,T.useQuery)(["Get-All-Term-Of-Studies"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.ib.termOfStudyControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},qe=function(e){return(0,T.useQuery)(["Get-All-Chapters-Based-On-Books"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.tH.chapterControllerFindChaptersBasedOnBooks(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Pe=function(e){return(0,T.useQuery)(["Get-All-Sections-Based-On-Chapters"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.l.sectionControllerFindSectionsBasedOnChapters(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Ie=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Me=function(e){var n,t,i,s,u,f,p,v,h=Ie();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var x=(0,r.useState)(!1),Z=(0,d.Z)(x,2),g=Z[0],j=Z[1],b=Ee(),w=Ue(),y=We(),C=Be(),T=(0,r.useState)(1),L=(0,d.Z)(T,2),E=L[0],U=L[1],W=(0,r.useState)(10),B=(0,d.Z)(W,1)[0],P=(0,r.useState)({doUpdate:!1,data:"",id:null}),I=(0,d.Z)(P,2),M=I[0],D=I[1],z=(0,r.useState)([]),Q=(0,d.Z)(z,2),G=Q[0],K=Q[1],H=r.useState(G),V=(0,d.Z)(H,2),Y=V[0],J=V[1],X=r.useState(Y),$=(0,d.Z)(X,2),ee=$[0],ne=$[1],te=r.useState(ee),re=(0,d.Z)(te,2),ie=re[0],oe=re[1],ae=r.useState(),se=(0,d.Z)(ae,2),ue=se[0],de=se[1],ce=Oe(),he=(0,r.useRef)(),xe=(0,r.useRef)(),Ze=(0,r.useRef)(),ge=(0,r.useRef)(),be=(0,r.useRef)(),we=(0,r.useRef)();(0,r.useEffect)((function(){ce.refetch()}),[]);var ye=_e(0==(null===G||void 0===G?void 0:G.length)?null:G),Ce=qe(0==(null===Y||void 0===Y?void 0:Y.length)?null:Y),Se=Pe(0==(null===ee||void 0===ee?void 0:ee.length)?null:ee);(0,r.useEffect)((function(){G&&ye.refetch()}),[G]),(0,r.useEffect)((function(){Ce.refetch()}),[Y]),(0,r.useEffect)((function(){Se.refetch()}),[ee]);var ke=je(),Ae=(0,N.cI)(),Re=Ae.handleSubmit,Fe=Ae.register,Ne=Ae.clearErrors,Te=Ae.formState.errors;(0,r.useEffect)((function(){var e,n,t,r,i,o;_.Am.error(null===(e=Te.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=Te.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=Te.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),Ne()}),[null===(n=Te.books)||void 0===n?void 0:n.message,null===(t=Te.title)||void 0===t?void 0:t.message,null===(i=Te.gradeLevels)||void 0===i?void 0:i.message]);var Le=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),b.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(j(!1),K(null),D({doUpdate:!1,data:"",id:null}),J(null),ne(null),oe(null),y.refetch(),_.Am.success(n.message)):(j(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Me=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),w.mutate((0,S.Z)({id:M.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(j(!1),y.refetch(),_.Am.success(n.message),D({doUpdate:!1,data:"",id:null}),K(null),J(null)):(j(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:h.container,children:(0,m.jsxs)("form",{onSubmit:M.doUpdate?Re(Me):Re(Le),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0645\u0648\u0636\u0648\u0639 ",variant:"outlined",className:h.formField,value:M.data},Fe("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0645\u0648\u0636\u0648\u0639 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:xe,onChange:function(e){M.doUpdate?D({doUpdate:!0,data:e.target.value,id:M.id}):D({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:h.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==G&&void 0!==G?G:[]},Fe("gradeLevels")),{},{inputRef:he,onChange:function(e){K(e.target.value),ne(null),J(null),oe(null)},multiple:!0,children:!(null!==ke&&void 0!==ke&&ke.isLoading)&&(null===ke||void 0===ke||null===(s=ke.data)||void 0===s?void 0:s.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:h.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Y&&void 0!==Y?Y:[]},Fe("books")),{},{inputRef:Ze,onChange:function(e){J(e.target.value)},multiple:!0,children:!(null!==ye&&void 0!==ye&&ye.isLoading)&&void 0!=(null===ye||void 0===ye?void 0:ye.data)&&(null===ye||void 0===ye||null===(u=ye.data)||void 0===u?void 0:u.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:h.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ee&&void 0!==ee?ee:[]},Fe("chapters")),{},{inputRef:ge,onChange:function(e){ne(e.target.value)},multiple:!0,children:!(null!==Ce&&void 0!==Ce&&Ce.isLoading)&&void 0!=(null===Ce||void 0===Ce?void 0:Ce.data)&&(null===Ce||void 0===Ce||null===(f=Ce.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:h.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0628\u062e\u0634"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ie&&void 0!==ie?ie:[]},Fe("sections")),{},{inputRef:be,onChange:function(e){oe(e.target.value)},multiple:!0,children:!(null!==Se&&void 0!==Se&&Se.isLoading)&&void 0!=(null===Se||void 0===Se?void 0:Se.data)&&(null===Se||void 0===Se||null===(p=Se.data)||void 0===p?void 0:p.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:h.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u062a\u0631\u0645"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ue&&void 0!==ue?ue:[]},Fe("terms")),{},{inputRef:we,onChange:function(e){de(e.target.value)},multiple:!0,children:!(null!==ce&&void 0!==ce&&ce.isLoading)&&void 0!=(null===ce||void 0===ce?void 0:ce.data)&&(null===ce||void 0===ce||null===(v=ce.data)||void 0===v?void 0:v.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:h.formButton,disabled:g,type:"submit",children:g?(0,m.jsx)(F.Z,{size:24}):M.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:h.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0645\u0648\u0636\u0648\u0639\u200c\u0647\u0627"}),y.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===y||void 0===y?void 0:y.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){D({doUpdate:!0,data:e.title,id:e._id}),K(e.gradeLevels),J(e.books.map((function(e){return e}))),ne(e.chapters.map((function(e){return e}))),oe(e.sections.map((function(e){return e}))),setTimeout((function(){xe.current.focus()}),100),setTimeout((function(){he.current.focus()}),200),setTimeout((function(){Ze.current.focus()}),300),setTimeout((function(){ge.current.focus()}),350),setTimeout((function(){we.current.focus()}),400),setTimeout((function(){be.current.focus()}),450)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void C.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(j(!1),y.refetch(),_.Am.success(n.message)):(j(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:E,count:1,rowsPerPage:B,onChange:function(e,n){U(n)},onRowsPerPageChange:function(){}}})]})]})},De=function(){return(0,T.useMutation)((function(e){return L.LS.gradeLevelControllerCreate((0,S.Z)({},e))}))},ze=function(){return(0,T.useMutation)((function(e){return L.LS.gradeLevelControllerUpdate(e.id,(0,S.Z)((0,S.Z)({},e),{},{image:e.image[0]}))}))},Qe=function(){return(0,T.useMutation)((function(e){return L.LS.gradeLevelControllerRemove(e)}))},Ge=["ref","onChange"],Ke=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem 0",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),He=function(e){var n,t,i,s=Ke();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var u=(0,r.useState)(!1),f=(0,d.Z)(u,2),p=f[0],v=f[1],h=De(),x=ze(),Z=je(),g=Qe(),j=(0,r.useState)(1),b=(0,d.Z)(j,2),w=b[0],y=b[1],C=(0,r.useState)(10),T=(0,d.Z)(C,1)[0],L=(0,r.useState)({doUpdate:!1,data:"",id:null}),E=(0,d.Z)(L,2),U=E[0],B=E[1],P=(0,r.useRef)(null),M=(0,r.useState)(),D=(0,d.Z)(M,2),z=D[0],Q=D[1],G=(0,r.useState)(),K=(0,d.Z)(G,2),H=K[0],V=K[1],Y=(0,r.useRef)(),J=(0,r.useRef)(),X=(0,r.useRef)(null),$=r.useState([]),ee=(0,d.Z)($,2),ne=ee[0],te=ee[1],re=W(),ie=(0,r.useState)({doUpdate:!1,data:"",id:null}),oe=(0,d.Z)(ie,2),ae=oe[0],se=oe[1];(0,r.useEffect)((function(){if(H){var e=URL.createObjectURL(H);return Q(e),function(){return URL.revokeObjectURL(e)}}Q(void 0)}),[H]),(0,r.useEffect)((function(){re.refetch()}),[]);var ue=(0,N.cI)(),de=ue.handleSubmit,ce=ue.register,he=ue.formState.errors,xe=ue.clearErrors,Ze=ce("image"),ge=Ze.ref,ye=Ze.onChange,Ce=(0,I.Z)(Ze,Ge);(0,r.useEffect)((function(){var e,n,t,r,i,o;_.Am.error(null===(e=he.description)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=he.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=he.image)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),xe()}),[null===(n=he.description)||void 0===n?void 0:n.message,null===(t=he.title)||void 0===t?void 0:t.message,null===(i=he.image)||void 0===i?void 0:i.message]);var Se=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),h.mutate((0,S.Z)((0,S.Z)({},n),{},{image:n.image[0]}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(v(!1),Z.refetch(),_.Am.success(n.message)):(v(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ke=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),x.mutate((0,S.Z)({id:U.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(v(!1),Z.refetch(),_.Am.success(n.message),B({doUpdate:!1,data:"",id:null}),se({doUpdate:!1,data:"",id:null}),te(null),Q(we.f.BASE+"/"+void 0)):(v(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:s.container,children:(0,m.jsxs)("form",{onSubmit:U.doUpdate?de(ke):de(Se),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:s.formField,value:U.data},ce("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:P,onChange:function(e){U.doUpdate?B({doUpdate:!0,data:e.target.value,id:U.id}):B({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:s.formField,value:ae.data},ce("description",{required:"\u0644\u0637\u0641\u0627 \u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:X,onChange:function(e){ae.doUpdate?se({doUpdate:!0,data:e.target.value,id:U.id}):se({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:s.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0631\u0634\u062a\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ne&&void 0!==ne?ne:[]},ce("fieldOfStudies")),{},{inputRef:J,onChange:function(e){te(e.target.value)},multiple:!0,children:!(null!==re&&void 0!==re&&re.isLoading)&&(null===re||void 0===re?void 0:re.data.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(o.Z,{display:"flex",position:"relative",borderRadius:"100%",mb:3,children:[H||z?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{component:"img",src:"undefined"===String(z).split("/")[3]?be:z,alt:"test flag",width:100,height:100})}):(0,m.jsx)(o.Z,{component:"img",src:be,alt:"User flag",width:100,height:100}),(0,m.jsxs)(l.Z,{sx:{backgroundColor:"#FCF0FF",width:28,height:28,borderRadius:"8px",p:.5,position:"absolute",bottom:-10},onClick:function(){return Y.current.click()},children:[(0,m.jsx)(O.fnU,{}),(0,m.jsx)("input",(0,S.Z)((0,S.Z)({},Ce),{},{type:"file",ref:function(e){ge(e),Y.current=e},hidden:!0,onChange:function(e){Y.current.files&&0!==Y.current.files.length?V(Y.current.files[0]):V(void 0),ye(e)}}))]})]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:s.formButton,disabled:p,type:"submit",children:p?(0,m.jsx)(F.Z,{size:24}):U.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:s.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u067e\u0627\u06cc\u0647 \u0647\u0627\u06cc \u062a\u062d\u0635\u06cc\u0644\u06cc"}),Z.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===Z||void 0===Z?void 0:Z.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){B({doUpdate:!0,data:e.title,id:e._id}),se({doUpdate:!0,data:e.description,id:e._id}),te(e.fieldOfStudies),P.current.focus(),setTimeout((function(){X.current.focus()}),100),setTimeout((function(){J.current.focus()}),200),Q(we.f.BASE+"/"+e.image)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void g.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(v(!1),Z.refetch(),_.Am.success(n.message)):(v(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:w,count:1,rowsPerPage:T,onChange:function(e,n){y(n)},onRowsPerPageChange:function(){}}})]})]})},Ve=function(){return(0,T.useMutation)((function(e){return L.l.sectionControllerCreate((0,S.Z)({},e))}))},Ye=function(){return(0,T.useMutation)((function(e){return L.l.sectionControllerUpdate(e.id,(0,S.Z)({},e))}))},Je=function(){return(0,T.useQuery)(["Get-All-Sections"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.l.sectionControllerFindAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},Xe=function(){return(0,T.useMutation)((function(e){return L.l.sectionControllerRemove(e)}))},$e=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),en=function(e){var n,t,i,s,u,f,p=$e();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var v=(0,r.useState)(!1),h=(0,d.Z)(v,2),x=h[0],Z=h[1],g=Ve(),j=Ye(),b=Je(),w=Xe(),y=(0,r.useState)(1),C=(0,d.Z)(y,2),T=C[0],L=C[1],E=(0,r.useState)(10),U=(0,d.Z)(E,1)[0],W=(0,r.useState)({doUpdate:!1,data:"",id:null}),B=(0,d.Z)(W,2),P=B[0],I=B[1],M=(0,r.useState)([]),D=(0,d.Z)(M,2),z=D[0],Q=D[1],G=r.useState(z),K=(0,d.Z)(G,2),H=K[0],V=K[1],Y=r.useState(H),J=(0,d.Z)(Y,2),X=J[0],$=J[1],ee=_e(0==(null===z||void 0===z?void 0:z.length)?null:z),ne=qe(0==(null===H||void 0===H?void 0:H.length)?null:H);(0,r.useEffect)((function(){z&&ee.refetch()}),[z]),(0,r.useEffect)((function(){ne.refetch()}),[H]);var te=je(),re=(0,N.cI)(),ie=re.handleSubmit,oe=re.register,ae=re.clearErrors,se=re.formState.errors;(0,r.useEffect)((function(){var e,n,t,r,i,o;_.Am.error(null===(e=se.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=se.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=se.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),ae()}),[null===(n=se.books)||void 0===n?void 0:n.message,null===(t=se.title)||void 0===t?void 0:t.message,null===(i=se.gradeLevels)||void 0===i?void 0:i.message]);var ue=(0,r.useRef)(),de=(0,r.useRef)(),ce=(0,r.useRef)(),he=(0,r.useRef)(),xe=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),g.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),Q(null),I({doUpdate:!1,data:"",id:null}),V(null),$(null),b.refetch(),_.Am.success(n.message)):(Z(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),j.mutate((0,S.Z)({id:P.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),b.refetch(),_.Am.success(n.message),I({doUpdate:!1,data:"",id:null}),Q(null),V(null)):(Z(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:p.container,children:(0,m.jsxs)("form",{onSubmit:P.doUpdate?ie(Ze):ie(xe),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u0628\u062e\u0634 ",variant:"outlined",className:p.formField,value:P.data},oe("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0628\u062e\u0634 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{inputRef:de,onChange:function(e){P.doUpdate?I({doUpdate:!0,data:e.target.value,id:P.id}):I({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:p.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==z&&void 0!==z?z:[]},oe("gradeLevels")),{},{inputRef:ue,onChange:function(e){Q(e.target.value),V(null)},multiple:!0,children:!(null!==te&&void 0!==te&&te.isLoading)&&(null===te||void 0===te||null===(s=te.data)||void 0===s?void 0:s.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:p.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==H&&void 0!==H?H:[]},oe("books")),{},{inputRef:ce,onChange:function(e){V(e.target.value)},multiple:!0,children:!(null!==ee&&void 0!==ee&&ee.isLoading)&&void 0!=(null===ee||void 0===ee?void 0:ee.data)&&(null===ee||void 0===ee||null===(u=ee.data)||void 0===u?void 0:u.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:p.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==X&&void 0!==X?X:[]},oe("chapters")),{},{inputRef:he,onChange:function(e){$(e.target.value)},multiple:!0,children:!(null!==ne&&void 0!==ne&&ne.isLoading)&&void 0!=(null===ne||void 0===ne?void 0:ne.data)&&(null===ne||void 0===ne||null===(f=ne.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:p.formButton,disabled:x,type:"submit",children:x?(0,m.jsx)(F.Z,{size:24}):P.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:p.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0628\u062e\u0634\u200c\u0647\u0627"}),b.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===b||void 0===b?void 0:b.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){I({doUpdate:!0,data:e.title,id:e._id}),Q(e.gradeLevels),V(e.books.map((function(e){return e}))),$(e.chapters.map((function(e){return e}))),setTimeout((function(){de.current.focus()}),100),setTimeout((function(){ue.current.focus()}),200),setTimeout((function(){ce.current.focus()}),300),setTimeout((function(){he.current.focus()}),400)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0628\u062e\u0634 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void w.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(Z(!1),b.refetch(),_.Am.success(n.message)):(Z(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:T,count:1,rowsPerPage:U,onChange:function(e,n){L(n)},onRowsPerPageChange:function(){}}})]})]})},nn=function(){return(0,T.useMutation)((function(e){return L.AA.objectiveTestControllerCreate((0,S.Z)({},e))}))},tn=(t(4230),function(e,n,t){return(0,T.useQuery)(["Get-All-Objective-Tests-Based-On-GradeLevels"],(0,A.Z)((0,k.Z)().mark((function r(){return(0,k.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L.AA.objectiveTestControllerFindObjectiveTestsBasedOnGradeLevels(e,n,t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)}))),{refetchOnWindowFocus:!1,enabled:!1})}),rn=function(){return(0,T.useMutation)((function(e){return L.AA.objectiveTestControllerRemove(e)}))},on=function(){return(0,T.useMutation)((function(e){return L.AA.objectiveTestControllerUpdate(e.id,(0,S.Z)({},e))}))},an=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},objectiveTest:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},durationField:{margin:"1rem",width:"100%",display:"none"},editorField:{margin:"2rem 0"},specialField:{margin:"1rem"}}})),ln=function(e){var n,t,i,s,u,f,p,v,h=an();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var x=(0,N.cI)(),Z=x.handleSubmit,g=x.register,j=x.clearErrors,b=(x.control,x.formState.errors),w=(0,r.useState)([]),y=(0,d.Z)(w,2),C=y[0],T=y[1],L=(0,r.useRef)(),E=(0,r.useState)(!1),U=(0,d.Z)(E,2),W=U[0],B=U[1],P=(0,r.useState)(0),I=(0,d.Z)(P,2),M=I[0],D=I[1],z=(0,r.useRef)(),Q=(0,r.useRef)(),G=(0,r.useState)(!1),K=(0,d.Z)(G,2),H=K[0],V=K[1],Y=(0,r.useRef)(null),J=(0,r.useRef)(null),X=nn(),$=on(),ee=(0,r.useState)(0),ne=(0,d.Z)(ee,2),te=ne[0],re=ne[1],ie=(0,r.useState)(0),oe=(0,d.Z)(ie,2),ae=oe[0],se=oe[1],ue=(0,r.useState)(5),de=(0,d.Z)(ue,2),ce=de[0],he=(de[1],(0,r.useState)(0)),xe=(0,d.Z)(he,2),Ze=xe[0],ge=xe[1],be=(0,r.useState)("main"),we=(0,d.Z)(be,2),ye=we[0],Ce=we[1],Se=rn(),ke=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(!0),X.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(V(!1),T([Ne]),_.Am.success(n.message)):(V(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(!0),n.id=Ee,$.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(V(!1),T([Ne]),_.Am.success(n.message)):(V(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Re=r.useState(),Fe=(0,d.Z)(Re,2),Ne=Fe[0],_e=Fe[1],Te=r.useState(),Le=(0,d.Z)(Te,2),Ee=Le[0],Ue=Le[1],We=je(),Be=tn(0===ae?1:ae,ce,C);return(0,r.useEffect)((function(){Y&&Y.current&&(Y.current.style.display="main"===ye?"none":"block")}),[ye]),(0,r.useEffect)((function(){C.length>0&&Be.refetch()}),[C]),(0,r.useEffect)((function(){var e,n,t,r,i;!Be.isLoading&&null!==Be&&void 0!==Be&&null!==(e=Be.data)&&void 0!==e&&e.objectiveTests&&(se(parseInt(null!==(n=null===Be||void 0===Be||null===(t=Be.data)||void 0===t?void 0:t.currentPage)&&void 0!==n?n:1)),ge(null!==(r=null===Be||void 0===Be||null===(i=Be.data)||void 0===i?void 0:i.totalPages)&&void 0!==r?r:1))}),[null===Be||void 0===Be?void 0:Be.data]),(0,r.useEffect)((function(){ae>0&&Be.refetch()}),[ae]),(0,r.useEffect)((function(){var e,n,t,r,i,o,a,l;_.Am.error(null===(e=b.gradeLevel)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=b.number)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=b.type)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),_.Am.error(null===(a=b.duration)||void 0===a||null===(l=a.message)||void 0===l?void 0:l.toString()),j()}),[null===(n=b.type)||void 0===n?void 0:n.message,null===(t=b.number)||void 0===t?void 0:t.message,null===(i=b.gradeLevel)||void 0===i?void 0:i.message,null===(s=b.duration)||void 0===s?void 0:s.message]),(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:h.container,children:(0,m.jsxs)("form",{onSubmit:Z(W?Ae:ke),children:[(0,m.jsxs)(fe.Z,{className:h.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Ne&&void 0!==Ne?Ne:""},g("gradeLevel",{required:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647 \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"})),{},{inputRef:z,onChange:function(e){_e(e.target.value)},children:!(null!==We&&void 0!==We&&We.isLoading)&&(null===We||void 0===We||null===(u=We.data)||void 0===u?void 0:u.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({},g("number",{required:"\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{value:0===te?"":te,onChange:function(e){return re(e.target.value)},className:h.formField,variant:"outlined",label:"\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f",type:"number",ref:function(e){g("number").ref(e),J.current=e}})),(0,m.jsxs)(fe.Z,{className:h.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0646\u0648\u0639 \u0622\u0632\u0645\u0648\u0646"}),(0,m.jsxs)(pe.Z,(0,S.Z)((0,S.Z)({},g("type",{required:"\u0644\u0637\u0641\u0627 \u0646\u0648\u0639 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{value:ye,onChange:function(e){return Ce(e.target.value)},inputRef:Q,children:[(0,m.jsx)(ve.Z,{value:"main",children:"\u0622\u0632\u0645\u0648\u0646 \u0627\u0635\u0644\u06cc"},1),(0,m.jsx)(ve.Z,{value:"remedial",children:"\u0622\u0632\u0645\u0648\u0646 \u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644"},2)]}))]}),"remedial"===ye&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({type:"number",className:"".concat(h.formField," ").concat(h.durationField),variant:"outlined",label:"\u0644\u0637\u0641\u0627 \u0645\u062f\u062a \u0632\u0645\u0627\u0646 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0628\u0647 \u062f\u0642\u06cc\u0642\u0647 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"},g("duration",{required:"\u0645\u062f\u062a \u0632\u0645\u0627\u0646 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{value:0===M?"":M,onChange:function(e){return D(e.target.value)},ref:function(e){g("duration").ref(e),Y.current=e}}))}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:h.specialField,disabled:H,type:"submit",children:H?(0,m.jsx)(F.Z,{size:24}):W?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:h.objectiveTest,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0622\u0632\u0645\u0648\u0646\u200c\u0647\u0627\u06cc \u062a\u0633\u062a\u06cc"}),(0,m.jsxs)(fe.Z,{className:h.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,{value:null!==C&&void 0!==C?C:[],inputRef:L,onChange:function(e){T(e.target.value)},multiple:!0,children:!(null!==We&&void 0!==We&&We.isLoading)&&(null===We||void 0===We||null===(f=We.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))})]}),!Be.isLoading&&null!==Be&&void 0!==Be&&Be.data?(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===Be||void 0===Be||null===(p=Be.data)||void 0===p||null===(v=p.objectiveTests)||void 0===v?void 0:v.map((function(e,n){return{id:e._id,data:{title:"\u0622\u0632\u0645\u0648\u0646 ".concat("main"==e.type?"\u0627\u0635\u0644\u06cc":"\u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644"," - ").concat(e.number),action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){B(!0),_e(e.gradeLevel[0]._id),re(e.number),Ce(e.type),D(e.duration),Ue(e._id),setTimeout((function(){Q.current.focus()}),200),setTimeout((function(){J.current.focus()}),300),setTimeout((function(){z.current.focus()}),400)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0622\u0632\u0645\u0648\u0646 ".concat("main"==e.type?"\u0627\u0635\u0644\u06cc":"\u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644"," - ").concat(e.number," - ").concat(e.gradeLevel[0].title,"  \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f"),onConfirm:function(){!function(e){Se.mutate(e,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===n.statusCode?(V(!1),(0,_.Am)(n.message),Be.refetch()):(V(!1),(0,_.Am)(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})}(e._id)},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:ae,count:Ze,rowsPerPage:ce,onChange:function(e,n){se(n)},onRowsPerPageChange:function(){}}}):(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."})]})]})},sn=t(16),un=t.n(sn),dn=function(e){return(0,T.useQuery)(["Get-All-Subjects-Based-On-Sections"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L._F.subjectControllerFindSubjectsBasedOnSections(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},cn=t(2985),fn=function(e){var n=e.value,t=e.setValue;return(0,m.jsx)(un(),{className:"quill_fontFamily",formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","size","video","align","background","direction","code-block","code"],modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{align:"right"},{align:"center"},{align:""},{align:"justify"}],[{color:["#000000","#ff0000","rgb(0, 0, 255)","red","blue"]},{background:["#ffffff","#ffcc00","#00ff00","#0000ff"]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image","video"],["clean"]]},theme:"snow",value:n,onChange:t})},mn=function(){return(0,T.useMutation)((function(e){return L.aE.questionControllerCreate((0,S.Z)({},e))}))},pn=function(e){return(0,T.useQuery)(["Get-All-BookReference-References-Based-On-Grade-Levels"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.AX.bookReferenceControllerFindBookReferencesBasedOnGradeLevels(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},vn=function(e,n){return(0,T.useQuery)(["Get-All-Books-Based-On-Book-References"],(0,A.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.Zp.bookControllerFindBooksBasedOnBookReferences(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),{refetchOnWindowFocus:!1,enabled:!1})},hn=function(e){return(0,T.useQuery)(["Get-All-Book-References-Based-On-Objective-Test-Id"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.aE.questionControllerFindBookReferencesBasedOnObjectiveTests(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1})},xn=t(7080),Zn=function(){return(0,T.useMutation)((function(e){return L.aE.questionControllerRemove(e)}))},gn=function(){return(0,T.useMutation)((function(e){return L.aE.questionControllerUpdate(e.id,(0,S.Z)({},e))}))},jn=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},objectiveTest:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},editorField:{margin:"2rem 0"},specialField:{margin:"1rem"}}})),bn=function(e){var n,t,i,s,u,f,p,v,h,x,Z,g,j,b,w,y=jn();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var C=(0,N.cI)(),T=C.handleSubmit,L=C.register,E=C.clearErrors,U=(C.control,C.formState.errors),W=(0,r.useState)(!1),B=(0,d.Z)(W,2),I=B[0],M=B[1],D=(0,r.useState)(),z=(0,d.Z)(D,2),Q=z[0],G=z[1],K=(0,r.useState)([]),H=(0,d.Z)(K,2),V=H[0],Y=H[1],J=(0,r.useState)([]),X=(0,d.Z)(J,2),$=X[0],ee=X[1],ne=(0,r.useState)([]),te=(0,d.Z)(ne,2),re=te[0],ie=te[1],oe=r.useState(re),ae=(0,d.Z)(oe,2),se=ae[0],ue=ae[1],de=r.useState(re),ce=(0,d.Z)(de,2),he=ce[0],xe=ce[1],Ze=r.useState(re),ge=(0,d.Z)(Ze,2),be=ge[0],we=ge[1],ye=r.useState(),Ce=(0,d.Z)(ye,2),Se=Ce[0],ke=Ce[1],Ae=r.useState(se),Re=(0,d.Z)(Ae,2),Fe=Re[0],Ne=Re[1],_e=r.useState(Fe),Te=(0,d.Z)(_e,2),Le=Te[0],Ee=Te[1],Ue=r.useState(Le),We=(0,d.Z)(Ue,2),Be=We[0],Oe=We[1],Ie=r.useState("easy"),Me=(0,d.Z)(Ie,2),De=Me[0],ze=Me[1],Qe=r.useState("conceptional"),Ge=(0,d.Z)(Qe,2),Ke=Ge[0],He=Ge[1],Ve=r.useState("1"),Ye=(0,d.Z)(Ve,2),Je=Ye[0],Xe=Ye[1],$e=(0,r.useState)([]),en=(0,d.Z)($e,2),nn=en[0],tn=(en[1],(0,r.useState)(0)),rn=(0,d.Z)(tn,2),on=rn[0],an=rn[1],ln=(0,r.useState)(0),sn=(0,d.Z)(ln,2),bn=sn[0],wn=sn[1],yn=(0,r.useState)(5),Cn=(0,d.Z)(yn,2),Sn=Cn[0],kn=(Cn[1],(0,r.useState)(0)),An=(0,d.Z)(kn,2),Rn=An[0],Fn=An[1],Nn=un().Quill,_n=Nn.import("formats/font");_n.whitelist=["IRANSans","Ubuntu","Raleway","Roboto"],Nn.register(_n,!0);var Tn=(0,r.useRef)(),Ln=(0,r.useRef)(),En=(0,r.useRef)(),Un=(0,r.useRef)(),Wn=(0,r.useRef)(),Bn=(0,r.useRef)(),On=(0,r.useRef)(),qn=(0,r.useRef)(),Pn=(0,r.useRef)(),In=(0,r.useRef)(),Mn=je(),Dn=(0,cn.Z)(),zn=vn(0==(null===he||void 0===he?void 0:he.length)?0:he,0==(null===re||void 0===re?void 0:re.length)?0:re),Qn=hn(0==(null===$||void 0===$?void 0:$.length)?null:$),Gn=(0,xn.Z)(0===on?1:on,Sn,be);(0,r.useEffect)((function(){var e,n,t,r,i;!Gn.isLoading&&null!==Gn&&void 0!==Gn&&null!==(e=Gn.data)&&void 0!==e&&e.objectiveTests&&(an(parseInt(null!==(n=null===Gn||void 0===Gn||null===(t=Gn.data)||void 0===t?void 0:t.currentPage)&&void 0!==n?n:1)),Fn(null!==(r=null===Gn||void 0===Gn||null===(i=Gn.data)||void 0===i?void 0:i.totalPages)&&void 0!==r?r:1))}),[null===Gn||void 0===Gn?void 0:Gn.data]),(0,r.useEffect)((function(){on>0&&Gn.refetch()}),[on]),(0,r.useEffect)((function(){be.length>0&&Gn.refetch()}),[be]),(0,r.useEffect)((function(){Qn.refetch()}),[$]);var Kn=pn(0==(null===re||void 0===re?void 0:re.length)?null:re),Hn=qe(0==(null===se||void 0===se?void 0:se.length)?null:se),Vn=Pe(0==(null===Fe||void 0===Fe?void 0:Fe.length)?null:Fe),Yn=dn(0==(null===Le||void 0===Le?void 0:Le.length)?null:Le);(0,r.useEffect)((function(){re&&Kn.refetch()}),[re]),(0,r.useEffect)((function(){zn.refetch()}),[he,re]),(0,r.useEffect)((function(){Hn.refetch()}),[se]),(0,r.useEffect)((function(){Vn.refetch()}),[Fe]),(0,r.useEffect)((function(){Yn.refetch()}),[Le]),(0,r.useEffect)((function(){var e=document.querySelector(".ql-editor");e&&(e.style.textAlign="right")}),[nn]),(0,r.useEffect)((function(){var e,n,t,r,i,o,a,l;_.Am.error(null===(e=U.type)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=U.number)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=U.objectiveTests)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),_.Am.error(null===(a=U.correctAnswer)||void 0===a||null===(l=a.message)||void 0===l?void 0:l.toString()),E()}),[null===(n=U.type)||void 0===n?void 0:n.message,null===(t=U.number)||void 0===t?void 0:t.message,null===(i=U.objectiveTests)||void 0===i?void 0:i.message,null===(s=U.correctAnswer)||void 0===s?void 0:s.message]);var Jn=mn(),Xn=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=it.option1&&""!=it.option2&&""!=it.option3&&""!=it.option4){e.next=2;break}return e.abrupt("return",_.Am.error("\u0647\u0631 \u06f4 \u06af\u0632\u06cc\u0646\u0647 \u0628\u0627\u06cc\u062f \u0645\u0642\u062f\u0627\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u0646\u062f"));case 2:if(""!=Q){e.next=4;break}return e.abrupt("return",_.Am.error("\u062d\u062f\u0627\u0642\u0644 \u06cc\u06a9 \u0633\u0648\u0627\u0644 \u0628\u0627\u06cc\u062f \u0627\u06cc\u062c\u0627\u062f \u0634\u0648\u062f"));case 4:n.options=it,n.question=Q,M(!0),Jn.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(M(!1),ie(null),ue(null),Ne(null),Ee(null),_.Am.success(n.message),Gn.refetch()):(M(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$n=gn(),et=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=it.option1&&""!=it.option2&&""!=it.option3&&""!=it.option4){e.next=2;break}return e.abrupt("return",_.Am.error("\u0647\u0631 \u06f4 \u06af\u0632\u06cc\u0646\u0647 \u0628\u0627\u06cc\u062f \u0645\u0642\u062f\u0627\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u0646\u062f"));case 2:if(""!=Q){e.next=4;break}return e.abrupt("return",_.Am.error("\u062d\u062f\u0627\u0642\u0644 \u06cc\u06a9 \u0633\u0648\u0627\u0644 \u0628\u0627\u06cc\u062f \u0627\u06cc\u062c\u0627\u062f \u0634\u0648\u062f"));case 4:n.options=it,n.question=Q,M(!0),n.id=bn,$n.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(M(!1),_.Am.success(n.message),Gn.refetch()):(M(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),nt=Zn(),tt=(0,r.useState)({option1:"",option2:"",option3:"",option4:""}),rt=(0,d.Z)(tt,2),it=rt[0],ot=rt[1],at=function(e,n){ot((function(t){return(0,S.Z)((0,S.Z)({},t),{},(0,P.Z)({},n,e))}))};return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:y.container,children:(0,m.jsxs)("form",{onSubmit:T(bn?et:Xn),children:[(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0622\u0632\u0645\u0648\u0646"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==V&&void 0!==V?V:[]},L("objectiveTests")),{},{inputRef:Tn,onChange:function(e){Y(e.target.value)},multiple:!0,children:!(null!==Dn&&void 0!==Dn&&Dn.isLoading)&&(null===Dn||void 0===Dn||null===(u=Dn.data)||void 0===u?void 0:u.map((function(e){var n;return(0,m.jsx)(ve.Z,{value:null===e||void 0===e?void 0:e._id,children:"".concat(null===e||void 0===e||null===(n=e.gradeLevel[0])||void 0===n?void 0:n.title," - ").concat(null===e||void 0===e?void 0:e.number," - ").concat("main"==(null===e||void 0===e?void 0:e.type)?"\u0627\u0635\u0644\u06cc":"\u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644")},null===e||void 0===e?void 0:e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==re&&void 0!==re?re:[]},L("gradeLevels")),{},{inputRef:En,onChange:function(e){ie(e.target.value),Ne(null),ue(null),xe(null),Ee(null),Oe(null)},multiple:!0,children:!(null!==Mn&&void 0!==Mn&&Mn.isLoading)&&(null===Mn||void 0===Mn||null===(f=Mn.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628 \u0645\u0631\u062c\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==he&&void 0!==he?he:[]},L("bookReferences")),{},{inputRef:Wn,onChange:function(e){xe(e.target.value),ue(null)},multiple:!0,children:!(null!==Kn&&void 0!==Kn&&Kn.isLoading)&&void 0!=(null===Kn||void 0===Kn?void 0:Kn.data)&&(null===Kn||void 0===Kn||null===(p=Kn.data)||void 0===p?void 0:p.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==se&&void 0!==se?se:[]},L("books")),{},{inputRef:Un,onChange:function(e){ue(e.target.value)},multiple:!0,children:!(null!==zn&&void 0!==zn&&zn.isLoading)&&void 0!=(null===zn||void 0===zn?void 0:zn.data)&&(null===zn||void 0===zn||null===(v=zn.data)||void 0===v?void 0:v.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Fe&&void 0!==Fe?Fe:[]},L("chapters")),{},{inputRef:On,onChange:function(e){Ne(e.target.value)},multiple:!0,children:!(null!==Hn&&void 0!==Hn&&Hn.isLoading)&&void 0!=(null===Hn||void 0===Hn?void 0:Hn.data)&&(null===Hn||void 0===Hn||null===(h=Hn.data)||void 0===h?void 0:h.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0628\u062e\u0634"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Le&&void 0!==Le?Le:[]},L("sections")),{},{inputRef:qn,onChange:function(e){Ee(e.target.value)},multiple:!0,children:!(null!==Vn&&void 0!==Vn&&Vn.isLoading)&&void 0!=(null===Vn||void 0===Vn?void 0:Vn.data)&&(null===Vn||void 0===Vn||null===(x=Vn.data)||void 0===x?void 0:x.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0648\u0636\u0648\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Be&&void 0!==Be?Be:[]},L("subjects")),{},{inputRef:Pn,onChange:function(e){Oe(e.target.value)},multiple:!0,children:!(null!==Yn&&void 0!==Yn&&Yn.isLoading)&&void 0!=(null===Yn||void 0===Yn?void 0:Yn.data)&&(null===Yn||void 0===Yn||null===(Z=Yn.data)||void 0===Z?void 0:Z.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))," "]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0633\u062e\u062a\u06cc \u0633\u0648\u0627\u0644"}),(0,m.jsxs)(pe.Z,(0,S.Z)((0,S.Z)({value:De},L("questionDifficulty",{required:"\u0644\u0637\u0641\u0627 \u0633\u062e\u062a\u06cc \u0633\u0648\u0627\u0644 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{onChange:function(e){ze(e.target.value),L("questionDifficulty").onChange(e)},children:[(0,m.jsx)(ve.Z,{value:"easy",children:"\u0633\u0627\u062f\u0647"},1),(0,m.jsx)(ve.Z,{value:"average",children:"\u0645\u062a\u0648\u0633\u0637"},2),(0,m.jsx)(ve.Z,{value:"hard",children:"\u0633\u062e\u062a"},3),(0,m.jsx)(ve.Z,{value:"challenging",children:"\u0686\u0627\u0644\u0634\u06cc"},4)]}))]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0646\u0648\u0639 \u0633\u0648\u0627\u0644"}),(0,m.jsxs)(pe.Z,(0,S.Z)((0,S.Z)({value:Ke},L("type",{required:"\u0644\u0637\u0641\u0627 \u0646\u0648\u0639 \u0633\u0648\u0627\u0644 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{onChange:function(e){He(e.target.value),L("type").onChange(e)},children:[(0,m.jsx)(ve.Z,{value:"conceptional",children:"\u0645\u0641\u0647\u0648\u0645\u06cc"},1),(0,m.jsx)(ve.Z,{value:"computational",children:"\u0645\u062d\u0627\u0633\u0628\u0627\u062a\u06cc"},2),(0,m.jsx)(ve.Z,{value:"trick",children:"\u062a\u0644\u0647 \u062f\u0627\u0631"},3),(0,m.jsx)(ve.Z,{value:"memorizational",children:"\u062d\u0641\u0638\u06cc"},4)]}))]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u06af\u0632\u06cc\u0647 \u062f\u0631\u0633\u062a"}),(0,m.jsxs)(pe.Z,(0,S.Z)((0,S.Z)({value:Je},L("correctAnswer",{required:"\u0644\u0637\u0641\u0627 \u06af\u0632\u06cc\u0646\u0647 \u0635\u062d\u06cc\u062d \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f"})),{},{onChange:function(e){Xe(e.target.value),L("correctAnswer").onChange(e)},children:[(0,m.jsx)(ve.Z,{value:1,children:"1"},1),(0,m.jsx)(ve.Z,{value:2,children:"2"},2),(0,m.jsx)(ve.Z,{value:3,children:"3"},3),(0,m.jsx)(ve.Z,{value:4,children:"4"},4)]}))]}),(0,m.jsx)(fe.Z,{className:y.formField,children:(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({value:Se,type:"text"},L("number")),{},{onChange:function(e){ke(e.target.value),L("number").onChange(e)},label:"\u0634\u0645\u0627\u0631\u0647 \u0633\u0648\u0627\u0644",inputRef:In}))}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(a.Z,{children:"\u0633\u0648\u0627\u0644"}),(0,m.jsx)(fn,{value:Q,setValue:function(e){return G(e)}})]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(a.Z,{children:"\u06af\u0632\u06cc\u0646\u0647 \u0627\u0648\u0644"}),(0,m.jsx)(fn,{value:it.option1,setValue:function(e){return at(e,"option1")}})]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(a.Z,{children:"\u06af\u0632\u06cc\u0646\u0647 \u062f\u0648\u0645"}),(0,m.jsx)(fn,{value:it.option2,setValue:function(e){return at(e,"option2")}})]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(a.Z,{children:"\u06af\u0632\u06cc\u0646\u0647 \u0633\u0648\u0645"}),(0,m.jsx)(fn,{value:it.option3,setValue:function(e){return at(e,"option3")}})]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(a.Z,{children:"\u06af\u0632\u06cc\u0646\u0647 \u0686\u0647\u0627\u0631\u0645"}),(0,m.jsx)(fn,{value:it.option4,setValue:function(e){return at(e,"option4")}})]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:y.specialField,disabled:I,type:"submit",children:I?(0,m.jsx)(F.Z,{size:24}):bn?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:y.objectiveTest,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0622\u0632\u0645\u0648\u0646\u200c\u0647\u0627\u06cc \u062a\u0633\u062a\u06cc"}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0622\u0632\u0645\u0648\u0646"}),(0,m.jsx)(pe.Z,{value:null!==$&&void 0!==$?$:[],inputRef:Ln,onChange:function(e){ee(e.target.value)},multiple:!0,children:!(null!==Dn&&void 0!==Dn&&Dn.isLoading)&&(null===Dn||void 0===Dn||null===(g=Dn.data)||void 0===g?void 0:g.map((function(e){var n;return(0,m.jsx)(ve.Z,{value:null===e||void 0===e?void 0:e._id,children:"".concat(null===e||void 0===e||null===(n=e.gradeLevel[0])||void 0===n?void 0:n.title," - ").concat(null===e||void 0===e?void 0:e.number," - ").concat("main"==(null===e||void 0===e?void 0:e.type)?"\u0627\u0635\u0644\u06cc":"\u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644")},null===e||void 0===e?void 0:e._id)})))})]}),(0,m.jsxs)(fe.Z,{className:y.formField,children:[(0,m.jsx)(me.Z,{children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628 \u0645\u0631\u062c\u0639"}),(0,m.jsx)(pe.Z,{value:null!==be&&void 0!==be?be:[],inputRef:Bn,onChange:function(e){we(e.target.value)},multiple:!0,children:!(null!==Qn&&void 0!==Qn&&Qn.isLoading)&&void 0!=(null===Qn||void 0===Qn?void 0:Qn.data)&&(null===Qn||void 0===Qn||null===(j=Qn.data)||void 0===j?void 0:j.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))})," "]}),!Gn.isLoading&&null!==Gn&&void 0!==Gn&&Gn.data?(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===Gn||void 0===Gn||null===(b=Gn.data)||void 0===b||null===(w=b.questions)||void 0===w?void 0:w.map((function(e,n){return{id:e._id,data:{title:"".concat(e.number),action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){wn(null===e||void 0===e?void 0:e._id),Y(e.objectiveTests),ie(e.gradeLevels),xe(e.bookReferences),ue(e.books.map((function(e){return null===e||void 0===e?void 0:e._id}))),Ne(e.chapters),Ee(e.sections),Oe(e.subjects),ze(e.questionDifficulty),He(e.type),Xe(e.correctAnswer),ke(e.number),G(e.question),at(e.options[0].option1,"option1"),at(e.options[0].option2,"option2"),at(e.options[0].option3,"option3"),at(e.options[0].option4,"option4"),setTimeout((function(){Tn.current.focus()}),50),setTimeout((function(){En.current.focus()}),100),setTimeout((function(){Un.current.focus()}),150),setTimeout((function(){Wn.current.focus()}),200),setTimeout((function(){On.current.focus()}),200),setTimeout((function(){qn.current.focus()}),250),setTimeout((function(){Pn.current.focus()}),300),setTimeout((function(){In.current.focus()}),350)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0633\u0648\u0627\u0644 ".concat(e.number,"  \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f"),onConfirm:function(){!function(e){nt.mutate(e,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===n.statusCode?(M(!1),(0,_.Am)(n.message),Gn.refetch()):(M(!1),(0,_.Am)(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})}(e._id)},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:on,count:Rn,rowsPerPage:Sn,onChange:function(e,n){an(n)},onRowsPerPageChange:function(){}}}):(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."})]})]})},wn=function(){return(0,m.jsx)(m.Fragment,{children:"BookIntro"})},yn=t(6381),Cn=function(e){return(0,T.useQuery)(["Get-All-Learning-Material-Based-On-Subject"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.RC.learningMaterialControllerFindLearningMaterialBasedOnSubject(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Sn=function(){return(0,T.useMutation)((function(e){return L.RC.learningMaterialControllerCreate((0,S.Z)({},e))}))},kn=function(){return(0,T.useMutation)((function(e){return L.RC.learningMaterialControllerRemove(e)}))},An=function(){return(0,T.useMutation)((function(e){return L.RC.learningMaterialControllerUpdate(e.id,(0,S.Z)({},e))}))},Rn=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Fn=function(e){var n,t,i,s,f,p,v,h,x,Z=Rn(),g=(0,r.useRef)(),j=(0,r.useRef)(),b=(0,r.useRef)(),w=(0,r.useRef)(),y=(0,r.useRef)(),C=(0,r.useRef)(),T=(0,N.cI)(),L=T.handleSubmit,E=T.register,U=T.clearErrors,W=T.formState.errors;(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var B=(0,r.useState)(!1),P=(0,d.Z)(B,2),I=P[0],M=P[1],D=(0,r.useState)(1),z=(0,d.Z)(D,2),Q=z[0],G=z[1],K=(0,r.useState)(10),H=(0,d.Z)(K,1)[0],V=(0,r.useState)({doUpdate:!1,data:"",id:null}),Y=(0,d.Z)(V,2),J=Y[0],X=Y[1],$=(0,r.useState)([]),ee=(0,d.Z)($,2),ne=ee[0],te=ee[1],re=(0,r.useState)(ne),ie=(0,d.Z)(re,2),oe=ie[0],ae=ie[1],se=r.useState(oe),ue=(0,d.Z)(se,2),de=ue[0],ce=ue[1],he=(0,r.useState)(de),xe=(0,d.Z)(he,2),Ze=xe[0],ge=xe[1],be=(0,r.useState)(),we=(0,d.Z)(be,2),ye=we[0],Ce=we[1],Se=(0,r.useState)(""),ke=(0,d.Z)(Se,2),Ae=ke[0],Re=ke[1],Fe=(0,r.useState)(""),Ne=(0,d.Z)(Fe,2),Te=Ne[0],Le=Ne[1],Ee=(0,r.useState)([]),Ue=(0,d.Z)(Ee,2),We=Ue[0],Be=Ue[1],Oe=(0,r.useState)(-1),Ie=(0,d.Z)(Oe,2),Me=Ie[0],De=Ie[1],ze=(0,r.useState)([]),Qe=(0,d.Z)(ze,2),Ge=Qe[0],Ke=Qe[1],He=je(),Ve=Sn(),Ye=kn(),Je=An(),Xe=_e(0==(null===ne||void 0===ne?void 0:ne.length)?null:ne),$e=qe(0==(null===oe||void 0===oe?void 0:oe.length)?null:oe),en=Pe(0==(null===de||void 0===de?void 0:de.length)?null:de),nn=dn(0==(null===Ze||void 0===Ze?void 0:Ze.length)?null:Ze),tn=Cn(0==(null===ye||void 0===ye?void 0:ye.length)?[null]:[ye]);(0,r.useEffect)((function(){ne&&Xe.refetch()}),[ne]),(0,r.useEffect)((function(){oe&&$e.refetch()}),[oe]),(0,r.useEffect)((function(){de&&en.refetch()}),[de]),(0,r.useEffect)((function(){Ze&&nn.refetch()}),[Ze]),(0,r.useEffect)((function(){ye&&tn.refetch()}),[ye]),(0,r.useEffect)((function(){var e,n,t,r,i,o;_.Am.error(null===(e=W.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=W.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=W.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),U()}),[null===(n=W.books)||void 0===n?void 0:n.message,null===(t=W.title)||void 0===t?void 0:t.message,null===(i=W.gradeLevels)||void 0===i?void 0:i.message]);var rn=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve.mutate((0,S.Z)((0,S.Z)({},n),{},{videos:We,pdfFiles:Ge}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tn.refetch(),te(null),ae(null),ce(null),ge(null),Ce([]),Be([]),Ke([]);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),on=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!0),Je.mutate((0,S.Z)({id:J.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(M(!1),nn.refetch(),_.Am.success(n.message),X({doUpdate:!1,data:"",id:null}),te(null),ae(null)):(M(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{className:Z.container,children:[(0,m.jsx)(o.Z,{sx:{width:500},children:(0,m.jsxs)("form",{onSubmit:J.doUpdate?L(on):L(rn),children:[(0,m.jsxs)(fe.Z,{className:Z.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ne&&void 0!==ne?ne:[]},E("gradeLevel")),{},{inputRef:g,onChange:function(e){te(e.target.value),ae(null),ce(null),ge(null),Ce([])},children:!(null!==He&&void 0!==He&&He.isLoading)&&(null===He||void 0===He||null===(s=He.data)||void 0===s?void 0:s.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:Z.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==oe&&void 0!==oe?oe:[]},E("book")),{},{inputRef:j,onChange:function(e){ae(e.target.value),ce(null),ge(null),Ce([])},children:!(null!==Xe&&void 0!==Xe&&Xe.isLoading)&&void 0!=(null===Xe||void 0===Xe?void 0:Xe.data)&&(null===Xe||void 0===Xe||null===(f=Xe.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:Z.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==de&&void 0!==de?de:[]},E("chapter")),{},{inputRef:b,onChange:function(e){ce(e.target.value),ge(null),Ce([])},children:!(null!==$e&&void 0!==$e&&$e.isLoading)&&void 0!=(null===$e||void 0===$e?void 0:$e.data)&&(null===$e||void 0===$e||null===(p=$e.data)||void 0===p?void 0:p.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:Z.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0628\u062e\u0634"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==Ze&&void 0!==Ze?Ze:[]},E("section")),{},{inputRef:w,onChange:function(e){ge(e.target.value),Ce([])},children:!(null!==en&&void 0!==en&&en.isLoading)&&void 0!=(null===en||void 0===en?void 0:en.data)&&(null===en||void 0===en||null===(v=en.data)||void 0===v?void 0:v.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:Z.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0648\u0636\u0648\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ye&&void 0!==ye?ye:[]},E("subject")),{},{inputRef:y,onChange:function(e){Ce(e.target.value)},children:!(null!==nn&&void 0!==nn&&nn.isLoading)&&void 0!=(null===nn||void 0===nn?void 0:nn.data)&&(null===nn||void 0===nn||null===(h=nn.data)||void 0===h?void 0:h.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),ye&&(null===ye||void 0===ye?void 0:ye.length)>0&&(0,m.jsxs)(o.Z,{sx:{width:"510px",backgroundColor:"#ededed",padding:"10px",alignItems:"center",justifyContent:"center",borderRadius:"12px"},children:[(0,m.jsxs)(o.Z,{sx:{width:"100%"},children:[(0,m.jsx)(R.Z,{label:"\u0639\u0646\u0648\u0627\u0646 \u0648\u06cc\u062f\u06cc\u0648 ",variant:"outlined",className:Z.formField,value:Ae,onChange:function(e){Re(e.target.value)}}),(0,m.jsx)(R.Z,{label:"\u0644\u06cc\u0646\u06a9 \u0648\u06cc\u062f\u06cc\u0648",variant:"outlined",className:Z.formField,value:Te,onChange:function(e){Le(e.target.value)}})]}),(0,m.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,m.jsxs)(o.Z,{sx:{width:"350px",alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(a.Z,{textAlign:"center",children:"\u0644\u06cc\u0633\u062a \u0648\u06cc\u062f\u06cc\u0648\u0647\u0627"}),(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0644\u06cc\u0646\u06a9"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:We.map((function(e,n){var t,r;return{id:n,data:{title:null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:"-",link:null!==(r=null===e||void 0===e?void 0:e.link)&&void 0!==r?r:"-",action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){var t,r;De(n),Re(null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:""),Le(null!==(r=null===e||void 0===e?void 0:e.link)&&void 0!==r?r:"")},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0648\u06cc\u062f\u06cc\u0648 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return Be(We.filter((function(e,t){return t!==n})))},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}}))})]}),(0,m.jsxs)(o.Z,{sx:{width:"130px"},children:[(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:Z.formButton,disabled:I,sx:{width:"130px !important",height:"40px",position:"relative"},onClick:function(){if(-1===Me){var e={title:Ae,link:Te};Be([].concat((0,u.Z)(We),[e]))}else{var n={title:Ae,link:Te};Be(We.map((function(e,t){return Me===t?n:e}))),De(-1)}Re(""),Le("")},children:-1===Me?"\u0627\u0641\u0632\u0648\u062f\u0646 \u0648\u06cc\u062f\u06cc\u0648":"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0648\u06cc\u062f\u06cc\u0648"}),-1!==Me&&(0,m.jsx)(c.Z,{variant:"contained",color:"secondary",className:Z.formButton,disabled:I,sx:{width:"130px !important",height:"40px",position:"relative"},onClick:function(){De(-1),Re(""),Le("")},children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})]}),ye&&(null===ye||void 0===ye?void 0:ye.length)>0&&(0,m.jsxs)(o.Z,{sx:{width:"510px",backgroundColor:"#ededed",padding:"10px",alignItems:"center",justifyContent:"center",borderRadius:"12px",marginTop:"10px"},children:[(0,m.jsx)("input",{type:"file",accept:".pdf",multiple:!0,ref:function(e){C.current=e},hidden:!0,onChange:function(e){!function(e){if(C.current.files&&0!==C.current.files.length){var n=Array.from(e.target.files);Ke([].concat((0,u.Z)(Ge),n))}else Ke(void 0)}(e)}}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:Z.formButton,disabled:I,onClick:function(){return C.current.click()},children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644 PDF"}),(0,m.jsxs)(o.Z,{sx:{width:"100%",alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(a.Z,{textAlign:"center",children:"\u0644\u06cc\u0633\u062a \u0641\u0627\u06cc\u0644 pdf"}),(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u062d\u062c\u0645 KB"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:Ge.map((function(e,n){var t,r;return{id:n,data:{title:null!==(t=e.name)&&void 0!==t?t:"-",link:null!==(r=(0,yn.B2)(e.size))&&void 0!==r?r:"-",action:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){!function(e){var n=Ge.filter((function(n){return n!==e}));Ke(n)}(e)},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})})}}}))})]})]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:Z.formButton,disabled:I,type:"submit",children:I?(0,m.jsx)(F.Z,{size:24}):J.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:Z.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u062f\u0631\u0633 \u0646\u0627\u0645\u0647"}),tn.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===tn||void 0===tn||null===(x=tn.data)||void 0===x?void 0:x.map((function(e,n){return{id:e._id,data:{title:"".concat(n+1," \u062f\u0631\u0633 \u0646\u0627\u0645\u0647"),action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){X({doUpdate:!0,data:"",id:e._id}),Be(e.videos.map((function(e){return"string"===typeof e?JSON.parse(e):e}))),console.log("item pdfFile => ",e.pdfFiles)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void Ye.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(M(!1),tn.refetch(),_.Am.success(n.message)):(M(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:Q,count:1,rowsPerPage:H,onChange:function(e,n){G(n)},onRowsPerPageChange:function(){}}})]})]})},Nn=function(){return(0,T.useMutation)((function(e){return L.he.essayQuestionControllerCreate((0,S.Z)({},e))}))},_n=function(){return(0,T.useMutation)((function(e){return L.he.essayQuestionControllerRemove(e)}))},Tn=function(){return(0,T.useMutation)((function(e){return L.he.essayQuestionControllerUpdate(e.id,(0,S.Z)({},e))}))},Ln=function(e){return(0,T.useQuery)(["Get-All-Essay-Question-Based-On-Subject"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.he.essayQuestionControllerFindEssayQuestionBasedOnSubject(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},En=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),Un=function(){var e,n,t,i,s,f,p,v,h,x=En(),Z=(0,r.useRef)(),g=(0,r.useRef)(),j=(0,r.useRef)(),b=(0,r.useRef)(),w=(0,r.useRef)(),y=(0,r.useRef)(),C=(0,N.cI)(),T=C.handleSubmit,L=C.register,E=C.clearErrors,U=C.formState.errors;(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var W=(0,r.useState)(!1),B=(0,d.Z)(W,2),P=B[0],I=B[1],M=(0,r.useState)(1),D=(0,d.Z)(M,2),z=D[0],Q=D[1],G=(0,r.useState)(10),K=(0,d.Z)(G,1)[0],H=(0,r.useState)({doUpdate:!1,data:"",id:null}),V=(0,d.Z)(H,2),Y=V[0],J=V[1],X=(0,r.useState)([]),$=(0,d.Z)(X,2),ee=$[0],ne=$[1],te=(0,r.useState)(ee),re=(0,d.Z)(te,2),ie=re[0],oe=re[1],ae=r.useState(ie),se=(0,d.Z)(ae,2),ue=se[0],de=se[1],ce=(0,r.useState)(ue),he=(0,d.Z)(ce,2),xe=he[0],Ze=he[1],ge=(0,r.useState)(),be=(0,d.Z)(ge,2),we=be[0],ye=be[1],Ce=(0,r.useState)(""),Se=(0,d.Z)(Ce,2),ke=Se[0],Ae=Se[1],Re=(0,r.useState)(""),Fe=(0,d.Z)(Re,2),Ne=Fe[0],Te=Fe[1],Le=(0,r.useState)([]),Ee=(0,d.Z)(Le,2),Ue=Ee[0],We=Ee[1],Be=(0,r.useState)(-1),Oe=(0,d.Z)(Be,2),Ie=Oe[0],Me=Oe[1],De=(0,r.useState)([]),ze=(0,d.Z)(De,2),Qe=ze[0],Ge=ze[1],Ke=je(),He=Nn(),Ve=_n(),Ye=Tn(),Je=_e(0==(null===ee||void 0===ee?void 0:ee.length)?null:ee),Xe=qe(0==(null===ie||void 0===ie?void 0:ie.length)?null:ie),$e=Pe(0==(null===ue||void 0===ue?void 0:ue.length)?null:ue),en=dn(0==(null===xe||void 0===xe?void 0:xe.length)?null:xe),nn=Ln(0==(null===we||void 0===we?void 0:we.length)?[null]:[we]);(0,r.useEffect)((function(){ee&&Je.refetch()}),[ee]),(0,r.useEffect)((function(){ie&&Xe.refetch()}),[ie]),(0,r.useEffect)((function(){ue&&$e.refetch()}),[ue]),(0,r.useEffect)((function(){xe&&en.refetch()}),[xe]),(0,r.useEffect)((function(){we&&nn.refetch()}),[we]),(0,r.useEffect)((function(){var e,n,t,r,i,o;_.Am.error(null===(e=U.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=U.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=U.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),E()}),[null===(e=U.books)||void 0===e?void 0:e.message,null===(n=U.title)||void 0===n?void 0:n.message,null===(t=U.gradeLevels)||void 0===t?void 0:t.message]);var tn=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:He.mutate((0,S.Z)((0,S.Z)({},n),{},{videos:Ue,pdfFiles:Qe}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nn.refetch(),ne(null),oe(null),de(null),Ze(null),ye([]),We([]),Ge([]);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),rn=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),Ye.mutate((0,S.Z)({id:Y.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(I(!1),en.refetch(),_.Am.success(n.message),J({doUpdate:!1,data:"",id:null}),ne(null),oe(null)):(I(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{className:x.container,children:[(0,m.jsx)(o.Z,{sx:{width:500},children:(0,m.jsxs)("form",{onSubmit:Y.doUpdate?T(rn):T(tn),children:[(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ee&&void 0!==ee?ee:[]},L("gradeLevel")),{},{inputRef:Z,onChange:function(e){ne(e.target.value),oe(null),de(null),Ze(null),ye([])},children:!(null!==Ke&&void 0!==Ke&&Ke.isLoading)&&(null===Ke||void 0===Ke||null===(i=Ke.data)||void 0===i?void 0:i.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ie&&void 0!==ie?ie:[]},L("book")),{},{inputRef:g,onChange:function(e){oe(e.target.value),de(null),Ze(null),ye([])},children:!(null!==Je&&void 0!==Je&&Je.isLoading)&&void 0!=(null===Je||void 0===Je?void 0:Je.data)&&(null===Je||void 0===Je||null===(s=Je.data)||void 0===s?void 0:s.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ue&&void 0!==ue?ue:[]},L("chapter")),{},{inputRef:j,onChange:function(e){de(e.target.value),Ze(null),ye([])},children:!(null!==Xe&&void 0!==Xe&&Xe.isLoading)&&void 0!=(null===Xe||void 0===Xe?void 0:Xe.data)&&(null===Xe||void 0===Xe||null===(f=Xe.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0628\u062e\u0634"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==xe&&void 0!==xe?xe:[]},L("section")),{},{inputRef:b,onChange:function(e){Ze(e.target.value),ye([])},children:!(null!==$e&&void 0!==$e&&$e.isLoading)&&void 0!=(null===$e||void 0===$e?void 0:$e.data)&&(null===$e||void 0===$e||null===(p=$e.data)||void 0===p?void 0:p.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0648\u0636\u0648\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==we&&void 0!==we?we:[]},L("subject")),{},{inputRef:w,onChange:function(e){ye(e.target.value)},children:!(null!==en&&void 0!==en&&en.isLoading)&&void 0!=(null===en||void 0===en?void 0:en.data)&&(null===en||void 0===en||null===(v=en.data)||void 0===v?void 0:v.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),we&&(null===we||void 0===we?void 0:we.length)>0&&(0,m.jsxs)(o.Z,{sx:{width:"510px",backgroundColor:"#ededed",padding:"10px",alignItems:"center",justifyContent:"center",borderRadius:"12px"},children:[(0,m.jsxs)(o.Z,{sx:{width:"100%"},children:[(0,m.jsx)(R.Z,{label:"\u0639\u0646\u0648\u0627\u0646 \u0648\u06cc\u062f\u06cc\u0648 ",variant:"outlined",className:x.formField,value:ke,onChange:function(e){Ae(e.target.value)}}),(0,m.jsx)(R.Z,{label:"\u0644\u06cc\u0646\u06a9 \u0648\u06cc\u062f\u06cc\u0648",variant:"outlined",className:x.formField,value:Ne,onChange:function(e){Te(e.target.value)}})]}),(0,m.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,m.jsxs)(o.Z,{sx:{width:"350px",alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(a.Z,{textAlign:"center",children:"\u0644\u06cc\u0633\u062a \u0648\u06cc\u062f\u06cc\u0648\u0647\u0627"}),(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0644\u06cc\u0646\u06a9"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:Ue.map((function(e,n){var t,r;return{id:n,data:{title:null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:"-",link:null!==(r=null===e||void 0===e?void 0:e.link)&&void 0!==r?r:"-",action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){var t,r;Me(n),Ae(null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:""),Te(null!==(r=null===e||void 0===e?void 0:e.link)&&void 0!==r?r:"")},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0648\u06cc\u062f\u06cc\u0648 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return We(Ue.filter((function(e,t){return t!==n})))},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}}))})]}),(0,m.jsxs)(o.Z,{sx:{width:"130px"},children:[(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,sx:{width:"130px !important",height:"40px",position:"relative"},onClick:function(){if(-1===Ie){var e={title:ke,link:Ne};We([].concat((0,u.Z)(Ue),[e]))}else{var n={title:ke,link:Ne};We(Ue.map((function(e,t){return Ie===t?n:e}))),Me(-1)}Ae(""),Te("")},children:-1===Ie?"\u0627\u0641\u0632\u0648\u062f\u0646 \u0648\u06cc\u062f\u06cc\u0648":"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0648\u06cc\u062f\u06cc\u0648"}),-1!==Ie&&(0,m.jsx)(c.Z,{variant:"contained",color:"secondary",className:x.formButton,disabled:P,sx:{width:"130px !important",height:"40px",position:"relative"},onClick:function(){Me(-1),Ae(""),Te("")},children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})]}),we&&(null===we||void 0===we?void 0:we.length)>0&&(0,m.jsxs)(o.Z,{sx:{width:"510px",backgroundColor:"#ededed",padding:"10px",alignItems:"center",justifyContent:"center",borderRadius:"12px",marginTop:"10px"},children:[(0,m.jsx)("input",{type:"file",accept:".pdf",multiple:!0,ref:function(e){y.current=e},hidden:!0,onChange:function(e){!function(e){if(y.current.files&&0!==y.current.files.length){var n=Array.from(e.target.files);Ge([].concat((0,u.Z)(Qe),n))}else Ge(void 0)}(e)}}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,onClick:function(){return y.current.click()},children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644 PDF"}),(0,m.jsxs)(o.Z,{sx:{width:"100%",alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(a.Z,{textAlign:"center",children:"\u0644\u06cc\u0633\u062a \u0641\u0627\u06cc\u0644 pdf"}),(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u062d\u062c\u0645 KB"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:Qe.map((function(e,n){var t,r;return{id:n,data:{title:null!==(t=e.name)&&void 0!==t?t:"-",link:null!==(r=(0,yn.B2)(e.size))&&void 0!==r?r:"-",action:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){!function(e){var n=Qe.filter((function(n){return n!==e}));Ge(n)}(e)},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})})}}}))})]})]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,type:"submit",children:P?(0,m.jsx)(F.Z,{size:24}):Y.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:x.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0633\u0648\u0627\u0644\u0627\u062a \u062a\u0634\u0631\u06cc\u062d\u06cc"}),nn.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===nn||void 0===nn||null===(h=nn.data)||void 0===h?void 0:h.map((function(e,n){return{id:e._id,data:{title:"".concat(n+1," \u0633\u0648\u0627\u0644 \u062a\u0634\u0631\u06cc\u062d\u06cc"),action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){J({doUpdate:!0,data:"",id:e._id}),We(e.videos.map((function(e){return"string"===typeof e?JSON.parse(e):e}))),console.log("item pdfFile => ",e.pdfFiles)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void Ve.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(I(!1),nn.refetch(),_.Am.success(n.message)):(I(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:z,count:1,rowsPerPage:K,onChange:function(e,n){Q(n)},onRowsPerPageChange:function(){}}})]})]})},Wn=function(){return(0,T.useMutation)((function(e){return L.Q0.tipAndTestControllerCreate((0,S.Z)({},e))}))},Bn=function(){return(0,T.useMutation)((function(e){return L.Q0.tipAndTestControllerRemove(e)}))},On=function(){return(0,T.useMutation)((function(e){return L.Q0.tipAndTestControllerUpdate(e.id,(0,S.Z)({},e))}))},qn=function(e){return(0,T.useQuery)(["Get-All-Tip-And-Test-Based-On-Subject"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.Q0.tipAndTestControllerFindTipAndTestBasedOnSubject(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},Pn=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),In=function(){var e,n,t,i,s,f,p,v,h,x=Pn(),Z=(0,r.useRef)(),g=(0,r.useRef)(),j=(0,r.useRef)(),b=(0,r.useRef)(),w=(0,r.useRef)(),y=(0,r.useRef)(),C=(0,N.cI)(),T=C.handleSubmit,L=C.register,E=C.clearErrors,U=C.formState.errors;(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var W=(0,r.useState)(!1),B=(0,d.Z)(W,2),P=B[0],I=B[1],M=(0,r.useState)(1),D=(0,d.Z)(M,2),z=D[0],Q=D[1],G=(0,r.useState)(10),K=(0,d.Z)(G,1)[0],H=(0,r.useState)({doUpdate:!1,data:"",id:null}),V=(0,d.Z)(H,2),Y=V[0],J=V[1],X=(0,r.useState)([]),$=(0,d.Z)(X,2),ee=$[0],ne=$[1],te=(0,r.useState)(ee),re=(0,d.Z)(te,2),ie=re[0],oe=re[1],ae=r.useState(ie),se=(0,d.Z)(ae,2),ue=se[0],de=se[1],ce=(0,r.useState)(ue),he=(0,d.Z)(ce,2),xe=he[0],Ze=he[1],ge=(0,r.useState)(),be=(0,d.Z)(ge,2),we=be[0],ye=be[1],Ce=(0,r.useState)(""),Se=(0,d.Z)(Ce,2),ke=Se[0],Ae=Se[1],Re=(0,r.useState)(""),Fe=(0,d.Z)(Re,2),Ne=Fe[0],Te=Fe[1],Le=(0,r.useState)([]),Ee=(0,d.Z)(Le,2),Ue=Ee[0],We=Ee[1],Be=(0,r.useState)(-1),Oe=(0,d.Z)(Be,2),Ie=Oe[0],Me=Oe[1],De=(0,r.useState)([]),ze=(0,d.Z)(De,2),Qe=ze[0],Ge=ze[1],Ke=je(),He=Wn(),Ve=Bn(),Ye=On(),Je=_e(0==(null===ee||void 0===ee?void 0:ee.length)?null:ee),Xe=qe(0==(null===ie||void 0===ie?void 0:ie.length)?null:ie),$e=Pe(0==(null===ue||void 0===ue?void 0:ue.length)?null:ue),en=dn(0==(null===xe||void 0===xe?void 0:xe.length)?null:xe),nn=qn(0==(null===we||void 0===we?void 0:we.length)?[null]:[we]);(0,r.useEffect)((function(){ee&&Je.refetch()}),[ee]),(0,r.useEffect)((function(){ie&&Xe.refetch()}),[ie]),(0,r.useEffect)((function(){ue&&$e.refetch()}),[ue]),(0,r.useEffect)((function(){xe&&en.refetch()}),[xe]),(0,r.useEffect)((function(){we&&nn.refetch()}),[we]),(0,r.useEffect)((function(){var e,n,t,r,i,o;_.Am.error(null===(e=U.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=U.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=U.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),E()}),[null===(e=U.books)||void 0===e?void 0:e.message,null===(n=U.title)||void 0===n?void 0:n.message,null===(t=U.gradeLevels)||void 0===t?void 0:t.message]);var tn=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:He.mutate((0,S.Z)((0,S.Z)({},n),{},{videos:Ue,pdfFiles:Qe}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nn.refetch(),ne(null),oe(null),de(null),Ze(null),ye([]),We([]),Ge([]);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),rn=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),Ye.mutate((0,S.Z)({id:Y.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(I(!1),en.refetch(),_.Am.success(n.message),J({doUpdate:!1,data:"",id:null}),ne(null),oe(null)):(I(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{className:x.container,children:[(0,m.jsx)(o.Z,{sx:{width:500},children:(0,m.jsxs)("form",{onSubmit:Y.doUpdate?T(rn):T(tn),children:[(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ee&&void 0!==ee?ee:[]},L("gradeLevel")),{},{inputRef:Z,onChange:function(e){ne(e.target.value),oe(null),de(null),Ze(null),ye([])},children:!(null!==Ke&&void 0!==Ke&&Ke.isLoading)&&(null===Ke||void 0===Ke||null===(i=Ke.data)||void 0===i?void 0:i.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ie&&void 0!==ie?ie:[]},L("book")),{},{inputRef:g,onChange:function(e){oe(e.target.value),de(null),Ze(null),ye([])},children:!(null!==Je&&void 0!==Je&&Je.isLoading)&&void 0!=(null===Je||void 0===Je?void 0:Je.data)&&(null===Je||void 0===Je||null===(s=Je.data)||void 0===s?void 0:s.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ue&&void 0!==ue?ue:[]},L("chapter")),{},{inputRef:j,onChange:function(e){de(e.target.value),Ze(null),ye([])},children:!(null!==Xe&&void 0!==Xe&&Xe.isLoading)&&void 0!=(null===Xe||void 0===Xe?void 0:Xe.data)&&(null===Xe||void 0===Xe||null===(f=Xe.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0628\u062e\u0634"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==xe&&void 0!==xe?xe:[]},L("section")),{},{inputRef:b,onChange:function(e){Ze(e.target.value),ye([])},children:!(null!==$e&&void 0!==$e&&$e.isLoading)&&void 0!=(null===$e||void 0===$e?void 0:$e.data)&&(null===$e||void 0===$e||null===(p=$e.data)||void 0===p?void 0:p.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0648\u0636\u0648\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==we&&void 0!==we?we:[]},L("subject")),{},{inputRef:w,onChange:function(e){ye(e.target.value)},children:!(null!==en&&void 0!==en&&en.isLoading)&&void 0!=(null===en||void 0===en?void 0:en.data)&&(null===en||void 0===en||null===(v=en.data)||void 0===v?void 0:v.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),we&&(null===we||void 0===we?void 0:we.length)>0&&(0,m.jsxs)(o.Z,{sx:{width:"510px",backgroundColor:"#ededed",padding:"10px",alignItems:"center",justifyContent:"center",borderRadius:"12px"},children:[(0,m.jsxs)(o.Z,{sx:{width:"100%"},children:[(0,m.jsx)(R.Z,{label:"\u0639\u0646\u0648\u0627\u0646 \u0648\u06cc\u062f\u06cc\u0648 ",variant:"outlined",className:x.formField,value:ke,onChange:function(e){Ae(e.target.value)}}),(0,m.jsx)(R.Z,{label:"\u0644\u06cc\u0646\u06a9 \u0648\u06cc\u062f\u06cc\u0648",variant:"outlined",className:x.formField,value:Ne,onChange:function(e){Te(e.target.value)}})]}),(0,m.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,m.jsxs)(o.Z,{sx:{width:"350px",alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(a.Z,{textAlign:"center",children:"\u0644\u06cc\u0633\u062a \u0648\u06cc\u062f\u06cc\u0648\u0647\u0627"}),(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0644\u06cc\u0646\u06a9"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:Ue.map((function(e,n){var t,r;return{id:n,data:{title:null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:"-",link:null!==(r=null===e||void 0===e?void 0:e.link)&&void 0!==r?r:"-",action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){var t,r;Me(n),Ae(null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:""),Te(null!==(r=null===e||void 0===e?void 0:e.link)&&void 0!==r?r:"")},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0648\u06cc\u062f\u06cc\u0648 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return We(Ue.filter((function(e,t){return t!==n})))},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}}))})]}),(0,m.jsxs)(o.Z,{sx:{width:"130px"},children:[(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,sx:{width:"130px !important",height:"40px",position:"relative"},onClick:function(){if(-1===Ie){var e={title:ke,link:Ne};We([].concat((0,u.Z)(Ue),[e]))}else{var n={title:ke,link:Ne};We(Ue.map((function(e,t){return Ie===t?n:e}))),Me(-1)}Ae(""),Te("")},children:-1===Ie?"\u0627\u0641\u0632\u0648\u062f\u0646 \u0648\u06cc\u062f\u06cc\u0648":"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0648\u06cc\u062f\u06cc\u0648"}),-1!==Ie&&(0,m.jsx)(c.Z,{variant:"contained",color:"secondary",className:x.formButton,disabled:P,sx:{width:"130px !important",height:"40px",position:"relative"},onClick:function(){Me(-1),Ae(""),Te("")},children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})]}),we&&(null===we||void 0===we?void 0:we.length)>0&&(0,m.jsxs)(o.Z,{sx:{width:"510px",backgroundColor:"#ededed",padding:"10px",alignItems:"center",justifyContent:"center",borderRadius:"12px",marginTop:"10px"},children:[(0,m.jsx)("input",{type:"file",accept:".pdf",multiple:!0,ref:function(e){y.current=e},hidden:!0,onChange:function(e){!function(e){if(y.current.files&&0!==y.current.files.length){var n=Array.from(e.target.files);Ge([].concat((0,u.Z)(Qe),n))}else Ge(void 0)}(e)}}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,onClick:function(){return y.current.click()},children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644 PDF"}),(0,m.jsxs)(o.Z,{sx:{width:"100%",alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(a.Z,{textAlign:"center",children:"\u0644\u06cc\u0633\u062a \u0641\u0627\u06cc\u0644 pdf"}),(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u062d\u062c\u0645 KB"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:Qe.map((function(e,n){var t,r;return{id:n,data:{title:null!==(t=e.name)&&void 0!==t?t:"-",link:null!==(r=(0,yn.B2)(e.size))&&void 0!==r?r:"-",action:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){!function(e){var n=Qe.filter((function(n){return n!==e}));Ge(n)}(e)},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})})}}}))})]})]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,type:"submit",children:P?(0,m.jsx)(F.Z,{size:24}):Y.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:x.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0646\u06a9\u062a\u0647 \u0648 \u062a\u0633\u062a"}),nn.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===nn||void 0===nn||null===(h=nn.data)||void 0===h?void 0:h.map((function(e,n){return{id:e._id,data:{title:"".concat(n+1," \u0646\u06a9\u062a\u0647 \u0648 \u062a\u0633\u062a"),action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){J({doUpdate:!0,data:"",id:e._id}),We(e.videos.map((function(e){return"string"===typeof e?JSON.parse(e):e}))),console.log("item pdfFile => ",e.pdfFiles)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void Ve.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(I(!1),nn.refetch(),_.Am.success(n.message)):(I(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:z,count:1,rowsPerPage:K,onChange:function(e,n){Q(n)},onRowsPerPageChange:function(){}}})]})]})},Mn=t(3208),Dn=t(1347),zn=t(2968),Qn=t(3475),Gn=function(){return(0,T.useQuery)(["Get-All-Main-Objective-Tests"],(0,A.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.AA.objectiveTestControllerFindMainObjectiveTest();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1})},Kn=function(){return(0,T.useMutation)((function(e){return L.o5.objectiveTestManagementControllerCreate((0,S.Z)({},e))}))},Hn=function(){return(0,T.useMutation)((function(e){return L.o5.objectiveTestManagementControllerRemove(e)}))},Vn=function(e,n){return(0,T.useQuery)(["Get-All-Objective-Test-Managements"],(0,A.Z)((0,k.Z)().mark((function t(){return(0,k.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.o5.objectiveTestManagementControllerFindAll(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),{refetchOnWindowFocus:!1})},Yn=function(){return(0,T.useMutation)((function(e){return L.o5.objectiveTestManagementControllerUpdate(e.id,(0,S.Z)({},e))}))},Jn=["onChange"],Xn=["onChange"],$n=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},ObjectiveTestManagement:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},durationField:{margin:"1rem",width:"100%",display:"none"},editorField:{margin:"2rem 0"},specialField:{margin:"1rem"}}})),et=function(e){var n,t,i,s,u=$n();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var f=(0,N.cI)(),p=f.handleSubmit,v=f.register,h=f.control,x=(f.formState.errors,r.useState()),Z=(0,d.Z)(x,2),g=Z[0],j=Z[1],b=(0,r.useRef)(),w=(0,r.useState)(!1),y=(0,d.Z)(w,2),C=y[0],R=y[1],T=(0,r.useState)(0),L=(0,d.Z)(T,2),E=L[0],U=L[1],W=(0,r.useState)(0),B=(0,d.Z)(W,2),P=B[0],M=B[1],D=(0,r.useState)(5),z=(0,d.Z)(D,2),Q=z[0],G=(z[1],(0,r.useState)(0)),K=(0,d.Z)(G,2),H=K[0],V=K[1],Y=(0,r.useState)(),J=(0,d.Z)(Y,2),X=J[0],$=J[1],ee=(0,r.useState)(),ne=(0,d.Z)(ee,2),te=ne[0],re=ne[1],ie=r.useState(),oe=(0,d.Z)(ie,2),ae=oe[0],se=oe[1],ue=(0,r.useRef)(),de=(0,r.useState)(!1),ce=(0,d.Z)(de,2)[1],he=(0,r.useState)([]),xe=(0,d.Z)(he,2),Ze=xe[0],ge=(xe[1],(0,r.useState)([])),je=((0,d.Z)(ge,2)[1],Vn(0===E?1:E,Q));(0,r.useEffect)((function(){Ze.length>0&&je.refetch()}),[Ze]),(0,r.useEffect)((function(){E>0&&je.refetch()}),[E]),(0,r.useEffect)((function(){var e,n,t,r,i;!je.isLoading&&null!==je&&void 0!==je&&null!==(e=je.data)&&void 0!==e&&e.objectiveTests&&(U(parseInt(null!==(n=null===je||void 0===je||null===(t=je.data)||void 0===t?void 0:t.currentPage)&&void 0!==n?n:1)),V(null!==(r=null===je||void 0===je||null===(i=je.data)||void 0===i?void 0:i.totalPages)&&void 0!==r?r:1))}),[null===je||void 0===je?void 0:je.data]);var be=Gn(),we=hn(g),ye=Kn(),Ce=Yn();(0,r.useEffect)((function(){we.refetch()}),[g]);var Se=on(),ke=Hn(),Ae=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!0),ye.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(R(!1),je.refetch(),_.Am.success(n.message)):(R(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Re=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!0),n.id=P,Ce.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(R(!1),_.Am.success(n.message),je.refetch()):(R(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:u.container,children:(0,m.jsxs)("form",{onSubmit:p(P?Re:Ae),children:[(0,m.jsxs)(fe.Z,{className:u.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0622\u0632\u0645\u0648\u0646"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==g&&void 0!==g?g:""},v("objectiveTest",{required:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0622\u0632\u0645\u0648\u0646 \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"})),{},{inputRef:b,onChange:function(e){j(e.target.value)},children:!(null!==be&&void 0!==be&&be.isLoading)&&(null===be||void 0===be||null===(n=be.data)||void 0===n?void 0:n.map((function(e){var n;return(0,m.jsx)(ve.Z,{value:null===e||void 0===e?void 0:e._id,children:"".concat(null===e||void 0===e||null===(n=e.gradeLevel[0])||void 0===n?void 0:n.title," - ").concat(null===e||void 0===e?void 0:e.number," - ").concat("main"==(null===e||void 0===e?void 0:e.type)?"\u0627\u0635\u0644\u06cc":"\u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644")},null===e||void 0===e?void 0:e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:u.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ae&&void 0!==ae?ae:""},v("bookReferences",{required:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628 \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a"})),{},{inputRef:ue,onChange:function(e){se(e.target.value)},children:!(null!==we&&void 0!==we&&we.isLoading)&&(null===we||void 0===we||null===(t=we.data)||void 0===t?void 0:t.map((function(e){return(0,m.jsx)(ve.Z,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.title},null===e||void 0===e?void 0:e._id)})))}))," "]}),(0,m.jsx)(o.Z,{className:u.specialField,children:(0,m.jsx)(N.Qr,{name:"start",control:h,render:function(e){var n=e.field,t=n.onChange;(0,I.Z)(n,Jn);return(0,m.jsx)(Mn._,{dateAdapter:zn.Y,children:(0,m.jsx)(Dn.x,{label:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0622\u0632\u0645\u0648\u0646",onChange:function(e){t(e)},value:X,components:{OpenPickerIcon:O.qHq}})})}})}),(0,m.jsx)(o.Z,{className:u.specialField,children:(0,m.jsx)(N.Qr,{name:"end",control:h,render:function(e){var n=e.field,t=n.onChange;(0,I.Z)(n,Xn);return(0,m.jsx)(Mn._,{dateAdapter:zn.Y,children:(0,m.jsx)(Dn.x,{label:"\u062a\u0627\u0631\u06cc\u062e \u0627\u062a\u0645\u0627\u0645 \u0622\u0632\u0645\u0648\u0646",onChange:function(e){t(e)},value:te,components:{OpenPickerIcon:O.qHq}})})}})}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:u.specialField,type:"submit",children:C?(0,m.jsx)(F.Z,{size:24}):P?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:u.specialField,onClick:function(){return function(){if(!g)return _.Am.error("\u0627\u0628\u062a\u062f\u0627 \u06cc\u06a9 \u0622\u0632\u0645\u0648\u0646 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f");R(!0),Se.mutate({id:g,isPublished:!0},{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===n.statusCode?(R(!1),_.Am.success("\u0622\u0632\u0645\u0648\u0646 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0645\u0646\u062a\u0634\u0631 \u0634\u062f")):(R(!1),(0,_.Am)(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})}()},children:"\u0627\u0646\u062a\u0634\u0627\u0631"})]})}),(0,m.jsxs)(o.Z,{className:u.ObjectiveTestManagement,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u0645\u062f\u06cc\u0631\u06cc\u062a \u0622\u0632\u0645\u0648\u0646\u200c\u0647\u0627"}),!je.isLoading&&null!==je&&void 0!==je&&je.data?(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===je||void 0===je||null===(i=je.data)||void 0===i||null===(s=i.objectiveTests)||void 0===s?void 0:s.map((function(e,n){var t,r,i,o,a,s,u,d;return{id:e._id,data:{title:"".concat("main"==(null===e||void 0===e||null===(t=e.objectiveTest[0])||void 0===t?void 0:t.type)?"\u0627\u0635\u0644\u06cc":"\u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644"," - ").concat(null===e||void 0===e||null===(r=e.objectiveTest[0])||void 0===r?void 0:r.number," - ").concat(null===e||void 0===e||null===(i=e.objectiveTest[0])||void 0===i?void 0:i.gradeLevel[0].title," - ").concat(null===e||void 0===e||null===(o=e.bookReferences[0])||void 0===o?void 0:o.title),action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){var n,t;ce(!0),j(null===e||void 0===e||null===(n=e.objectiveTest[0])||void 0===n?void 0:n._id);var r=(0,Qn.Z)(null===e||void 0===e?void 0:e.start),i=(0,Qn.Z)(null===e||void 0===e?void 0:e.end);$(r),re(i),M(e._id),se(null===e||void 0===e||null===(t=e.bookReferences[0])||void 0===t?void 0:t._id),setTimeout((function(){b.current.focus()}),200),setTimeout((function(){ue.current.focus()}),300)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0622\u0632\u0645\u0648\u0646 ".concat("main"==e.type?"\u0627\u0635\u0644\u06cc":"\u0631\u0641\u0639 \u0627\u0634\u06a9\u0627\u0644"," - ").concat(null===e||void 0===e||null===(a=e.objectiveTest[0])||void 0===a?void 0:a.number," -  ").concat(null===e||void 0===e||null===(s=e.objectiveTest[0])||void 0===s||null===(u=s.gradeLevel[0])||void 0===u?void 0:u.title," - ").concat(null===e||void 0===e||null===(d=e.bookReferences[0])||void 0===d?void 0:d.title,"  \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f"),onConfirm:function(){!function(e){ke.mutate(e,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===n.statusCode?(R(!1),(0,_.Am)(n.message),je.refetch()):(R(!1),(0,_.Am)(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()})}(e._id)},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:E,count:H,rowsPerPage:Q,onChange:function(e,n){U(n)},onRowsPerPageChange:function(){}}}):(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."})]})]})},nt=function(){return(0,T.useMutation)((function(e){return L.AX.bookReferenceControllerCreate((0,S.Z)({},e))}))},tt=function(){return(0,T.useMutation)((function(e){return L.AX.bookReferenceControllerUpdate(e.id,(0,S.Z)((0,S.Z)({},e),{},{image:e.image[0]}))}))},rt=function(){return(0,T.useMutation)((function(e){return L.AX.bookReferenceControllerRemove(e)}))},it=["ref","onChange"],ot=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",flexWrap:"wrap",maxWidth:"600px"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),at=function(e){var n=ot();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var t=(0,r.useState)(!1),i=(0,d.Z)(t,2),s=i[0],u=i[1],f=nt(),p=tt(),v=(0,r.useRef)(),h=(0,r.useRef)(),x=ye(),Z=rt(),g=(0,r.useState)(1),j=(0,d.Z)(g,2),b=j[0],w=j[1],y=(0,r.useState)(10),C=(0,d.Z)(y,1)[0],T=(0,r.useState)({doUpdate:!1,data:"",id:null}),L=(0,d.Z)(T,2),E=L[0],U=L[1],W=(0,r.useState)(),B=(0,d.Z)(W,2),P=B[0],M=B[1],D=(0,r.useState)(),z=(0,d.Z)(D,2),Q=z[0],G=z[1],K=r.useState([]),H=(0,d.Z)(K,2),V=H[0],Y=H[1],J=je(),X=(0,r.useRef)();(0,r.useEffect)((function(){if(Q){var e=URL.createObjectURL(Q);return M(e),function(){return URL.revokeObjectURL(e)}}M(void 0)}),[Q]);(0,r.useRef)(null);var $=(0,r.useState)({doUpdate:!1,data:"",id:null}),ee=(0,d.Z)($,2),ne=(ee[0],ee[1]),te=(0,N.cI)(),re=te.handleSubmit,ie=te.register,oe=(te.formState.errors,ie("image")),ae=oe.ref,se=oe.onChange,ue=(0,I.Z)(oe,it),de=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),f.mutate((0,S.Z)((0,S.Z)({},n),{},{image:n.image[0]}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),x.refetch(),_.Am.success(n.message)):(u(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ce=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),p.mutate((0,S.Z)({id:E.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),x.refetch(),_.Am.success(n.message),U({doUpdate:!1,data:"",id:null}),ne({doUpdate:!1,data:"",id:null}),Y(null),M(we.f.BASE+"/"+void 0)):(u(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{display:"flex",children:[(0,m.jsx)(o.Z,{className:n.container,children:(0,m.jsxs)("form",{onSubmit:E.doUpdate?re(ce):re(de),children:[(0,m.jsx)(R.Z,(0,S.Z)((0,S.Z)({label:"\u0639\u0646\u0648\u0627\u0646 \u06a9\u062a\u0627\u0628 ",variant:"outlined",className:n.formField,inputRef:h,value:E.data},ie("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u06a9\u062a\u0627\u0628 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"})),{},{onChange:function(e){E.doUpdate?U({doUpdate:!0,data:e.target.value,id:E.id}):U({doUpdate:!1,data:e.target.value,id:null})}})),(0,m.jsxs)(fe.Z,{className:n.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==V&&void 0!==V?V:[]},ie("gradeLevels")),{},{inputRef:v,onChange:function(e){Y(e.target.value)},multiple:!0,children:!(null!==J&&void 0!==J&&J.isLoading)&&(null===J||void 0===J?void 0:J.data.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(o.Z,{display:"flex",position:"relative",borderRadius:"100%",mb:3,children:[Q||P?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{component:"img",src:"undefined"===String(P).split("/")[3]?be:P,alt:"test flag",width:100,height:100})}):(0,m.jsx)(o.Z,{component:"img",src:be,alt:"User flag",width:100,height:100}),(0,m.jsxs)(l.Z,{sx:{backgroundColor:"#FCF0FF",width:28,height:28,borderRadius:"8px",p:.5,position:"absolute",bottom:-10},onClick:function(){return X.current.click()},children:[(0,m.jsx)(O.fnU,{}),(0,m.jsx)("input",(0,S.Z)((0,S.Z)({},ue),{},{type:"file",ref:function(e){ae(e),X.current=e},hidden:!0,onChange:function(e){X.current.files&&0!==X.current.files.length?G(X.current.files[0]):G(void 0),se(e)}}))]})]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:n.formButton,disabled:s,type:"submit",children:s?(0,m.jsx)(F.Z,{size:24}):E.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:n.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u06a9\u062a\u0627\u0628\u200c\u0647\u0627"}),x.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===x||void 0===x?void 0:x.data.map((function(e,n){return{id:e._id,data:{title:null===e||void 0===e?void 0:e.title,action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){U({doUpdate:!0,data:e.title,id:e._id}),ne({doUpdate:!0,data:e.description,id:e._id}),Y(e.gradeLevels),setTimeout((function(){h.current.focus()}),100),setTimeout((function(){v.current.focus()}),300),M(we.f.BASE+"/"+e.image)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u06a9\u062a\u0627\u0628 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void Z.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(u(!1),x.refetch(),_.Am.success(n.message)):(u(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:b,count:1,rowsPerPage:C,onChange:function(e,n){w(n)},onRowsPerPageChange:function(){}}})]})]})},lt=function(){return(0,T.useMutation)((function(e){return L.ZU.karanbalaControllerCreate((0,S.Z)({},e))}))},st=function(){return(0,T.useMutation)((function(e){return L.ZU.karanbalaControllerRemove(e)}))},ut=function(){return(0,T.useMutation)((function(e){return L.ZU.karanbalaControllerUpdate(e.id,(0,S.Z)({},e))}))},dt=function(e){return(0,T.useQuery)(["Get-All-Karanbala-Based-On-Subject"],(0,A.Z)((0,k.Z)().mark((function n(){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.ZU.karanbalaControllerFindKaranbalaBasedOnSubject(e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{refetchOnWindowFocus:!1,enabled:!1})},ct=(0,s.Z)((function(e){return{container:{display:"flex",gap:"10px",justifyContent:"space-around"},fieldOfStudy:{margin:"0 50px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),ft=function(){var e,n,t,i,s,f,p,v,h,x=ct(),Z=(0,r.useRef)(),g=(0,r.useRef)(),j=(0,r.useRef)(),b=(0,r.useRef)(),w=(0,r.useRef)(),y=(0,r.useRef)(),C=(0,N.cI)(),T=C.handleSubmit,L=C.register,E=C.clearErrors,U=C.formState.errors;(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var W=(0,r.useState)(!1),B=(0,d.Z)(W,2),P=B[0],I=B[1],M=(0,r.useState)(1),D=(0,d.Z)(M,2),z=D[0],Q=D[1],G=(0,r.useState)(10),K=(0,d.Z)(G,1)[0],H=(0,r.useState)({doUpdate:!1,data:"",id:null}),V=(0,d.Z)(H,2),Y=V[0],J=V[1],X=(0,r.useState)([]),$=(0,d.Z)(X,2),ee=$[0],ne=$[1],te=(0,r.useState)(ee),re=(0,d.Z)(te,2),ie=re[0],oe=re[1],ae=r.useState(ie),se=(0,d.Z)(ae,2),ue=se[0],de=se[1],ce=(0,r.useState)(ue),he=(0,d.Z)(ce,2),xe=he[0],Ze=he[1],ge=(0,r.useState)(),be=(0,d.Z)(ge,2),we=be[0],ye=be[1],Ce=(0,r.useState)(""),Se=(0,d.Z)(Ce,2),ke=Se[0],Ae=Se[1],Re=(0,r.useState)(""),Fe=(0,d.Z)(Re,2),Ne=Fe[0],Te=Fe[1],Le=(0,r.useState)([]),Ee=(0,d.Z)(Le,2),Ue=Ee[0],We=Ee[1],Be=(0,r.useState)(-1),Oe=(0,d.Z)(Be,2),Ie=Oe[0],Me=Oe[1],De=(0,r.useState)([]),ze=(0,d.Z)(De,2),Qe=ze[0],Ge=ze[1],Ke=je(),He=lt(),Ve=st(),Ye=ut(),Je=_e(0==(null===ee||void 0===ee?void 0:ee.length)?null:ee),Xe=qe(0==(null===ie||void 0===ie?void 0:ie.length)?null:ie),$e=Pe(0==(null===ue||void 0===ue?void 0:ue.length)?null:ue),en=dn(0==(null===xe||void 0===xe?void 0:xe.length)?null:xe),nn=dt(0==(null===we||void 0===we?void 0:we.length)?[null]:[we]);(0,r.useEffect)((function(){ee&&Je.refetch()}),[ee]),(0,r.useEffect)((function(){ie&&Xe.refetch()}),[ie]),(0,r.useEffect)((function(){ue&&$e.refetch()}),[ue]),(0,r.useEffect)((function(){xe&&en.refetch()}),[xe]),(0,r.useEffect)((function(){we&&nn.refetch()}),[we]),(0,r.useEffect)((function(){var e,n,t,r,i,o;_.Am.error(null===(e=U.books)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()),_.Am.error(null===(t=U.title)||void 0===t||null===(r=t.message)||void 0===r?void 0:r.toString()),_.Am.error(null===(i=U.gradeLevels)||void 0===i||null===(o=i.message)||void 0===o?void 0:o.toString()),E()}),[null===(e=U.books)||void 0===e?void 0:e.message,null===(n=U.title)||void 0===n?void 0:n.message,null===(t=U.gradeLevels)||void 0===t?void 0:t.message]);var tn=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:He.mutate((0,S.Z)((0,S.Z)({},n),{},{videos:Ue,pdfFiles:Qe}),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nn.refetch(),ne(null),oe(null),de(null),Ze(null),ye([]),We([]),Ge([]);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),rn=function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),Ye.mutate((0,S.Z)({id:Y.id},n),{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(I(!1),en.refetch(),_.Am.success(n.message),J({doUpdate:!1,data:"",id:null}),ne(null),oe(null)):(I(!1),Array.isArray(n.message)?_.Am.error((0,m.jsx)("ul",{children:n.message.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})):_.Am.error((0,m.jsx)("ul",{children:(0,m.jsx)("li",{children:n.message},n.message)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.Am.error(n.message);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.Z,{className:x.container,children:[(0,m.jsx)(o.Z,{sx:{width:500},children:(0,m.jsxs)("form",{onSubmit:Y.doUpdate?T(rn):T(tn),children:[(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u067e\u0627\u06cc\u0647"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ee&&void 0!==ee?ee:[]},L("gradeLevel")),{},{inputRef:Z,onChange:function(e){ne(e.target.value),oe(null),de(null),Ze(null),ye([])},children:!(null!==Ke&&void 0!==Ke&&Ke.isLoading)&&(null===Ke||void 0===Ke||null===(i=Ke.data)||void 0===i?void 0:i.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u062a\u0627\u0628"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ie&&void 0!==ie?ie:[]},L("book")),{},{inputRef:g,onChange:function(e){oe(e.target.value),de(null),Ze(null),ye([])},children:!(null!==Je&&void 0!==Je&&Je.isLoading)&&void 0!=(null===Je||void 0===Je?void 0:Je.data)&&(null===Je||void 0===Je||null===(s=Je.data)||void 0===s?void 0:s.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0635\u0644"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==ue&&void 0!==ue?ue:[]},L("chapter")),{},{inputRef:j,onChange:function(e){de(e.target.value),Ze(null),ye([])},children:!(null!==Xe&&void 0!==Xe&&Xe.isLoading)&&void 0!=(null===Xe||void 0===Xe?void 0:Xe.data)&&(null===Xe||void 0===Xe||null===(f=Xe.data)||void 0===f?void 0:f.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0628\u062e\u0634"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==xe&&void 0!==xe?xe:[]},L("section")),{},{inputRef:b,onChange:function(e){Ze(e.target.value),ye([])},children:!(null!==$e&&void 0!==$e&&$e.isLoading)&&void 0!=(null===$e||void 0===$e?void 0:$e.data)&&(null===$e||void 0===$e||null===(p=$e.data)||void 0===p?void 0:p.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),(0,m.jsxs)(fe.Z,{className:x.formField,fullWidth:!0,children:[(0,m.jsx)(me.Z,{id:"demo-simple-select-label",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0648\u0636\u0648\u0639"}),(0,m.jsx)(pe.Z,(0,S.Z)((0,S.Z)({value:null!==we&&void 0!==we?we:[]},L("subject")),{},{inputRef:w,onChange:function(e){ye(e.target.value)},children:!(null!==en&&void 0!==en&&en.isLoading)&&void 0!=(null===en||void 0===en?void 0:en.data)&&(null===en||void 0===en||null===(v=en.data)||void 0===v?void 0:v.map((function(e){return(0,m.jsx)(ve.Z,{value:e._id,children:e.title},e._id)})))}))]}),we&&(null===we||void 0===we?void 0:we.length)>0&&(0,m.jsxs)(o.Z,{sx:{width:"510px",backgroundColor:"#ededed",padding:"10px",alignItems:"center",justifyContent:"center",borderRadius:"12px"},children:[(0,m.jsxs)(o.Z,{sx:{width:"100%"},children:[(0,m.jsx)(R.Z,{label:"\u0639\u0646\u0648\u0627\u0646 \u0648\u06cc\u062f\u06cc\u0648 ",variant:"outlined",className:x.formField,value:ke,onChange:function(e){Ae(e.target.value)}}),(0,m.jsx)(R.Z,{label:"\u0644\u06cc\u0646\u06a9 \u0648\u06cc\u062f\u06cc\u0648",variant:"outlined",className:x.formField,value:Ne,onChange:function(e){Te(e.target.value)}})]}),(0,m.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,m.jsxs)(o.Z,{sx:{width:"350px",alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(a.Z,{textAlign:"center",children:"\u0644\u06cc\u0633\u062a \u0648\u06cc\u062f\u06cc\u0648\u0647\u0627"}),(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0644\u06cc\u0646\u06a9"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:Ue.map((function(e,n){var t,r;return{id:n,data:{title:null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:"-",link:null!==(r=null===e||void 0===e?void 0:e.link)&&void 0!==r?r:"-",action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){var t,r;Me(n),Ae(null!==(t=null===e||void 0===e?void 0:e.title)&&void 0!==t?t:""),Te(null!==(r=null===e||void 0===e?void 0:e.link)&&void 0!==r?r:"")},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0648\u06cc\u062f\u06cc\u0648 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return We(Ue.filter((function(e,t){return t!==n})))},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}}))})]}),(0,m.jsxs)(o.Z,{sx:{width:"130px"},children:[(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,sx:{width:"130px !important",height:"40px",position:"relative"},onClick:function(){if(-1===Ie){var e={title:ke,link:Ne};We([].concat((0,u.Z)(Ue),[e]))}else{var n={title:ke,link:Ne};We(Ue.map((function(e,t){return Ie===t?n:e}))),Me(-1)}Ae(""),Te("")},children:-1===Ie?"\u0627\u0641\u0632\u0648\u062f\u0646 \u0648\u06cc\u062f\u06cc\u0648":"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0648\u06cc\u062f\u06cc\u0648"}),-1!==Ie&&(0,m.jsx)(c.Z,{variant:"contained",color:"secondary",className:x.formButton,disabled:P,sx:{width:"130px !important",height:"40px",position:"relative"},onClick:function(){Me(-1),Ae(""),Te("")},children:"\u0627\u0646\u0635\u0631\u0627\u0641"})]})]})]}),we&&(null===we||void 0===we?void 0:we.length)>0&&(0,m.jsxs)(o.Z,{sx:{width:"510px",backgroundColor:"#ededed",padding:"10px",alignItems:"center",justifyContent:"center",borderRadius:"12px",marginTop:"10px"},children:[(0,m.jsx)("input",{type:"file",accept:".pdf",multiple:!0,ref:function(e){y.current=e},hidden:!0,onChange:function(e){!function(e){if(y.current.files&&0!==y.current.files.length){var n=Array.from(e.target.files);Ge([].concat((0,u.Z)(Qe),n))}else Ge(void 0)}(e)}}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,onClick:function(){return y.current.click()},children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644 PDF"}),(0,m.jsxs)(o.Z,{sx:{width:"100%",alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(a.Z,{textAlign:"center",children:"\u0644\u06cc\u0633\u062a \u0641\u0627\u06cc\u0644 pdf"}),(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u062d\u062c\u0645 KB"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:Qe.map((function(e,n){var t,r;return{id:n,data:{title:null!==(t=e.name)&&void 0!==t?t:"-",link:null!==(r=(0,yn.B2)(e.size))&&void 0!==r?r:"-",action:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){!function(e){var n=Qe.filter((function(n){return n!==e}));Ge(n)}(e)},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})})}}}))})]})]}),(0,m.jsx)(c.Z,{variant:"contained",color:"primary",className:x.formButton,disabled:P,type:"submit",children:P?(0,m.jsx)(F.Z,{size:24}):Y.doUpdate?"\u0648\u06cc\u0631\u0627\u06cc\u0634":"\u0630\u062e\u06cc\u0631\u0647"})]})}),(0,m.jsxs)(o.Z,{className:x.fieldOfStudy,children:[(0,m.jsx)(a.Z,{children:"\u0644\u06cc\u0633\u062a \u06a9\u0631\u0627\u0646 \u0628\u0627\u0644\u0627"}),nn.isLoading?(0,m.jsx)("div",{children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u06cc\u0631\u06cc..."}):(0,m.jsx)(le,{secondary:!0,headers:[{children:"\u0639\u0646\u0648\u0627\u0646"},{children:"\u0639\u0645\u0644\u06cc\u0627\u062a"}],rows:null===nn||void 0===nn||null===(h=nn.data)||void 0===h?void 0:h.map((function(e,n){return{id:e._id,data:{title:"".concat(n+1," \u06a9\u0631\u0627\u0646 \u0628\u0627\u0644\u0627"),action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{onClick:function(){J({doUpdate:!0,data:"",id:e._id}),We(e.videos.map((function(e){return"string"===typeof e?JSON.parse(e):e}))),console.log("item pdfFile => ",e.pdfFiles)},children:(0,m.jsx)(O._3A,{width:12,height:12})}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(q.q,{description:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0648\u0636\u0648\u0639 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0637\u0645\u0626\u0646  \u0647\u0633\u062a\u06cc\u062f\u061f",onConfirm:function(){return n=e._id,void Ve.mutate(n,{onSuccess:function(){var e=(0,A.Z)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(I(!1),nn.refetch(),_.Am.success(n.message)):(I(!1),_.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});var n},approved:"\u0628\u0644\u0647",denied:"\u062e\u06cc\u0631",children:(0,m.jsx)(O.TKD,{width:16,height:16})})})]})}}})),pagination:{page:z,count:1,rowsPerPage:K,onChange:function(e,n){Q(n)},onRowsPerPageChange:function(){}}})]})]})},mt=function(){var e=(0,C.v9)((function(e){return e.user}));return(0,m.jsxs)(i.Z5,{children:[(0,m.jsx)(i.AW,{path:"/field-of-study",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(ue,{})})}),(0,m.jsx)(i.AW,{path:"/grade-level",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(He,{})})}),(0,m.jsx)(i.AW,{path:"/book",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(ke,{})})}),(0,m.jsx)(i.AW,{path:"/book-reference",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(at,{})})}),(0,m.jsx)(i.AW,{path:"/chapter",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Le,{})})}),(0,m.jsx)(i.AW,{path:"/section",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(en,{})})}),(0,m.jsx)(i.AW,{path:"/subject",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Me,{})})}),(0,m.jsx)(i.AW,{path:"/",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(ce,{})})}),(0,m.jsx)(i.AW,{path:"/objective-test",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(ln,{})})}),(0,m.jsx)(i.AW,{path:"/objective-test-management",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(et,{})})}),(0,m.jsx)(i.AW,{path:"/question",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(bn,{})})}),(0,m.jsx)(i.AW,{path:"/book-intro",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(wn,{})})}),(0,m.jsx)(i.AW,{path:"/learning-material",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Fn,{})})}),(0,m.jsx)(i.AW,{path:"/essay-questions",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(Un,{})})}),(0,m.jsx)(i.AW,{path:"/tip-test",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(In,{})})}),(0,m.jsx)(i.AW,{path:"/karanbala",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(ft,{})})})]})},pt=t(1688),vt=(0,s.Z)((function(e){return{container:{margin:"32px 52px"},menu:{margin:"0 0 0 150px ",width:"300px"},button:{color:e.palette.text.primary},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,padding:"5px"}}})),ht=function(){var e,n,t,s=(0,pt.H)((function(e){return e})),u=(0,pt.M)((function(e){return e})).setAccessToken;(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var d=vt(),c=(0,i.s0)();return(0,m.jsxs)(o.Z,{className:d.container,children:[(0,m.jsxs)(o.Z,{display:"flex",justifyContent:"space-around",children:[(0,m.jsxs)(o.Z,{display:"flex",gap:"10px",children:[(0,m.jsx)(a.Z,{variant:"h5",children:null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.username}),null===s||void 0===s||null===(n=s.user)||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.map((function(e){return(0,m.jsx)(o.Z,{className:d.badge,children:(0,m.jsx)(a.Z,{variant:"body2",children:"User"===e.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},e.title)}))]}),(0,m.jsx)(o.Z,{children:(0,m.jsx)(l.Z,{className:d.button,onClick:function(){u(""),s.setUser(null),localStorage.removeItem("auth-storage"),c("/")},children:(0,m.jsx)(w.Z,{})})})]}),(0,m.jsxs)(o.Z,{display:"flex",mt:"50px",gap:"100px",flexWrap:"wrap",children:[(0,m.jsx)(o.Z,{className:d.menu,children:(0,m.jsx)(Z,{items:b})}),(0,m.jsx)(o.Z,{children:(0,m.jsx)(mt,{})})]})]})},xt=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,m.jsx)(g.Z,{})},{title:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f",to:"/pv/karanbala/dashboard",startIcon:(0,m.jsx)(j.Z,{})},{category:{children:[{title:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644"}]}}],Zt=(0,s.Z)((function(e){return{container:{margin:"32px 52px"}}})),gt=function(){var e=Zt();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,m.jsx)(o.Z,{className:e.container,children:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f"})},jt=function(){var e=(0,C.v9)((function(e){return e.user}));return(0,m.jsx)(i.Z5,{children:(0,m.jsx)(i.AW,{path:"/",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,m.jsx)(gt,{})})})})},bt=(0,s.Z)((function(e){return{container:{margin:"32px 52px"},menu:{margin:"0 0 0 150px ",width:"300px"},button:{color:e.palette.text.primary},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,padding:"5px"}}})),wt=function(){var e,n,t,s=(0,pt.H)((function(e){return e})),u=(0,pt.M)((function(e){return e})).setAccessToken;(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var d=bt(),c=(0,i.s0)();return(0,m.jsxs)(o.Z,{className:d.container,children:[(0,m.jsxs)(o.Z,{display:"flex",justifyContent:"space-around",children:[(0,m.jsxs)(o.Z,{display:"flex",gap:"10px",children:[(0,m.jsx)(a.Z,{variant:"h5",children:null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.username}),null===s||void 0===s||null===(n=s.user)||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.map((function(e){return(0,m.jsx)(o.Z,{className:d.badge,children:(0,m.jsx)(a.Z,{variant:"body2",children:"User"===e.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},e.title)}))]}),(0,m.jsx)(o.Z,{children:(0,m.jsx)(l.Z,{className:d.button,onClick:function(){u(""),s.setUser(null),c("/")},children:(0,m.jsx)(w.Z,{})})})]}),(0,m.jsxs)(o.Z,{display:"flex",mt:"50px",gap:"100px",flexWrap:"wrap",children:[(0,m.jsx)(o.Z,{className:d.menu,children:(0,m.jsx)(Z,{items:xt})}),(0,m.jsx)(o.Z,{children:(0,m.jsx)(jt,{})})]})]})},yt=t(5200),Ct=function(e){var n=e.children,t=(0,pt.M)((function(e){return e})).accessToken,i=(0,pt.H)((function(e){return e}));return(0,r.useEffect)((function(){if(t&&null===i.user){var e=(0,yt.Z)(null!==t&&void 0!==t?t:"");we.f.TOKEN=t,i.setUser(e)}else we.f.TOKEN=t}),[t,i]),(0,m.jsx)(m.Fragment,{children:n})},St=function(){var e=(0,pt.H)((function(e){return e}));return(0,m.jsx)(Ct,{children:(0,m.jsxs)(i.Z5,{children:[(0,m.jsx)(i.AW,{path:"/karanbala/dashboard/*",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,m.jsx)(wt,{})})}),(0,m.jsx)(i.AW,{path:"/karanbala/admin/*",element:(0,m.jsx)(y.Z,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,m.jsx)(ht,{})})})]})})}},6381:function(e,n,t){t.d(n,{B2:function(){return i},ko:function(){return r}});t(8970);var r=/^09\d{9}$/,i=function(e){return(e/1024).toFixed(2)}}}]);